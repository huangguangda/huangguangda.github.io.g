<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>Hello World</title>
      <link href="/2019/11/27/hello-world/"/>
      <url>/2019/11/27/hello-world/</url>
      
        <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/" target="_blank" rel="noopener">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html" target="_blank" rel="noopener">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="noopener">GitHub</a>.</p><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><pre class="line-numbers language-bash"><code class="language-bash">$ hexo new <span class="token string">"My New Post"</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>More info: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="noopener">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><pre class="line-numbers language-bash"><code class="language-bash">$ hexo server<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>More info: <a href="https://hexo.io/docs/server.html" target="_blank" rel="noopener">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><pre class="line-numbers language-bash"><code class="language-bash">$ hexo generate<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>More info: <a href="https://hexo.io/docs/generating.html" target="_blank" rel="noopener">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><pre class="line-numbers language-bash"><code class="language-bash">$ hexo deploy<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>More info: <a href="https://hexo.io/docs/one-command-deployment.html" target="_blank" rel="noopener">Deployment</a></p><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>腾讯智慧校园开发平台</title>
      <link href="/2018/10/19/1/"/>
      <url>/2018/10/19/1/</url>
      
        <content type="html"><![CDATA[<p>腾讯智慧校园开发平台</p><a id="more"></a><h2 id="腾讯智慧校园开发平台"><a href="#腾讯智慧校园开发平台" class="headerlink" title="腾讯智慧校园开发平台"></a>腾讯智慧校园开发平台</h2><p><strong>优势:</strong></p><ol><li>智慧校园联合登录</li><li>身份角色同一</li><li>消息推送</li></ol><p><strong>智慧校园接入流程:</strong></p><ol><li>创建应用: 填写网站名称,简介和图标,官网地址等信息</li><li>开发应用:</li><li>提交审核:</li><li>审核通过上线:</li></ol><h2 id="第三方应用使用指引"><a href="#第三方应用使用指引" class="headerlink" title="第三方应用使用指引"></a>第三方应用使用指引</h2><p><strong>第三方应用？</strong></p><ol><li>在“应用管理”-&gt; “本校应用”中看到。</li><li>在“应用管理”-&gt; “第三方应用”-&gt;“应用市场”中找到</li></ol><p><strong>安装后如何使用第三方应用？</strong></p><p>使用其PC管理功能，及移动端功能。</p><ol><li>使用PC管理功能<br>点击图标 -&gt; 进入应用PC管理页面</li><li>使用移动端功能<br>(1) 独立应用<br>可直接进入使用<br>(2) 普通应用<br>配置方法：登录学校后台 -&gt; 左侧菜单“应用管理” -&gt; 在“本校应用”或“第三方应用”下找到应用图标 -&gt; 点击图标右上角小齿轮 -&gt; 进入“应用基本信息”页 -&gt; 找到“移动端配置”</li></ol><h2 id="常见问题"><a href="#常见问题" class="headerlink" title="常见问题"></a>常见问题</h2><p><strong>OpenAPI调用相关问题</strong></p><blockquote><p>请完整的阅读每篇文档，特别注意必传字段及字段格式和说明</p></blockquote><ol><li>使用开放平台后台”API测试工具”</li><li>对照文档中的代码Demo</li></ol><p><strong>反馈时提供信息</strong></p><ol><li>完整的请求url，包括get参数。</li><li>post的数据。</li><li>返回的code与msg。</li><li>sign签名所用的密钥key。</li><li>提供bug的发生时间，至少要以小时为单位（年-月-日-小时），当然越具体越容易查明问题。</li></ol><h2 id="重点"><a href="#重点" class="headerlink" title="重点"></a>重点</h2><ul><li>应用接入指引【重要】</li><li>开放API说明【重要】</li></ul><p><strong>使用哪种方式调用API？</strong> ?–&gt;</p><p>1) 使用开发者方式<br>2) 使用应用（openAppID）方式</p><h3 id="开发流程"><a href="#开发流程" class="headerlink" title="开发流程"></a>开发流程</h3><p>1) 使用开发者方式<br>1.1) 学校或上级单位自己开发：<br>1.2) 以开发者身份，替学校/上级单位开发：<br>调用方式为devCode+devType+keyId，<br>其中keyId和密钥key需要找学校/上级单位创建者索要</p><h2 id="【开发流程】"><a href="#【开发流程】" class="headerlink" title="【开发流程】"></a>【开发流程】</h2><p>获取devCode、devType、密钥key，用于生成后续的sign签名</p><p>开发者类型:学校/上级单位/合作伙伴/开发者，通过创建应用开发</p><p>调用API时，开发者信息、sign签名密钥获取方式：<br>调用方式:</p><p>openAppID<br>开放平台后台==》应用管理==》查看详情==》AppID、AppSecret</p><h2 id="签名生成的步骤"><a href="#签名生成的步骤" class="headerlink" title="签名生成的步骤"></a>签名生成的步骤</h2><p>第一步：</p><p>设所有发送或者接收到的数据为集合M，将集合M内非空参数值的参数按照参数名ASCII码从小到大排序（字典序），使用URL键值对的格式（即key1=value1&amp;key2=value2…）拼接成字符串stringA。<br>特别注意以下重要规则：</p><p>参数名按ASCII码从小到大排序（字典序）；<br>如果参数的值为空不参与传参和签名；<br>参数名区分大小写；<br>get 和 post 参数均参与签名（注意：签名时不要对 get 和 post 的参数进行urlencode）；<br>sign 参数不参与签名；<br>根据HTTP协议要求，传递参数的值中如果存在特殊字符（如：&amp;、@等），那么该值需要做URL Encoding，这样请求接收方才能接收到正确的参数值。这种情况下，待签名数据应该是原始值而不是encoding之后的值。例如：调用某接口需要对请求参数email进行数字签名，那么待签名数据应该是email=test@msn.com，而不是email=test%40msn.com。</p><p>第二步</p><p>在stringA最后拼接上“&amp;key=AppSecret”得到stringSignTemp字符串，并对stringSignTemp进行MD5运算，再将得到的字符串所有字符转换为大写，得到sign值。</p><p>第三步：</p><p>拼接sign签名，得到最终请求字符串。</p><h2 id="签名算法示例"><a href="#签名算法示例" class="headerlink" title="签名算法示例"></a>签名算法示例</h2><pre><code>{    "openAppID":"597882146416",    "objectid":1,    "objType":2,    "userid":1661,    "timestamp":1442401156,    "data":{        "id": "0",        "name": "张三"    }}</code></pre><p>第一步：</p><pre><code>对参数按照key=value的格式，并按照参数名ASCII字典序排序如下：$stringA="data[id]=1&amp;data[name]=张三&amp;objType=2&amp;objectid=1&amp;openAppID=597882146416&amp;timestamp=1442401156&amp;userid=YmvhAU762R0done";</code></pre><p>第二步：</p><pre><code>拼接API密钥，md5加密并转成大写，生成sign：$stringSignTemp="stringA&amp;key=testtoken123456"$sign = strtoupper(md5($stringSignTemp));即$sign为："5F9F67A5635592A132BA935D44B25D40"</code></pre><p>第三步：</p><pre><code>对请求的数据拼接sign签名：$param = $stringA . '&amp;sign=5F9F67A5635592A132BA935D44B25D40;</code></pre><p>最终请求如下：</p><pre><code>https://open.campus.qq.com/api/OpenApi/getUserInfo?timestamp=1442401156&amp;data[id]=1&amp;data[name]=张三&amp;objType=2&amp;objectid=1&amp;openAppID=597882146416&amp;userid=1661&amp;sign=5F9F67A5635592A132BA935D44B25D40</code></pre><p>最终请求如下：</p><pre><code>https://open.campus.qq.com/api/OpenApi/getUserInfo?timestamp=1442401156&amp;data[id]=1&amp;data[name]=张三&amp;objType=2&amp;objectid=1&amp;openAppID=597882146416&amp;userid=1661&amp;sign=5F9F67A5635592A132BA935D44B25D40</code></pre><blockquote><p>【注意】</p></blockquote><p>密钥key仅作加密使用，为了保证数据安全请不要在请求参数中传递，并对密钥key进行保密。</p><h2 id="校验签名正确性"><a href="#校验签名正确性" class="headerlink" title="校验签名正确性"></a>校验签名正确性</h2><p>签名校验工具：</p><pre><code>https://pay.weixin.qq.com/wiki/doc/api/jsapi.php?chapter=20_1</code></pre><p>校验方式：选择“deeplink”或“自定义参数”<br>PS.校验不通过那个提示不用管，只要对比自己代码生成的sign签名，与工具所生成的sign签名是否一致即可</p><h3 id="【开发流程】-1"><a href="#【开发流程】-1" class="headerlink" title="【开发流程】"></a>【开发流程】</h3><p>获取devCode、devType、密钥key，用于生成后续的sign签名，详见签名参数sign生成说明</p><p>==》获取objectid、objType、userid<br>测试id详见开放平台后台-&gt;测试工具-&gt;沙盒测试环境-&gt;沙盒学校objectid</p><p>正式id详见签名参数sign生成说明、应用管理后台接入、应用H5前台接入</p><p>==》查看公共参数文档，详见API公共参数说明</p><p>==》查看API接口文档</p><p>==》根据接口参数，生成和拼接sign签名，详见签名参数sign生成说明</p><p>==》调用接口</p><p>==》调试接口<br>若接口报错，请参照以下顺序排查：<br>仔细阅读接口文档，特别是必传参数及参数格式<br>使用开放平台后台“API测试工具”，进行排查<br>对照文档中的Demo代码<br>若报签名错误，对照签名参数sign生成说明文档和文档中的“签名校验工具”</p><p>2) 使用应用（需创建应用，openAppID）</p><p>【开发流程】</p><p>登录到开放平台后台（open.campus.qq.com）</p><p>==》创建应用</p><p>==》查看应用详情，获取AppID、AppSecret、H5Secret，用于生成后续的sign签名</p><p>==》获取objectid、objType、userid<br>应用上线前，只能使用测试id，获取方式为：开放平台后台-&gt;测试工具-&gt;沙盒测试环境-&gt;沙盒学校objectid</p><p>应用上线后，正式id的获取方式，详见签名参数sign生成说明、应用管理后台接入、应用H5前台接入</p><p>==》查看公共参数文档，详见API公共参数说明</p><p>==》查看API接口文档</p><p>==》根据接口参数，生成和拼接sign签名，详见签名参数sign生成说明</p><p>==》调用接口</p><p>==》调试接口</p><p>==》沙盒测试环境，测试应用</p><p>==》测试应用无误后，申请上线</p><p>==》一般情况下，腾讯智慧校园会在3个工作日内，审核应用</p><p>==》应用审核通过后，学校/上级单位在PC后台-&gt;应用管理-&gt;第三方应用中，安装应用</p><p>==》学校/上级单位，在PC或移动端使用应用时，会将objectid、objType、userid等参数，以url参数追加的形式传递到第三方应用的url中</p><h2 id="【公共参数及签名密钥相关】"><a href="#【公共参数及签名密钥相关】" class="headerlink" title="【公共参数及签名密钥相关】"></a>【公共参数及签名密钥相关】</h2><ol><li>都有哪些公共参数？</li></ol><p>详见文档：开放API调用说明==》API公共参数说明</p><ol start="2"><li>什么是objectid、objType、userid，如何获取它们？</li></ol><p>详见文档：开放API调用说明==》签名参数sign生成说明</p><ol start="3"><li>什么是openAppID、AppSecret、H5Secret，如何获取它们？</li></ol><p>详见文档：开放API调用说明==》签名参数sign生成说明</p><ol start="4"><li>什么是devCode、devType、授权密钥、授权密钥ID，如何获取它们？</li></ol><p>详见文档：开放API调用说明==》签名参数sign生成说明</p><ol start="5"><li>如何生成和校验sign签名？</li></ol><p>详见文档：开放API调用说明==》签名参数sign生成说明，以及文档中的“签名校验工具”</p><h2 id="【OpenAPI调用方式相关】"><a href="#【OpenAPI调用方式相关】" class="headerlink" title="【OpenAPI调用方式相关】"></a>【OpenAPI调用方式相关】</h2><ol><li>API调用说明？</li></ol><p>详见文档：开放API调用说明==》API调用说明</p><ol start="2"><li>post请求参数demo？</li></ol><p>详见文档：开放API调用说明==》签名参数sign生成说明</p><ol start="3"><li>OpenAPI调用代码demo？</li></ol><p>详见文档：开放API调用说明==》Demo下载</p><h2 id="【OpenAPI调用出错相关】"><a href="#【OpenAPI调用出错相关】" class="headerlink" title="【OpenAPI调用出错相关】"></a>【OpenAPI调用出错相关】</h2><ol><li>业务错误码及说明</li></ol><p>详见文档：开放API调用说明==》业务错误码</p><ol start="2"><li>接口返回“1018 密钥不存在“或”1010 AppID或密钥不正确”</li></ol><p>请核对devCode、devType、密钥是否匹配，获取方式详见文档：开放API调用说明==》签名参数sign生成说明</p><ol start="3"><li>接口返回“1011 参数错误，请检查必传参数及类型”</li></ol><p>请核对是否传了公共参数，并确认post格式是正确的，注意post数据为数组格式</p><p>详见文档：</p><p>开放API调用说明==》API调用说明</p><p>开放API调用说明==》签名参数sign生成说明</p><p>开放API调用说明==》API公共参数说明</p><p>开放API调用说明==》Demo下载</p><ol start="4"><li>接口返回“1002 签名错误”</li></ol><p>详见文档：</p><p>开放API调用说明==》签名参数sign生成说明，以及文档中的“签名校验工具”</p><p>请仔细对照工具中的每个步骤，看看是哪一步不一致。</p><ol start="5"><li>调用发消息接口时，接口返回“1013 该学校/上级单位尚未安装此AppID应用”</li></ol><p>只有学校/上级单位创建者，在PC后台==》应用管理==》第三方应用中，安装了开发者提供的第三方应用，才能调用发消息接口，进行发消息。</p><h2 id="应用接入流程"><a href="#应用接入流程" class="headerlink" title="应用接入流程"></a>应用接入流程</h2><ol><li>简要介绍</li></ol><p>腾讯智慧校园通过开放平台来满足学校/上级单位的定制化开发需求。 学校/上级单位/合作伙伴可在开放平台创建应用、开发调试、提交审核。应用上线后，学校/上级单位可安装使用。</p><p>第三方开发者也可通过智慧校园开放平台创建并提交第三方应用，供所有学校/上级单位使用。</p><ol start="2"><li>应用类型</li></ol><p>腾讯智慧校园开放平台期待各种富于创新、安全稳定，符合校园5大使用场景的应用，包括：</p><p>（1）校内管理类应用</p><p>（2）学生学习类应用</p><p>（3）家校互动类应用</p><p>（4）移动办公类应用</p><p>（5）校园生活类应用</p><ol start="3"><li>如何创建应用</li></ol><p>（1）学校/上级单位：已加入腾讯智慧校园的学校/上级单位，将自动为其开通开放平台权限。学校超级管理员可直接登录到开放平台，创建并申请应用上线</p><p>（2）合作伙伴：签约的合作伙伴，将自动为其开通开放平台权限。合作伙伴管理员可直接登录到开放平台，创建并申请应用上线</p><p>（3）第三方公司/组织单位：需要先申请开发者资质，资质审核通过后，可登录开放平台，创建并申请应用上线。</p><ol start="4"><li>如何开发调试</li></ol><p>（1）应用程序开发</p><p>开发者可以在本地机器上进行应用程序的开发，实现业务逻辑。同时腾讯智慧校园开放平台开放了许多API，建议开发者先阅读API文档，了解不同场景下有哪些API可以调用。</p><p>（2）测试和联调</p><p>腾讯智慧校园开放平台提供的测试工具包含：沙盒学校测试环境、OpenAPI联调工具。详细信息请登录开放平台后查看“测试工具”。</p><ol start="5"><li>如何部署应用</li></ol><p>需要将应用部署在开发者自己的服务器上，因此需要自己准备服务器、域名等，并进行应用部署和测试。腾讯智慧校园暂不为该过程提供技术支持。</p><ol start="6"><li>上线规范</li></ol><p>为确保接入腾讯智慧校园开放平台应用的质量、提高后续运营服务的稳定性，上线前，请开发者按照接入规范对应用进行仔细检查及测试，对于不符合规范项进行修改。详见应用接入规范</p><ol start="7"><li>应用审核</li></ol><p>应用提交后，腾讯智慧校园将在5个工作日内对应用进行审核。审核中无法修改应用信息。审核通过后，应用将自动上线。</p><ol start="8"><li>应用管理</li></ol><p>开发者登录到腾讯智慧校园开放平台后，可以进入到管理中心统一管理应用，管理中心功能主要：</p><p>（1）服务所有开发者；</p><p>（2）服务于应用全生命周期；</p><p>（3）提供依据用户权限的功能；</p><p>（4）具备足够的帮助指引，可以由开发者自助使用。</p><p>详见管理中心使用说明</p><ol start="9"><li>应用安装及使用</li></ol><p>应用上线后，学校/上级单位可按如下步骤安装应用：</p><p>登录学校管理后台 -&gt; 点击“应用管理”右侧的设置按钮 -&gt; 选择“全部应用” -&gt; 点击要安装的应用icon -&gt; 进入安装页面，安装指引进行安装</p><p>安装成功后，使用方式如下：</p><p>若为独立应用：安装成功后应用将自动出现在菜单栏。可在学校管理后台访问其PC管理后台页面，可在微信企业号内使用其移动端功能。<br>若为普通应用：安装成功后需手动配置其移动端地址。可在“应用管理-&gt;我的应用”中访问其PC管理后台页面，可在配置的应用菜单处使用其移动端功能。</p><h2 id="开发api说明"><a href="#开发api说明" class="headerlink" title="开发api说明"></a>开发api说明</h2><ol><li>PC管理后台、H5前台登录态打通</li></ol><p>学校在管理后台【应用市场】安装了开发者的应用后，可以在学校后台【我的应用】==》【应用管理】中，对应用进行管理。</p><p>同时，学校可以将开发者所提供的H5 url粘贴到企业号应用菜单，或应用的H5页面中。</p><p>关于“PC管理后台应用管理登录态打通方案”，请参见“应用管理后台接入”小节。</p><p>关于“H5页面登录态打通方案”，请参见“应用H5前台接入”小节。</p><ol start="2"><li>通过“API列表”中的接口，获取学校/上级单位信息</li></ol><p>在获取登录态的同时，可以获取到学校ID/上级单位ID、用户ID等信息。</p><p>当开发者获取到学校ID、用户ID后，可以调用“API接口列表”中的接口，进一步获取学校/上级单位信息。</p><p>哪些学校和用户可以使用该应用，由【应用详情】中的“使用范围”和“适用人群”决定。开发者只能获取这部分人的信息。</p><h2 id="API调用说明"><a href="#API调用说明" class="headerlink" title="API调用说明"></a>API调用说明</h2><p>1.开发者调用腾讯智慧校园API时，需使用Https协议、UTF8编码，访问域名为<a href="https://open.campus.qq.com" target="_blank" rel="noopener">https://open.campus.qq.com</a> 数据包不需要加密。<br>注：原有域名<a href="https://m.campus.qq.com" target="_blank" rel="noopener">https://m.campus.qq.com</a> 仍可正常使用，但不会再进行功能的升级和维护，并将于2018年底下线。</p><p>2.请求接口的数据为数组格式。</p><p>3.接口返回的数据为json格式。其中GET接口可以通过传入callback参数，兼容jsonp格式。</p><p>4.接口安全校验采用sign签名的方式，sign由密钥key生成（key为第三方应用AppSecret），sign参数的生成算法详见“签名参数sign生成说明”小节。</p><p>5.合作伙伴、第三方开发者通过在开放平台建立第三方应用的方式，使用openAppID（第三方应用ID）+AppSecret（第三方应用密钥）进行开发。</p><p>openAppID、AppSecret的获取方式：开放平台后台：应用管理==》应用详情，openAppID对应AppID</p><p>注意：应用AppSecret仅作加密生成sign签名使用，为了保证数据安全请不要在请求参数中传递，并对应用AppSecret进行严格保密。因自行泄漏密钥导致的数据安全问题，需要自行承担。</p><p>6.在每次调用智慧校园接口时都需要带上openAppID、objectid、objType、timestamp、sign参数。各参数具体含义及获取方式，详见“API公共参数说明”小节</p><p>7.在开发者调用API接口时，腾讯智慧校园会对签名和时间戳进行验证： 腾讯智慧校园会使用同样的sign签名算法判断接收到的sign与计算的签名是否一致，来验证请求来源的合法性；另外，接收到请求时会判断当前时间戳与接收到的timestamp参数是否在一个合理的范围，相差5分钟内才合法，以防止重放攻击。</p><h2 id="API公共参数说明"><a href="#API公共参数说明" class="headerlink" title="API公共参数说明"></a>API公共参数说明</h2><p>“API接口列表”中有一些请求参数是通用的，在此做以下统一说明：</p><p>数据id，如objectid、userid、departid等，最大长度为50位</p><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
      
      
      <categories>
          
          <category> 腾讯智慧校园开发平台 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 腾讯智慧校园开发平台 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>腾讯智慧校园开发平台1</title>
      <link href="/2018/05/18/1/"/>
      <url>/2018/05/18/1/</url>
      
        <content type="html"><![CDATA[<p>腾讯智慧校园开发平台1</p><a id="more"></a><p>OpenAPI参数：</p><p>openAppID（或devCode、devType、keyId）、<br>timestamp、sign、objectid、objType</p><p>openAppID（第三方应用ID）+AppSecret（第三方应用密钥）</p><p>openAppID、AppSecret的获取方式：开放平台后台：应用管理==》应用详情，openAppID对应AppID</p><p>请求接口的数据为数组格式</p><p>接口返回的数据为json格式。其中GET接口可以通过传入callback参数，兼容jsonp格式</p><p>接口安全校验采用sign签名的方式，sign由密钥key生成（key为第三方应用AppSecret），sign参数的生成算法详见“签名参数sign生成说明”小节。</p><p>每次调用智慧校园接口时都需要带上openAppID、objectid、objType、timestamp、sign参数。</p><p>openAppID第三方应用的AppID，请从开发者后台获取。<br>objType    object类型（1：上级单位，2：学校）<br>objectid 学校id。有2种获取方式：1.由学校提供。路径：学校/上级单位后台==》开发==》接口授权==》objectid（仅创建者可见）；2.已创建第三方应用，且学校已安装和使用该应用时，可由腾讯智慧校园在url中返回。详见应用管理后台接入和应用H5前台接入<br>sign 接口签名。sign是由应用“开发者密钥或学校授权码”和未经URL-encode的请求字符串计算获取，sign的生成规则参考签名参数sign生成说明小节<br>timestamp 10位/13位时间戳，请确保服务器时间与北京时间一致。否则会导致接口校验失败，报“时间戳错误”。</p><p>通过“API列表”中的接口，获取学校/上级单位信息</p><p>在获取登录态的同时，可以获取到学校ID/上级单位ID、用户ID等信息。</p><p>当开发者获取到学校ID、用户ID后，可以调用“API接口列表”中的接口，进一步获取学校/上级单位信息。</p><p>哪些学校和用户可以使用该应用，由【应用详情】中的“使用范围”和“适用人群”决定。开发者只能获取这部分人的信息。</p><p>请求示例</p><pre><code>https://open.campus.qq.com/api/open/sendMsg?timestamp=TIMESTAMP&amp;sign=SIGN&amp;openAppID=OPENAPPID&amp;objectid=OBJECTID&amp;objType=OBJTYPE</code></pre><p>wxuserid 接收消息的用户微信ID列表<br>wxdepartid 接收消息的部门微信ID列表</p><h2 id="OpenAPI调用相关问题"><a href="#OpenAPI调用相关问题" class="headerlink" title="OpenAPI调用相关问题"></a>OpenAPI调用相关问题</h2><p>【公共参数及签名密钥相关】</p><ol><li>都有哪些公共参数？</li></ol><p>详见文档：开放API调用说明==》API公共参数说明</p><ol start="2"><li>什么是objectid、objType、userid，如何获取它们？</li></ol><p>详见文档：开放API调用说明==》签名参数sign生成说明</p><ol start="3"><li>什么是openAppID、AppSecret、H5Secret，如何获取它们？</li></ol><p>详见文档：开放API调用说明==》签名参数sign生成说明</p><ol start="4"><li>什么是devCode、devType、授权密钥、授权密钥ID，如何获取它们？</li></ol><p>详见文档：开放API调用说明==》签名参数sign生成说明</p><ol start="5"><li>如何生成和校验sign签名？</li></ol><p>详见文档：开放API调用说明==》签名参数sign生成说明，以及文档中的“签名校验工具”</p><p>【OpenAPI调用方式相关】</p><ol><li>API调用说明？</li></ol><p>详见文档：开放API调用说明==》API调用说明</p><ol start="2"><li>post请求参数demo？</li></ol><p>详见文档：开放API调用说明==》签名参数sign生成说明</p><ol start="3"><li>OpenAPI调用代码demo？</li></ol><p>详见文档：开放API调用说明==》Demo下载</p><p>调用API时，开发者信息、sign签名密钥获取方式：<br>开放平台后台==》应用管理==》查看详情==》AppID、AppSecret</p><p>objectid获取方式：<br>学校/上级单位后台==》基本信息==》objectid（仅创建者可见）</p><p>userid有以下几种获取方式：<br>1.通过开放API获取，详见文档 API接口列表==》获取/搜索用户列表<br>2.在学校/上级单位/教师工作台后台，应用管理的iframe url参数中返回，详见文档 应用接入指引==》应用管理后台接入。前提是此应用提供了管理后台url/教师工作台url，并且此应用已被学校/上级单位安装。<br>3.当用户在手机上使用第三方应用时，在H5 url参数中返回，详见文档 应用接入指引==》应用H5前台接入。前提是此应用提供了移动端url，并且此应用已被学校/上级单位安装。</p><h2 id="微信登录插件"><a href="#微信登录插件" class="headerlink" title="微信登录插件"></a>微信登录插件</h2><p>第三方应用接入智慧校园微信登录插件后，学校用户可使用智慧校园绑定的微信号登录第三方应用，登录后将向第三方返回用户的智慧校园userid，可通过userid查询用户的其他信息。</p><p>智慧校园提供H5和PC端的微信登录插件。</p><pre><code>AppID：AppSecret：H5Secret：</code></pre><p>通过openAppID+AppSecret方式请求：</p><pre><code>https://open.campus.qq.com/api/open/getObjectInfo?timestamp=TIMESTAMP&amp;objectid=OBJECTID&amp;objType=OBJTYPE&amp;openAppID=OPENAPPID&amp;sign=SIGN</code></pre><pre><code>https://open.campus.qq.com/api/open/getObjectInfo?openAppID=521430153974</code></pre><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
      
      
      <categories>
          
          <category> 腾讯智慧校园开发平台 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 腾讯智慧校园开发平台 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>教育系统APP(八)</title>
      <link href="/2018/04/28/1/"/>
      <url>/2018/04/28/1/</url>
      
        <content type="html"><![CDATA[<blockquote class="blockquote-center">用一切抱怨的时间去努力</blockquote><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="/images/35.jpg" style="width: 100%;height: 100%"><a id="more"></a><h2 id="项目“课程”的模块2"><a href="#项目“课程”的模块2" class="headerlink" title="项目“课程”的模块2"></a>项目“课程”的模块2</h2><h2 id="目录"><a href="#目录" class="headerlink" title="目录"></a>目录</h2><ol><li><p>学习目标<br>1.1 掌握课程模块的开发，实现用VideoView完成视频的播放<br>1.2 掌握课程模块的开发，实现用JSONObject完成Json数据的解析<br>1.3 掌握课程模块的开发，实现用数据库保存播放记录    </p></li><li><p>项目实操<br>2.1 课程详情<br>2.1.1 课程详情界面布局<br>2.1.2 课程详情Item<br>2.1.3 课程详情界面适配器和数据库<br>2.1.4 课程详情界面逻辑代码    </p><p>2.2 视频播放<br>2.2.1 视频播放布局<br>2.2.2 视频播放逻辑代码    </p><p>2.3 播放记录<br>2.3.1 播放记录布局<br>2.3.2 播放记录item<br>2.3.3 播放记录adapter<br>2.3.4 播放记录逻辑代码</p></li><li><p>任务实施<br>3.1 json解析<br>3.2 播放网络视频    </p></li></ol><h2 id="学习目标"><a href="#学习目标" class="headerlink" title="学习目标"></a>学习目标</h2><p>1.1掌握课程模块的开发，实现用VideoView完成视频的播放<br>1.2掌握课程模块的开发，实现用JSONObject完成Json数据的解析<br>1.3掌握课程模块的开发，实现用数据库保存播放记录</p><p>课程模块主要用于展示课程中的视频信息，当点击课程列表时会跳转到课程详情界面，在该界面中可以播放相应章节的视频。同时为了方便用户查看已学习的视频，还在“我”的界面中添加了一个播放记录。本章将对课程界面进行详细讲解。</p><h2 id="项目实操"><a href="#项目实操" class="headerlink" title="项目实操"></a>项目实操</h2><p>课程详情<br>课程详情界面布局<br>把本章所需要的图片放入drawable文件夹中</p><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="/images/36.png" alt="36"></p><p>在res包下新建一个资源包，命名为raw，放入视频文件video11.mp4 </p><p>新建一个布局文件，命名为activity_video_list<br>课程详情布局代码：</p><pre><code>&lt;?xml version="1.0" encoding="utf-8"?&gt;&lt;LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"    android:orientation="vertical"    android:layout_width="match_parent"    android:layout_height="match_parent"    android:background="@android:color/white"&gt;    &lt;TextView        android:layout_width="match_parent"        android:layout_height="200dp"        android:background="@drawable/default_video_list_icon"/&gt;    &lt;LinearLayout        android:layout_width="match_parent"        android:layout_height="50dp"        android:gravity="center"        android:orientation="horizontal"&gt;        &lt;RelativeLayout            android:layout_width="0dp"            android:layout_height="match_parent"            android:layout_weight="1"            android:background="@drawable/video_list_intro_icon"&gt;            &lt;TextView                android:id="@+id/tv_intro"                android:layout_width="match_parent"                android:layout_height="46dp"                android:layout_centerVertical="true"                android:background="#30B4FF"                android:gravity="center"                android:text="简 介"                android:textColor="#FFFFFF"                android:textSize="20sp"/&gt;        &lt;/RelativeLayout&gt;        &lt;View            android:layout_width="1dp"            android:layout_height="48dp"            android:background="#C3C3C3"/&gt;        &lt;RelativeLayout            android:layout_width="0dp"            android:layout_height="match_parent"            android:layout_weight="1"            android:background="@drawable/video_list_intro_icon"&gt;            &lt;TextView                android:id="@+id/tv_video"                android:layout_width="match_parent"                android:layout_height="46dp"                android:layout_centerVertical="true"                android:background="#FFFFFF"                android:gravity="center"                android:text="视 频"                android:textColor="#000000"                android:textSize="20sp"/&gt;        &lt;/RelativeLayout&gt;    &lt;/LinearLayout&gt;    &lt;RelativeLayout        android:layout_width="match_parent"        android:layout_height="match_parent"&gt;        &lt;ListView            android:id="@+id/lv_video_list"            android:layout_width="match_parent"            android:layout_height="match_parent"            android:layout_marginLeft="15dp"            android:layout_marginRight="15dp"            android:divider="#E4E4E4"            android:dividerHeight="1dp"            android:scrollbars="none"            android:visibility="gone"/&gt;        &lt;ScrollView            android:id="@+id/sv_chapter_intro"            android:layout_width="match_parent"            android:layout_height="match_parent"&gt;            &lt;LinearLayout                android:layout_width="match_parent"                android:layout_height="match_parent"                android:orientation="horizontal"&gt;                &lt;TextView                    android:id="@+id/tv_chapter_intro"                    android:layout_width="match_parent"                    android:layout_height="match_parent"                    android:lineSpacingMultiplier="1.5"                    android:padding="10dp"                    android:text="安卓简介"                    android:textColor="@android:color/black"                    android:textSize="14sp"/&gt;            &lt;/LinearLayout&gt;        &lt;/ScrollView&gt;    &lt;/RelativeLayout&gt;&lt;/LinearLayout&gt;</code></pre><p>课程详情Item<br>课程详情界面里也有一个课程列表，这里我们用ListView就可以了。<br>新建一个布局文件，命名为video_list_item。</p><pre><code>&lt;?xml version="1.0" encoding="utf-8"?&gt;&lt;LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"    android:orientation="horizontal"    android:layout_width="match_parent"    android:layout_height="wrap_content"    android:background="@android:color/white"    android:gravity="center_vertical"    android:paddingBottom="15dp"    android:paddingTop="15dp"&gt;    &lt;ImageView        android:id="@+id/iv_left_icon"        android:layout_width="25dp"        android:layout_height="25dp"        android:src="@drawable/course_bar_icon"/&gt;    &lt;TextView        android:id="@+id/tv_video_title"        android:layout_width="wrap_content"        android:layout_height="match_parent"        android:layout_marginLeft="10dp"        android:gravity="center_vertical"        android:text="[第一节]Android简介"        android:textColor="#333333"        android:textSize="14sp"/&gt;&lt;/LinearLayout&gt;</code></pre><p>课程详情界面适配器和数据库<br>先写一个视频的属性类，命名为VideoBean</p><p>VideoBean.java </p><pre><code>package cn.edu.gdmec.android.vicdemo.Bean;public class VideoBean {    public int chapterId;//章节Id    public int videoId;//视频Id    public String videoPath;//视频播放地址    public String title;//章节标题    public String secondTitle;//视频标题}</code></pre><p>写完属性类，我们来完善数据库的代码，为后面的播放记录做准备。<br>打开Sqlite包下的SQLiteHelper.java，补充视频表的代码。</p><p>SQLiteHelper.java </p><pre><code>package cn.edu.gdmec.android.vicdemo.Sqlite;import android.content.Context;import android.database.sqlite.SQLiteDatabase;import android.database.sqlite.SQLiteOpenHelper;public class SQLiteHelper extends SQLiteOpenHelper{    private static final int DB_VERSION = 1;    public static String DB_NAME = "bxg.db";    public static final String U_USER_INFO = "userInfo";    public static final String U_VIDEO_PLAY_LIST="videoplaylist";    /*public SQLiteHelper(Context context, String name, SQLiteDatabase.CursorFactory factory, int version) {        super(context, name, factory, version);    }*/    public SQLiteHelper(Context context){        super(context, DB_NAME, null, DB_VERSION);    }    @Override    public void onCreate(SQLiteDatabase db) {        /**         * 当这个SQLiteOpenHelper的子类类被实例化时会创建指定名的数据库，在onCreate中创建个人信息表         * **/        db.execSQL("CREATE TABLE IF NOT EXISTS " + U_USER_INFO + "( "                + "_id  INTEGER PRIMARY KEY AUTOINCREMENT, "                + "userName VARCHAR, "                + "nickName VARCHAR, "                + "sex VARCHAR, "                + "signature VARCHAR, "                + "qq VARCHAR "                + ")");        db.execSQL("CREATE TABLE IF NOT EXISTS " + U_VIDEO_PLAY_LIST + "( "                + "_id INTEGER PRIMARY KEY AUTOINCREMENT, "                + "userName VARCHAR, " //用户名                + "chapterId INT, " //章节                + "videoId int, "       //小节id                + "videoPath VARCHAR,"  //视频地址                + "title VARCHAR,"//视频章节名称                + "secondTitle VARCHAR"//视频名单                + ")");    }    /**     * 当数据库版本号增加才会调用此方法     **/    @Override    public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {        db.execSQL("DROP TABLE IF EXISTS " + U_USER_INFO);        db.execSQL("DROP TABLE IF EXISTS " + U_VIDEO_PLAY_LIST);        onCreate(db);    }}</code></pre><p>到Utils包下的DBUtils.java中补充操作数据表的方法。</p><p>DBUtils.java</p><pre><code>package cn.edu.gdmec.android.vicdemo.utils;import android.content.ContentValues;import android.content.Context;import android.database.Cursor;import android.database.sqlite.SQLiteDatabase;import java.util.ArrayList;import java.util.List;import cn.edu.gdmec.android.vicdemo.Bean.UserBean;import cn.edu.gdmec.android.vicdemo.Bean.VideoBean;import cn.edu.gdmec.android.vicdemo.Sqlite.SQLiteHelper;public class DBUtils {    private static DBUtils instance = null;    private static SQLiteHelper helper;    private static SQLiteDatabase db;    /**     * 构造方法，只有当类被实例化时候调用     * 实例化SQLiteHelper类，从中得到一个课读写的数据库     **/    public DBUtils(Context context) {        helper = new SQLiteHelper(context);        db = helper.getWritableDatabase();    }    /**     * 得到这个类的实例     **/    public static DBUtils getInstance(Context context) {        if (instance == null) {            instance = new DBUtils(context);        }        return instance;    }    /**     * 保存个人资料信息     **/    public void saveUserInfo(UserBean bean) {        ContentValues cv = new ContentValues();        cv.put("userName", bean.userName);        cv.put("nickName", bean.nickName);        cv.put("sex", bean.sex);        cv.put("signature", bean.signature);        cv.put("qq",bean.qq);        //Convenience method for inserting a row into the database.        //注意，我们是从数据库使用插入方法，传入表名和数据集完成插入        db.insert(SQLiteHelper.U_USER_INFO, null, cv);    }    /**     * 获取个人资料信息     **/    public UserBean getUserInfo(String userName) {        String sql = "SELECT * FROM " + SQLiteHelper.U_USER_INFO + " WHERE userName=?";        //?和下面数组内元素会逐个替换，可以多条件查询=?and =?        //You may include ?s in where clause in the query, which will be replaced by the values from selectionArgs.        Cursor cursor = db.rawQuery(sql, new String[]{userName});        UserBean bean = null;        //Move the cursor to the next row.        while (cursor.moveToNext()) {            bean = new UserBean();            //根据列索引获取对应的数值，因为这里查询结果只有一个，我们也不需要对模型UserBean进行修改，            //直接将对应用户名的所有数据从表中动态赋值给bean            bean.userName = cursor.getString(cursor.getColumnIndex("userName"));            bean.nickName = cursor.getString(cursor.getColumnIndex("nickName"));            bean.sex = cursor.getString(cursor.getColumnIndex("sex"));            bean.signature = cursor.getString(cursor.getColumnIndex("signature"));            bean.qq = cursor.getString(cursor.getColumnIndex("qq"));        }        cursor.close();        return bean;    }    /**     * 修改个人资料信息,这里的key指代表字段，value表示数值     **/    public void updateUserInfo(String key, String value, String userName) {        ContentValues cv = new ContentValues();        cv.put(key, value);        //Convenience method for updating rows in the database.        db.update(SQLiteHelper.U_USER_INFO, cv, "userName=?", new String[]                {userName});    }    public void saveVideoPlayList(VideoBean videoBean, String userName){        if (hasVideoPlay(videoBean.chapterId, videoBean.videoId, userName)){            boolean isDelete = delVideoPlay(videoBean.chapterId, videoBean.videoId, userName);            if (!isDelete){                return;            }        }        ContentValues cv = new ContentValues();        cv.put("userName", userName);        cv.put("chapterId", videoBean.chapterId);        cv.put("videoId", videoBean.videoId);        cv.put("videoPath", videoBean.videoPath);        cv.put("title", videoBean.title);        cv.put("secondTitle", videoBean.secondTitle);        db.insert(SQLiteHelper.U_VIDEO_PLAY_LIST, null, cv);    }    private boolean delVideoPlay(int chapterId, int videoId, String userName){        boolean delSuccess = false;        int row = db.delete(SQLiteHelper.U_VIDEO_PLAY_LIST,                " chapterId=? AND videoId=? AND userName=?",                new String[]{chapterId + "", videoId + "", userName});        if (row &gt; 0){            delSuccess = true;        }        return delSuccess;    }    private boolean hasVideoPlay(int chapterId, int videoId, String userName){        boolean hasVideo = false;        String sql = "SELECT * FROM " + SQLiteHelper.U_VIDEO_PLAY_LIST +                " WHERE chapterId=? AND videoId=? AND userName=?";        Cursor cursor = db.rawQuery(sql, new String[]{chapterId + "", videoId + "", userName});        if (cursor.moveToNext()){            hasVideo = true;        }        cursor.close();        return hasVideo;    }    public List&lt;VideoBean&gt; getVideoHistory(String s){        String sql = "SELECT * FROM " + SQLiteHelper.U_VIDEO_PLAY_LIST + " WHERE userName=?";        Cursor cursor = db.rawQuery(sql, new String[]{s});        List&lt;VideoBean&gt; vbl = new ArrayList&lt;&gt;();        VideoBean bean = null;        while (cursor.moveToNext()){            bean = new VideoBean();            bean.chapterId = cursor.getInt(cursor.getColumnIndex("chapterId"));            bean.videoId = cursor.getInt(cursor.getColumnIndex("videoId"));            bean.videoPath = cursor.getString(cursor.getColumnIndex("videoPath"));            bean.title = cursor.getString(cursor.getColumnIndex("title"));            bean.secondTitle = cursor.getString(cursor.getColumnIndex("secondTitle"));            vbl.add(bean);            bean = null;        }        cursor.close();        return vbl;    }}</code></pre><p>适配器代码：<br>VideoListItemAdapter.java </p><pre><code>package cn.edu.gdmec.android.vicdemo.adapter;import android.app.Activity;import android.content.Context;import android.content.Intent;import android.content.SharedPreferences;import android.graphics.Color;import android.text.TextUtils;import android.view.LayoutInflater;import android.view.View;import android.view.ViewGroup;import android.widget.BaseAdapter;import android.widget.ImageView;import android.widget.TextView;import android.widget.Toast;import java.util.ArrayList;import java.util.List;import cn.edu.gdmec.android.vicdemo.Activity.VideoPlayActivity;import cn.edu.gdmec.android.vicdemo.Bean.VideoBean;import cn.edu.gdmec.android.vicdemo.R;import cn.edu.gdmec.android.vicdemo.utils.AnalysisUtils;import cn.edu.gdmec.android.vicdemo.utils.DBUtils;public class VideoListItemAdapter extends BaseAdapter {    private List&lt;VideoBean&gt; objects = new ArrayList&lt;VideoBean&gt;();    private int selectedPosition = -1;    private DBUtils db;    private Context context;    private LayoutInflater layoutInflater;    public VideoListItemAdapter(Context context) {        this.context = context;        this.layoutInflater = LayoutInflater.from(context);        db = DBUtils.getInstance(context);    }    public void setData(List&lt;VideoBean&gt; vbl){        this.objects = vbl;        notifyDataSetChanged();    }    @Override    public int getCount() {        return objects.size();    }    public void setSelectedPosition(int position){        selectedPosition = position;    }    @Override    public VideoBean getItem(int position) {        return objects.get(position);    }    @Override    public long getItemId(int position) {        return position;    }    @Override    public View getView(int position, View convertView, ViewGroup parent) {        if (convertView == null) {            convertView = layoutInflater.inflate(R.layout.video_list_item, null);            convertView.setTag(new ViewHolder(convertView));        }        initializeViews((VideoBean)getItem(position), (ViewHolder) convertView.getTag(), position, convertView);        return convertView;    }    private void initializeViews(final VideoBean object, final ViewHolder holder, final int position, View convertView) {        holder.ivLeftIcon.setImageResource(R.drawable.course_bar_icon);        holder.tvVideoTitle.setTextColor(Color.parseColor("#333333"));        if (object != null){            holder.tvVideoTitle.setText(object.secondTitle);            if (selectedPosition == position){                holder.ivLeftIcon.setImageResource(R.drawable.course_intro_icon);;                holder.tvVideoTitle.setTextColor(Color.parseColor("$009958"));            }else {                holder.ivLeftIcon.setImageResource(R.drawable.course_bar_icon);                holder.tvVideoTitle.setTextColor(Color.parseColor("#333333"));            }        }        convertView.setOnClickListener(new View.OnClickListener() {            @Override            public void onClick(View v) {                setSelectedPosition(position);                if (object != null){                    String videoPath = object.videoPath;                    notifyDataSetChanged();                    if (TextUtils.isEmpty(videoPath)){                        Toast.makeText(context, "本地没有此视频，暂无法播放", Toast.LENGTH_SHORT).show();                    }else {                        if (readLoginStatus()){                            String userName = AnalysisUtils.readLoginUserName(context);                            db.saveVideoPlayList(objects.get(position), userName);                        }                        //视频播放                        Intent intent = new Intent(context, VideoPlayActivity.class);                        intent.putExtra("videoPath", videoPath);                        intent.putExtra("position", position);                        ((Activity) context).startActivityForResult(intent, 1);                    }                }            }        });    }    private boolean readLoginStatus(){        SharedPreferences sp = context.getSharedPreferences("loginInfo", Context.MODE_PRIVATE);        boolean isLogin = sp.getBoolean("isLogin", false);        return isLogin;    }    protected class ViewHolder {        private ImageView ivLeftIcon;        private TextView tvVideoTitle;        public ViewHolder(View view) {            ivLeftIcon = (ImageView) view.findViewById(R.id.iv_left_icon);            tvVideoTitle = (TextView) view.findViewById(R.id.tv_video_title);        }    }}</code></pre><p>课程详情界面逻辑代码<br>先把data.json文件放进assets文件夹。</p><p>VideoListActivity的逻辑代码</p><p>VideoListActivity.java </p><pre><code>package cn.edu.gdmec.android.vicdemo.Activity;import android.app.Activity;import android.content.Intent;import android.graphics.Color;import android.os.Bundle;import android.view.View;import android.widget.ListView;import android.widget.ScrollView;import android.widget.TextView;import org.json.JSONArray;import org.json.JSONException;import org.json.JSONObject;import java.io.BufferedReader;import java.io.IOException;import java.io.InputStream;import java.io.InputStreamReader;import java.util.ArrayList;import java.util.List;import cn.edu.gdmec.android.vicdemo.Bean.VideoBean;import cn.edu.gdmec.android.vicdemo.R;import cn.edu.gdmec.android.vicdemo.adapter.VideoListItemAdapter;public class VideoListActivity extends Activity{    private TextView tvIntro;    private TextView tvVideo;    private ListView lvVideoList;    private ScrollView svChapterIntro;    private TextView tvChapterIntro;    private List&lt;VideoBean&gt; videoList;    private int chapterId;    private String intro;    private VideoListItemAdapter adapter;    @Override    protected void onCreate(Bundle savedInstanceState) {        super.onCreate(savedInstanceState);        setContentView(R.layout.activity_video_list);        chapterId = getIntent().getIntExtra("id", 0);        intro = getIntent().getStringExtra("intro");        initData();        initView();    }    //把json文件转换为字符串    private String read(InputStream is){        BufferedReader reader = null;        StringBuilder sb = null;        String line = null;        try{            sb = new StringBuilder();            reader = new BufferedReader(new InputStreamReader(is));            while ((line = reader.readLine()) != null){                sb.append(line);                sb.append("\n");            }        }catch (IOException e){            e.printStackTrace();            return "";        }finally {            if (is != null){                try{                    is.close();                    if (reader != null){                        reader.close();                    }                }catch (IOException e){                    e.printStackTrace();                }            }        }        return sb.toString();    }    //解析json    private void initData() {        JSONArray jsonArray;        try{            InputStream is = getResources().getAssets().open("data.json");            jsonArray = new JSONArray(read(is));            videoList = new ArrayList&lt;VideoBean&gt;();            for (int i = 0; i &lt; jsonArray.length(); i++){                VideoBean bean = new VideoBean();                JSONObject jsonObj = jsonArray.getJSONObject(i);                if (jsonObj.getInt("chapterId") == chapterId){                    bean.chapterId = jsonObj.getInt("chapterId");                    bean.videoId = Integer.parseInt(jsonObj.getString("videoId"));                    bean.title = jsonObj.getString("title");                    bean.secondTitle = jsonObj.getString("secondTitle");                    bean.videoPath = jsonObj.getString("videoPath");                    videoList.add(bean);                }                bean = null;            }        }catch (IOException e){            e.printStackTrace();        }catch (JSONException e){            e.printStackTrace();        }    }    private void initView() {        tvIntro = (TextView) findViewById(R.id.tv_intro);        tvVideo = (TextView) findViewById(R.id.tv_video);        lvVideoList = (ListView) findViewById(R.id.lv_video_list);        svChapterIntro = (ScrollView) findViewById(R.id.sv_chapter_intro);        tvChapterIntro = (TextView) findViewById(R.id.tv_chapter_intro);        adapter = new VideoListItemAdapter(this);        lvVideoList.setAdapter(adapter);        adapter.setData(videoList);        tvChapterIntro.setText(intro);        tvIntro.setBackgroundColor(Color.parseColor("#30B4FF"));        tvVideo.setBackgroundColor(Color.parseColor("#FFFFFF"));        tvIntro.setTextColor(Color.parseColor("#FFFFFF"));        tvVideo.setTextColor(Color.parseColor("#000000"));        tvIntro.setOnClickListener(new View.OnClickListener() {            @Override            public void onClick(View v) {                lvVideoList.setVisibility(View.GONE);                svChapterIntro.setVisibility(View.VISIBLE);                tvIntro.setBackgroundColor(Color.parseColor("#30B4FF"));                tvVideo.setBackgroundColor(Color.parseColor("#FFFFFF"));                tvIntro.setTextColor(Color.parseColor("#FFFFFF"));                tvVideo.setTextColor(Color.parseColor("#000000"));            }        });        tvVideo.setOnClickListener(new View.OnClickListener() {            @Override            public void onClick(View v) {                lvVideoList.setVisibility(View.VISIBLE);                svChapterIntro.setVisibility(View.GONE);                tvIntro.setBackgroundColor(Color.parseColor("#FFFFFF"));                tvVideo.setBackgroundColor(Color.parseColor("#30B4FF"));                tvIntro.setTextColor(Color.parseColor("#000000"));                tvVideo.setTextColor(Color.parseColor("#FFFFFF"));            }        });    }    @Override    protected void onActivityResult(int requestCode, int resultCode, Intent data){        super.onActivityResult(requestCode,resultCode,data);        if (data != null){            int position = data.getIntExtra("position", 0);            adapter.setSelectedPosition(position);            lvVideoList.setVisibility(View.VISIBLE);            svChapterIntro.setVisibility(View.GONE);            tvIntro.setBackgroundColor(Color.parseColor("#FFFFFF"));            tvVideo.setBackgroundColor(Color.parseColor("#30B4FF"));            tvIntro.setTextColor(Color.parseColor("#000000"));            tvVideo.setTextColor(Color.parseColor("#FFFFFF"));        }    }}</code></pre><p>到CourseListItemAdapter.java中添加上跳转至视频详情页面的代码。<br>CourseListItemAdapter.java </p><pre><code>package cn.edu.gdmec.android.vicdemo.adapter;import android.content.Context;import android.content.Intent;import android.support.v7.widget.RecyclerView;import android.view.LayoutInflater;import android.view.View;import android.view.ViewGroup;import android.widget.ImageView;import android.widget.TextView;import java.util.ArrayList;import java.util.List;import cn.edu.gdmec.android.vicdemo.Activity.VideoListActivity;import cn.edu.gdmec.android.vicdemo.Bean.CourseBean;import cn.edu.gdmec.android.vicdemo.R;public class CourseListItemAdapter extends RecyclerView.Adapter&lt;CourseListItemAdapter.ViewHolder&gt; {    private List&lt;CourseBean&gt; objects = new ArrayList&lt;CourseBean&gt;();    private Context context;    private LayoutInflater layoutInflater;    public CourseListItemAdapter(Context context) {        this.context = context;        this.layoutInflater = LayoutInflater.from(context);    }    @Override    public ViewHolder onCreateViewHolder(ViewGroup parent, int viewType) {        LayoutInflater inflater = LayoutInflater.from(parent.getContext());        View view=inflater.inflate(R.layout.course_list_item,parent,false);        return new ViewHolder(view);    }    @Override    public void onBindViewHolder(ViewHolder holder, int position){        initializeViews(objects.get(position), holder);    }    public void setData(List&lt;CourseBean&gt; objects){        this.objects=objects;    }    @Override    public long getItemId(int position) {        return position;    }    @Override    public int getItemCount() {        return objects.size();    }    private void initializeViews(final CourseBean object, ViewHolder holder) {        if (object != null){            holder.tvCourseImgTitle.setText(object.imgTitle);            holder.tvCourseTitle.setText(object.title);            switch (object.id){                case 1:                    holder.ivCourseImg.setImageResource(R.drawable.chapter_1_icon);                    break;                case 2:                    holder.ivCourseImg.setImageResource(R.drawable.chapter_2_icon);                    break;                case 3:                    holder.ivCourseImg.setImageResource(R.drawable.chapter_3_icon);                    break;                case 4:                    holder.ivCourseImg.setImageResource(R.drawable.chapter_4_icon);                    break;                case 5:                    holder.ivCourseImg.setImageResource(R.drawable.chapter_5_icon);                    break;                case 6:                    holder.ivCourseImg.setImageResource(R.drawable.chapter_6_icon);                    break;                case 7:                    holder.ivCourseImg.setImageResource(R.drawable.chapter_7_icon);                    break;                case 8:                    holder.ivCourseImg.setImageResource(R.drawable.chapter_8_icon);                    break;                case 9:                    holder.ivCourseImg.setImageResource(R.drawable.chapter_9_icon);                    break;                case 10:                    holder.ivCourseImg.setImageResource(R.drawable.chapter_10_icon);                    break;            }            holder.ivCourseImg.setOnClickListener(new View.OnClickListener() {                @Override                public void onClick(View v) {                    Intent intent = new Intent(context, VideoListActivity.class);                    intent.putExtra("id", object.id);                    intent.putExtra("intro", object.intro);                    context.startActivity(intent);                }            });        }    }    protected class ViewHolder extends RecyclerView.ViewHolder {        private ImageView ivCourseImg;        private TextView tvCourseImgTitle;        private TextView tvCourseTitle;        public ViewHolder(View view) {            super(view);            ivCourseImg = (ImageView) view.findViewById(R.id.iv_course_img);            tvCourseImgTitle = (TextView) view.findViewById(R.id.tv_course_img_title);            tvCourseTitle = (TextView) view.findViewById(R.id.tv_course_title);        }    }}</code></pre><p>再到AndroidManifest.xml中声明activity </p><p>视频播放<br>视频播放布局<br>新建布局文件，命名为activity_video_play。</p><p>activity_video_play.xml </p><pre><code>&lt;?xml version="1.0" encoding="utf-8"?&gt;&lt;RelativeLayout    xmlns:android="http://schemas.android.com/apk/res/android"    android:layout_width="match_parent"    android:layout_height="match_parent"&gt;    &lt;VideoView        android:id="@+id/videoView"        android:layout_width="match_parent"        android:layout_height="match_parent" /&gt;&lt;/RelativeLayout&gt;</code></pre><p>视频播放逻辑代码</p><p>VideoPlayActivity.java </p><pre><code>package cn.edu.gdmec.android.vicdemo.Activity;import android.app.Activity;import android.content.Intent;import android.content.pm.ActivityInfo;import android.os.Bundle;import android.text.TextUtils;import android.view.KeyEvent;import android.widget.MediaController;import android.widget.Toast;import android.widget.VideoView;import cn.edu.gdmec.android.vicdemo.R;public class VideoPlayActivity extends Activity {    private VideoView videoView;    private MediaController controller;    private String videoPath;    private int position;    @Override    protected void onCreate(Bundle savedInstanceState) {        super.onCreate(savedInstanceState);        setContentView(R.layout.activity_video_play);        setRequestedOrientation(ActivityInfo.SCREEN_ORIENTATION_LANDSCAPE);        videoPath = getIntent().getStringExtra("videoPath");        position = getIntent().getIntExtra("position", 0);        videoView = findViewById(R.id.videoView);        controller = new MediaController(this);        videoView.setMediaController(controller);        play();    }    private void play() {        if(TextUtils.isEmpty(videoPath)){            Toast.makeText(this,"本地没有此视频，暂无法播放", Toast.LENGTH_SHORT).show();            return;        }        String uri = "android.resource://" + getPackageName() + "/" + R.raw.video11;        videoView.setVideoPath(uri);        videoView.start();    }    @Override    public boolean onKeyDown(int keyCode, KeyEvent event){        Intent data = new Intent();        data.putExtra("position", position);        setResult(RESULT_OK, data);        return super.onKeyDown(keyCode, event);    }}</code></pre><p>到VideoListItemAdapter.java里补上跳转视频播放页面的代码。<br>VideoListItemAdapter.java </p><pre><code>//视频播放Intent intent = new Intent(context, VideoPlayActivity.class);intent.putExtra("videoPath", videoPath);intent.putExtra("position", position);((Activity) context).startActivityForResult(intent, 1);</code></pre><p>到AndroidManifest.xml中声明activity </p><h2 id="播放记录"><a href="#播放记录" class="headerlink" title="播放记录"></a>播放记录</h2><p>播放记录布局<br>新建布局文件，命名为activity_play_history</p><pre><code>&lt;?xml version="1.0" encoding="utf-8"?&gt;&lt;LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"    android:orientation="vertical"    android:layout_width="match_parent"    android:layout_height="match_parent"    android:background="@android:color/white"&gt;    &lt;include layout="@layout/main_title_bar"/&gt;    &lt;RelativeLayout        android:layout_width="match_parent"        android:layout_height="match_parent"&gt;        &lt;ListView            android:id="@+id/lv_list"            android:layout_width="match_parent"            android:layout_height="match_parent"            android:divider="#E4E4E4"            android:dividerHeight="1dp"            android:scrollbars="none"/&gt;        &lt;TextView            android:id="@+id/tv_none"            android:layout_width="match_parent"            android:layout_height="match_parent"            android:gravity="center"            android:text="暂无播放记录"            android:textColor="@android:color/darker_gray"            android:textSize="16sp"            android:visibility="gone"/&gt;    &lt;/RelativeLayout&gt;&lt;/LinearLayout&gt;</code></pre><p>播放记录item<br>新建布局文件，命名为play_history_list_item<br>play_history_list_item.xml </p><pre><code>&lt;?xml version="1.0" encoding="utf-8"?&gt;&lt;LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"    android:layout_width="match_parent"    android:layout_height="wrap_content"    android:orientation="horizontal"    android:background="@android:color/white"    android:gravity="center_vertical"    android:padding="10dp"&gt;    &lt;RelativeLayout        android:layout_width="wrap_content"        android:layout_height="wrap_content"&gt;        &lt;ImageView            android:id="@+id/iv_video_icon"            android:layout_width="100dp"            android:layout_height="75dp"            android:src="@drawable/video_play_icon2"/&gt;        &lt;ImageView            android:layout_width="30dp"            android:layout_height="30dp"            android:src="@android:drawable/ic_media_play"/&gt;    &lt;/RelativeLayout&gt;    &lt;LinearLayout        android:layout_width="match_parent"        android:layout_height="wrap_content"        android:orientation="vertical"        android:layout_marginLeft="15dp"        android:layout_gravity="center_vertical"&gt;        &lt;TextView            android:id="@+id/tv_adapter_title"            android:layout_width="wrap_content"            android:layout_height="match_parent"            android:textSize="16sp"            android:textColor="#333333"            android:text="第1章 Android基础入门"            android:gravity="center_vertical"/&gt;        &lt;TextView            android:layout_marginTop="4dp"            android:id="@+id/tv_video_title"            android:layout_width="wrap_content"            android:layout_height="match_parent"            android:textSize="12sp"            android:textColor="#a3a3a3"            android:text="Android系统简介"            android:gravity="center_vertical"/&gt;    &lt;/LinearLayout&gt;&lt;/LinearLayout&gt;</code></pre><h2 id="播放记录adapter"><a href="#播放记录adapter" class="headerlink" title="播放记录adapter"></a>播放记录adapter</h2><p>PlayHistoryListItemAdapter.java </p><pre><code>package cn.edu.gdmec.android.vicdemo.adapter;import android.content.Context;import android.content.Intent;import android.view.LayoutInflater;import android.view.View;import android.view.ViewGroup;import android.widget.BaseAdapter;import android.widget.ImageView;import android.widget.TextView;import java.util.ArrayList;import java.util.List;import cn.edu.gdmec.android.vicdemo.Activity.VideoPlayActivity;import cn.edu.gdmec.android.vicdemo.Bean.VideoBean;import cn.edu.gdmec.android.vicdemo.R;public class PlayHistoryListItemAdapter extends BaseAdapter {    private List&lt;VideoBean&gt; objects = new ArrayList&lt;VideoBean&gt;();    private Context context;    private LayoutInflater layoutInflater;    public PlayHistoryListItemAdapter(Context context) {        this.context = context;        this.layoutInflater = LayoutInflater.from(context);    }    public void setData(List&lt;VideoBean&gt; vbl){        this.objects = vbl;        notifyDataSetChanged();    }    @Override    public int getCount() {        return objects.size();    }    @Override    public VideoBean getItem(int position) {        return objects.get(position);    }    @Override    public long getItemId(int position) {        return position;    }    @Override    public View getView(int position, View convertView, ViewGroup parent) {        if (convertView == null) {            convertView = layoutInflater.inflate(R.layout.play_history_list_item, null);            convertView.setTag(new ViewHolder(convertView));        }        initializeViews((VideoBean)getItem(position), (ViewHolder) convertView.getTag(), convertView);        return convertView;    }    private void initializeViews(final VideoBean object, ViewHolder holder, final View convertView) {        if (object != null){            holder.tvAdapterTitle.setText(object.title);            holder.tvVideoTitle.setText(object.secondTitle);            switch (object.chapterId){                case 1:                    holder.ivVideoIcon.setImageResource(R.drawable.video_play_icon1);                    break;                case 2:                    holder.ivVideoIcon.setImageResource(R.drawable.video_play_icon2);                    break;                case 3:                    holder.ivVideoIcon.setImageResource(R.drawable.video_play_icon3);                    break;                case 4:                    holder.ivVideoIcon.setImageResource(R.drawable.video_play_icon4);                    break;                case 5:                    holder.ivVideoIcon.setImageResource(R.drawable.video_play_icon5);                    break;                case 6:                    holder.ivVideoIcon.setImageResource(R.drawable.video_play_icon6);                    break;                case 7:                    holder.ivVideoIcon.setImageResource(R.drawable.video_play_icon7);                    break;                case 8:                    holder.ivVideoIcon.setImageResource(R.drawable.video_play_icon8);                    break;                case 9:                    holder.ivVideoIcon.setImageResource(R.drawable.video_play_icon9);                    break;                case 10:                    holder.ivVideoIcon.setImageResource(R.drawable.video_play_icon10);                    break;                    default:                        holder.ivVideoIcon.setImageResource(R.drawable.video_play_icon1);                        break;            }            convertView.setOnClickListener(new View.OnClickListener() {                @Override                public void onClick(View v) {                    if (object == null){                        return;                    }                    Intent intent = new Intent(context, VideoPlayActivity.class);                    intent.putExtra("videoPath", object.videoPath);                    context.startActivity(intent);                }            });        }    }    protected class ViewHolder {        private ImageView ivVideoIcon;        private TextView tvAdapterTitle;        private TextView tvVideoTitle;        public ViewHolder(View view) {            ivVideoIcon = (ImageView) view.findViewById(R.id.iv_video_icon);            tvAdapterTitle = (TextView) view.findViewById(R.id.tv_adapter_title);            tvVideoTitle = (TextView) view.findViewById(R.id.tv_video_title);        }    }}</code></pre><h2 id="播放记录逻辑代码"><a href="#播放记录逻辑代码" class="headerlink" title="播放记录逻辑代码"></a>播放记录逻辑代码</h2><p>PlayHistoryActivity.java </p><pre><code>package cn.edu.gdmec.android.vicdemo.Activity;import android.app.Activity;import android.graphics.Color;import android.os.Bundle;import android.view.View;import android.widget.ListView;import android.widget.RelativeLayout;import android.widget.TextView;import java.util.ArrayList;import java.util.List;import cn.edu.gdmec.android.vicdemo.Bean.VideoBean;import cn.edu.gdmec.android.vicdemo.R;import cn.edu.gdmec.android.vicdemo.adapter.PlayHistoryListItemAdapter;import cn.edu.gdmec.android.vicdemo.utils.AnalysisUtils;import cn.edu.gdmec.android.vicdemo.utils.DBUtils;public class PlayHistoryActivity extends Activity {    private TextView tv_back;    private TextView tv_main_title;    private TextView tv_save;    private RelativeLayout title_bar;    private ListView lv_list;    private TextView tv_none;    private List&lt;VideoBean&gt; vbl;    private DBUtils db;    private PlayHistoryListItemAdapter adapter;    @Override    protected void onCreate(Bundle savedInstanceState) {        super.onCreate(savedInstanceState);        setContentView(R.layout.activity_play_history);        db = DBUtils.getInstance(this);        vbl = new ArrayList&lt;VideoBean&gt;();        vbl = db.getVideoHistory(AnalysisUtils.readLoginUserName(this));        initView();    }    private void initView() {        tv_back = findViewById(R.id.tv_back);        tv_main_title = findViewById(R.id.tv_main_title);        tv_save = findViewById(R.id.tv_save);        title_bar = findViewById(R.id.title_bar);        lv_list = findViewById(R.id.lv_list);        tv_none = findViewById(R.id.tv_none);        tv_main_title.setText("播放记录");        title_bar.setBackgroundColor(Color.parseColor("#30B4FF"));        if (vbl.size() == 0){            tv_none.setVisibility(View.VISIBLE);        }        adapter = new PlayHistoryListItemAdapter(this);        adapter.setData(vbl);        lv_list.setAdapter(adapter);        tv_back.setOnClickListener(new View.OnClickListener() {            @Override            public void onClick(View v) {                PlayHistoryActivity.this.fileList();            }        });    }}</code></pre><p>MyinfoFragment.java里补上跳转视频播放页面的代码。</p><pre><code>//跳转到播放记录页面                    Intent intent = new Intent(getActivity(), PlayHistoryActivity.class);                    getActivity().startActivity(intent);</code></pre><p>到AndroidManifest.xml中声明activity<br>AndroidManifest.xml </p><pre><code>&lt;?xml version="1.0" encoding="utf-8"?&gt;&lt;manifest xmlns:android="http://schemas.android.com/apk/res/android"    package="cn.edu.gdmec.android.vicdemo"&gt;    &lt;application        android:allowBackup="true"        android:icon="@drawable/app_icon"        android:label="@string/app_name"        android:roundIcon="@mipmap/ic_launcher_round"        android:supportsRtl="true"        android:theme="@style/Theme.AppCompat.NoActionBar"&gt;        &lt;activity android:name=".Activity.SplashActivity"&gt;            &lt;intent-filter&gt;                &lt;action android:name="android.intent.action.MAIN" /&gt;                &lt;category android:name="android.intent.category.LAUNCHER" /&gt;            &lt;/intent-filter&gt;        &lt;/activity&gt;        &lt;!--添加实现类--&gt;        &lt;activity android:name=".Activity.MainActivity"&gt;&lt;/activity&gt;        &lt;activity android:name=".Activity.RegisterActivity"&gt;&lt;/activity&gt;        &lt;activity android:name=".Activity.LoginActivity"&gt;&lt;/activity&gt;        &lt;activity android:name=".Activity.SettingActivity"&gt;&lt;/activity&gt;        &lt;activity android:name=".Activity.ModifyPswActivity"&gt;&lt;/activity&gt;        &lt;activity android:name=".Activity.FindPwdActivity"&gt;&lt;/activity&gt;        &lt;activity android:name=".Activity.UserInfoActivity"&gt;&lt;/activity&gt;        &lt;activity android:name=".Activity.ChangeUserInfoActivity"&gt;&lt;/activity&gt;        &lt;activity android:name=".Activity.ExercisesDetailActivity"&gt;&lt;/activity&gt;        &lt;activity android:name=".Activity.VideoListActivity"&gt;&lt;/activity&gt;        &lt;activity android:name=".Activity.VideoPlayActivity"&gt;&lt;/activity&gt;        &lt;activity android:name=".Activity.PlayHistoryActivity"&gt;&lt;/activity&gt;    &lt;/application&gt;&lt;/manifest&gt;</code></pre><h2 id="任务实施"><a href="#任务实施" class="headerlink" title="任务实施"></a>任务实施</h2><p>json解析<br>将res/assets包下的data.Json文件打开，把下面的json数据覆盖掉原来的数据，更改解析json数据的代码，把新的json数据解析出来并成功展示。</p><p>播放网络视频<br>修改VideoView控件和AndroidManifest.xml的代码，使其能成功播放下面json数据里的网络视频。</p><pre><code>json数据：[{ "chapterId": 1, "data": [  {   "videoId": "1",   "title": "第1章 Android 基础入门",   "secondTitle": "迷情巧克力",   "videoPath": "https://gslb.miaopai.com/stream/PaGWXOMYz-rMWm-r9a2MvILINHMc0YBXe2i-dg__.mp4?ssig=acb6880de7200e266864581d97c0654d&amp;time_stamp=1524887992615&amp;cookie_id=&amp;vend=1&amp;os=3&amp;partner=1&amp;platform=2&amp;cookie_id=&amp;refer=miaopai&amp;scid=PaGWXOMYz-rMWm-r9a2MvILINHMc0YBXe2i-dg__"  },  {   "videoId": "2",   "title": "第1章 Android 基础入门",   "secondTitle": "命运是什么",   "videoPath": "https://gslb.miaopai.com/stream/KP7xXv0IllZsjnK1HjVlkbGfb5yWj7mPbaEOmQ__.mp4?ssig=7d445a22609119e57b50c8fa9a84a11b&amp;time_stamp=1524888071281&amp;cookie_id=&amp;vend=1&amp;os=3&amp;partner=1&amp;platform=2&amp;cookie_id=&amp;refer=miaopai&amp;scid=KP7xXv0IllZsjnK1HjVlkbGfb5yWj7mPbaEOmQ__"  } ]}, {  "chapterId": 2,  "data": [   {    "videoId": "1",    "title": "第2章 Android UI开发",    "secondTitle": "水银为什么是液体",    "videoPath": "https://gslb.miaopai.com/stream/cnngO-Co7rFlVPzkS7qqoaxR7OFH72uvYDDiew__.mp4?ssig=b91b143afbaadb8472b57b17e0c213e5&amp;time_stamp=1524888092840&amp;cookie_id=&amp;vend=1&amp;os=3&amp;partner=1&amp;platform=2&amp;cookie_id=&amp;refer=miaopai&amp;scid=cnngO-Co7rFlVPzkS7qqoaxR7OFH72uvYDDiew__"   },   {    "videoId": "2",    "title": "第2章 Android UI开发",    "secondTitle": "汽车的历史",    "videoPath": "https://gslb.miaopai.com/stream/6S23U5PMRtOQzu99NeITYztd0xtKFW2xDYxwXQ__.mp4?ssig=afa07a802aca690154953446fc5de4d4&amp;time_stamp=1524888118545&amp;cookie_id=&amp;vend=1&amp;os=3&amp;partner=1&amp;platform=2&amp;cookie_id=&amp;refer=miaopai&amp;scid=6S23U5PMRtOQzu99NeITYztd0xtKFW2xDYxwXQ__"   }  ] }, {  "chapterId": 3,  "data": [   {    "videoId": "1",    "title": "第3章 Activity",    "secondTitle": "汽车的历史",    "videoPath": "https://gslb.miaopai.com/stream/6S23U5PMRtOQzu99NeITYztd0xtKFW2xDYxwXQ__.mp4?ssig=afa07a802aca690154953446fc5de4d4&amp;time_stamp=1524888118545&amp;cookie_id=&amp;vend=1&amp;os=3&amp;partner=1&amp;platform=2&amp;cookie_id=&amp;refer=miaopai&amp;scid=6S23U5PMRtOQzu99NeITYztd0xtKFW2xDYxwXQ__"   },   {    "chapterId": 3,    "videoId": "2",    "title": "第3章 Activity",    "secondTitle": "Activity中的数据传递",    "videoPath": ""   }  ] }, {  "chapterId": 4,  "data": [   {    "videoId": "1",    "title": "第4章 数据存储",    "secondTitle": "文件存储",    "videoPath": ""   },   {    "videoId": "2",    "title": "第4章 数据存储",    "secondTitle": "XML序列化与SharedPreferences",    "videoPath": ""   }  ] }, {  "chapterId": 5,  "data": [   {    "videoId": "1",    "title": "第5章 SQLite 数据库",    "secondTitle": "SQLite数据库的使用",    "videoPath": ""   },   {    "videoId": "2",    "title": "第5章 SQLite 数据库",    "secondTitle": "ListView控件的使用",    "videoPath": ""   }  ] }, {  "chapterId": 6,  "data": [   {    "videoId": "1",    "title": "第6章 广播接收者",    "secondTitle": "内容提供者简介",    "videoPath": ""   },   {    "videoId": "2",    "title": "第6章 广播接收者",    "secondTitle": "内容提供者的访问",    "videoPath": ""   }  ] }, {  "chapterId": 7,  "data": [   {    "videoId": "1",    "title": "第7章 服务",    "secondTitle": "广播接收者与自定义广播",    "videoPath": ""   },   {    "videoId": "2",    "title": "第7章 服务",    "secondTitle": "广播类型与常用的广播接收者",    "videoPath": ""   }  ] }, {  "chapterId": 8,  "data": [   {    "videoId": "1",    "title": "第8章 内容提供者",    "secondTitle": "服务的创建与生命周期",    "videoPath": ""   },   {    "videoId": "2",    "title": "第8章 内容提供者",    "secondTitle": "服务的启动方式",    "videoPath": ""   }  ] }, {  "chapterId": 9,  "data": [   {    "videoId": "1",    "title": "第9章 网络编程",    "secondTitle": "访问网络",    "videoPath": ""   },   {    "videoId": "2",    "title": "第9章 网络编程",    "secondTitle": "数据的提交方式",    "videoPath": ""   }  ] }, {  "chapterId": 10,  "data": [   {    "videoId": "1",    "title": "第10章 高级编程",    "secondTitle": "图形图像处理与动画",    "videoPath": ""   },   {    "videoId": "2",    "title": "第10章 高级编程",    "secondTitle": "多媒体、与Fragment",    "videoPath": ""   }  ] }]</code></pre><h2 id="总结-完"><a href="#总结-完" class="headerlink" title="总结 完"></a>总结 完</h2><h2 id="解决方法"><a href="#解决方法" class="headerlink" title="解决方法"></a>解决方法</h2><p>VideoListActivity </p><pre><code>//解析json    private void initData() {        //JSONArray jsonArray;        JSONArray jsonArray,jsonArray1;        List&lt;String&gt; list = new ArrayList&lt;String&gt;();        List&lt;VideoBean&gt; list1 = new ArrayList&lt;VideoBean&gt;();        try{            InputStream is = getResources().getAssets().open("data.json");            jsonArray = new JSONArray(read(is));            videoList = new ArrayList&lt;VideoBean&gt;();            for (int i = 0; i &lt; jsonArray.length(); i++){                VideoBean bean = new VideoBean();                JSONObject jsonObj = jsonArray.getJSONObject(i);                if (jsonObj.getInt("chapterId") == chapterId){                    bean.chapterId = jsonObj.getInt("chapterId");                    /*bean.videoId = Integer.parseInt(jsonObj.getString("videoId"));                    bean.title = jsonObj.getString("title");                    bean.secondTitle = jsonObj.getString("secondTitle");                    bean.videoPath = jsonObj.getString("videoPath");                    videoList.add(bean);*/                    String ss =jsonObj.getString("data");                    jsonArray1 = new JSONArray(ss);                    for (int j=0;j&lt;jsonArray1.length();j++){                        JSONObject jsonObject = (JSONObject) jsonArray1.get(j);                        Iterator&lt;String&gt; iterator = jsonObject.keys();                        while (iterator.hasNext()){                            String key = iterator.next();                            String value = jsonObject.getString(key);                            list.add(value);                        }                        bean.videoId = Integer.parseInt(list.get(0));                        bean.title = list.get(1);                        bean.secondTitle = list.get(2);                        bean.videoPath = list.get(3);                        videoList.add(bean);                        bean = new VideoBean();                        list.clear();                        Log.i("Ss",videoList.toString());                    }                }                bean = null;            }        }catch (IOException e){            e.printStackTrace();        }catch (JSONException e){            e.printStackTrace();        }    }</code></pre><p>VideoPlayActivity </p><pre><code>package cn.edu.gdmec.android.vicdemo.Activity;import android.app.Activity;import android.content.Intent;import android.content.pm.ActivityInfo;import android.net.Uri;import android.os.Bundle;import android.text.TextUtils;import android.util.Log;import android.view.KeyEvent;import android.view.WindowManager;import android.widget.MediaController;import android.widget.Toast;import android.widget.VideoView;import cn.edu.gdmec.android.vicdemo.R;public class VideoPlayActivity extends Activity {    private VideoView videoView;    private MediaController controller;    private String videoPath;    private int position;////传递视频详情界面点击的视频位置    @Override    protected void onCreate(Bundle savedInstanceState) {        super.onCreate(savedInstanceState);        //设置界面全屏显示        getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN,WindowManager.LayoutParams.FLAG_FULLSCREEN);        setContentView(R.layout.activity_video_play);        setRequestedOrientation(ActivityInfo.SCREEN_ORIENTATION_LANDSCAPE);        //获取从播放记录界面传递过来的视频地址        videoPath = getIntent().getStringExtra("videoPath");        position = getIntent().getIntExtra("position", 0);        videoView = findViewById(R.id.videoView);        controller = new MediaController(this);        videoView.setMediaController(controller);        play();    }    private void play() {        if(TextUtils.isEmpty(videoPath)){            Toast.makeText(this,"本地没有此视频，暂无法播放", Toast.LENGTH_SHORT).show();            return;        }        //String uri = "android.resource://" + getPackageName() + "/" + R.raw.video11;        Log.i("Video",videoPath);        String uri = videoPath;        Uri uri1 = Uri.parse(uri);        videoView.setVideoURI(uri1);        //videoView.setVideoPath(uri);        videoView.start();    }    @Override    public boolean onKeyDown(int keyCode, KeyEvent event){        //把视频详情界面传递过来的被点击视频的位置传递回去        Intent data = new Intent();        data.putExtra("position", position);        setResult(RESULT_OK, data);        return super.onKeyDown(keyCode, event);    }}</code></pre><p>大功告成！</p><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
      
      
      <categories>
          
          <category> 教育系统APP </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 教育系统APP </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>教育系统APP(七)</title>
      <link href="/2018/04/27/1/"/>
      <url>/2018/04/27/1/</url>
      
        <content type="html"><![CDATA[<blockquote class="blockquote-center">用一切抱怨的时间去努力</blockquote>## 回顾上一期任务<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="/images/33.jpg" style="width: 100%;height: 100%"><p>判断题数<br>点击完选项之后，底部的文本控件要变换刚刚点击的题目的题号。<br>注意：在里面用到adapter与Activity的信息回调，具体过程参考</p><p>保存答题状态<br>当5道题都回答过一遍后，点击返回习题界面，习题下的文本标签要变成“已完成”。</p><h2 id="教育系统APP-七-的发布-福利"><a href="#教育系统APP-七-的发布-福利" class="headerlink" title="教育系统APP(七)的发布-福利"></a>教育系统APP(七)的发布-福利</h2><a id="more"></a><h2 id="解决上期任务"><a href="#解决上期任务" class="headerlink" title="解决上期任务"></a>解决上期任务</h2><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="/images/29.png" alt="29"></p><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="/images/30.png" alt="30"></p><p>在ExercisesDetailActivity.java中添加 </p><pre><code>adapter.setOnItemListener(new ExercisesDetailListItemAdapter.OnItemListener() {            @Override            public void onItem(View view, int position) {                ff=ff+1;                tv_di.setText("第"+(position+1)+"题完成，共"+adapter.getItemCount()+"题");                if (ff==5){                    AnalysisUtils.saveExerciseStatus(ExercisesDetailActivity.this,id);                    Log.i("DD",id+"");                    setResult(RESULT_OK);                    //ff = 0;                }            }        });</code></pre><p>别担心，添加完一定有红，是因为我们还有几个方法没写。</p><pre><code>package cn.edu.gdmec.android.boxuegu.activity;import android.app.Activity;import android.graphics.Color;import android.os.Bundle;import android.support.v7.widget.LinearLayoutManager;import android.support.v7.widget.RecyclerView;import android.util.Log;import android.view.View;import android.widget.ImageView;import android.widget.RelativeLayout;import android.widget.TextView;import java.io.IOException;import java.io.InputStream;import java.util.ArrayList;import java.util.List;import cn.edu.gdmec.android.boxuegu.R;import cn.edu.gdmec.android.boxuegu.adapter.ExercisesDetailListItemAdapter;import cn.edu.gdmec.android.boxuegu.bean.ExercisesBean;import cn.edu.gdmec.android.boxuegu.utils.AnalysisUtils;public class ExercisesDetailActivity extends Activity {    private TextView tv_back;    private TextView tv_main_title;    private RelativeLayout title_bar;    private TextView tv_save;    private TextView tv_di;    private int id;    private String title;    private RecyclerView rv_list;    private List&lt;ExercisesBean&gt; ebl;    private ExercisesDetailListItemAdapter adapter;    //    public  int ff = 0;    @Override    protected void onCreate(Bundle savedInstanceState) {        super.onCreate(savedInstanceState);        setContentView(R.layout.activity_exercises_detail);        id = getIntent().getIntExtra("id",0);        title = getIntent().getStringExtra("title");        ebl = new ArrayList&lt;ExercisesBean&gt;();        initData();        initView();    }    private void initData() {        //从xml文件中获取习题数据        try {            InputStream is = getResources().getAssets().open("chapter" + id + ".xml");            ebl = AnalysisUtils.getExercisesInfos(is);        } catch (IOException e) {            e.printStackTrace();        } catch (Exception e) {            e.printStackTrace();        }    }    private void initView() {        tv_save = findViewById(R.id.tv_save);        tv_back = findViewById(R.id.tv_back);        tv_main_title = findViewById(R.id.tv_main_title);        tv_main_title.setText(title);        title_bar = findViewById(R.id.title_bar);        title_bar.setBackgroundColor(Color.parseColor("#30B4FF"));        //        tv_di = findViewById(R.id.tv_di);        rv_list = findViewById(R.id.rv_list);        rv_list.setLayoutManager(new LinearLayoutManager(this, LinearLayoutManager.HORIZONTAL, false));        tv_back.setOnClickListener(new View.OnClickListener() {            @Override            public void onClick(View v) {                ExercisesDetailActivity.this.finish();            }        });        adapter = new ExercisesDetailListItemAdapter(ExercisesDetailActivity.this,                new ExercisesDetailListItemAdapter.OnSelectListener() {                    @Override                    public void onSelectA(int position, ImageView iv_a, ImageView iv_b, ImageView iv_c, ImageView iv_d) {                        //判断如果答案不是1即A选项                        if (ebl.get(position).answer != 1) {                            ebl.get(position).select = 1;                        } else {                            ebl.get(position).select = 0;                        }                        switch (ebl.get(position).answer) {                            case 1:                                iv_a.setImageResource(R.drawable.exercises_right_icon);                                break;                            case 2:                                iv_a.setImageResource(R.drawable.exercises_error_icon);                                iv_b.setImageResource(R.drawable.exercises_right_icon);                                break;                            case 3:                                iv_a.setImageResource(R.drawable.exercises_error_icon);                                iv_c.setImageResource(R.drawable.exercises_right_icon);                                break;                            case 4:                                iv_a.setImageResource(R.drawable.exercises_error_icon);                                iv_d.setImageResource(R.drawable.exercises_right_icon);                                break;                        }                        AnalysisUtils.setABCDEnable(false, iv_a, iv_b, iv_c, iv_d);                    }                    @Override                    public void onSelectB(int position, ImageView iv_a, ImageView iv_b, ImageView iv_c, ImageView iv_d) {                        //判断如果答案不是2即B选项                        if (ebl.get(position).answer != 2) {                            ebl.get(position).select = 2;                        } else {                            ebl.get(position).select = 0;                        }                        switch (ebl.get(position).answer) {                            case 1:                                iv_a.setImageResource(R.drawable.exercises_right_icon);                                iv_b.setImageResource(R.drawable.exercises_error_icon);                                break;                            case 2:                                iv_b.setImageResource(R.drawable.exercises_right_icon);                                break;                            case 3:                                iv_b.setImageResource(R.drawable.exercises_error_icon);                                iv_c.setImageResource(R.drawable.exercises_right_icon);                                break;                            case 4:                                iv_b.setImageResource(R.drawable.exercises_error_icon);                                iv_d.setImageResource(R.drawable.exercises_right_icon);                                break;                        }                        AnalysisUtils.setABCDEnable(false, iv_a, iv_b, iv_c, iv_d);                    }                    @Override                    public void onSelectC(int position, ImageView iv_a, ImageView iv_b, ImageView iv_c, ImageView iv_d) {                        //判断如果答案不是3即C选项                        if (ebl.get(position).answer != 3) {                            ebl.get(position).select = 3;                        } else {                            ebl.get(position).select = 0;                        }                        switch (ebl.get(position).answer) {                            case 1:                                iv_a.setImageResource(R.drawable.exercises_right_icon);                                iv_c.setImageResource(R.drawable.exercises_error_icon);                                break;                            case 2:                                iv_b.setImageResource(R.drawable.exercises_right_icon);                                iv_c.setImageResource(R.drawable.exercises_error_icon);                                break;                            case 3:                                iv_c.setImageResource(R.drawable.exercises_right_icon);                                break;                            case 4:                                iv_c.setImageResource(R.drawable.exercises_error_icon);                                iv_d.setImageResource(R.drawable.exercises_right_icon);                                break;                        }                        AnalysisUtils.setABCDEnable(false, iv_a, iv_b, iv_c, iv_d);                    }                    @Override                    public void onSelectD(int position, ImageView iv_a, ImageView iv_b, ImageView iv_c, ImageView iv_d) {                        //判断如果答案不是4即D选项                        if (ebl.get(position).answer != 4) {                            ebl.get(position).select = 4;                        } else {                            ebl.get(position).select = 0;                        }                        switch (ebl.get(position).answer) {                            case 1:                                iv_a.setImageResource(R.drawable.exercises_right_icon);                                iv_d.setImageResource(R.drawable.exercises_error_icon);                                break;                            case 2:                                iv_d.setImageResource(R.drawable.exercises_error_icon);                                iv_b.setImageResource(R.drawable.exercises_right_icon);                                break;                            case 3:                                iv_d.setImageResource(R.drawable.exercises_error_icon);                                iv_c.setImageResource(R.drawable.exercises_right_icon);                                break;                            case 4:                                iv_d.setImageResource(R.drawable.exercises_right_icon);                                break;                        }                        AnalysisUtils.setABCDEnable(false, iv_a, iv_b, iv_c, iv_d);                    }                });        adapter.setData(ebl);        adapter.setOnItemListener(new ExercisesDetailListItemAdapter.OnItemListener() {            @Override            public void onItem(View view, int position) {                ff=ff+1;                tv_di.setText("第"+(position+1)+"题完成，共"+adapter.getItemCount()+"题");                if (ff==5){                    AnalysisUtils.saveExerciseStatus(ExercisesDetailActivity.this,id);                    Log.i("DD",id+"");                    setResult(RESULT_OK);                    //ff = 0;                }            }        });        rv_list.setAdapter(adapter);    }}</code></pre><p>ExercisesDetailListItemAdapter.java 中添加代码</p><pre><code>package cn.edu.gdmec.android.boxuegu.adapter;import android.content.Context;import android.support.v7.widget.RecyclerView;import android.view.LayoutInflater;import android.view.View;import android.view.ViewGroup;import android.widget.ImageView;import android.widget.TextView;import java.util.ArrayList;import java.util.List;import cn.edu.gdmec.android.boxuegu.R;import cn.edu.gdmec.android.boxuegu.bean.ExercisesBean;import cn.edu.gdmec.android.boxuegu.utils.AnalysisUtils;public class ExercisesDetailListItemAdapter extends        RecyclerView.Adapter&lt;ExercisesDetailListItemAdapter.ViewHolder&gt; {    private List&lt;ExercisesBean&gt; objects = new ArrayList&lt;ExercisesBean&gt;();    private ArrayList&lt;String&gt; selectedPosition = new ArrayList&lt;String&gt;();    private Context context;    private LayoutInflater layoutInflater;    private OnSelectListener onSelectListener;    private OnItemListener onItemListener;    public ExercisesDetailListItemAdapter(Context context, OnSelectListener onSelectListener) {        this.context = context;        this.onSelectListener = onSelectListener;        this.layoutInflater = LayoutInflater.from(context);    }    @Override    public ViewHolder onCreateViewHolder(ViewGroup parent, int viewType) {        LayoutInflater inflater = LayoutInflater.from(parent.getContext());        View view = inflater.inflate(R.layout.exercises_detail_list_item, parent,                false);        return new ViewHolder(view);    }    @Override    public void onBindViewHolder(ViewHolder holder, int position) {        initializeViews(objects.get(position), holder, position);    }    public void setData(List&lt;ExercisesBean&gt; objects) {        this.objects = objects;    }    @Override    public long getItemId(int position) {        return position;    }    @Override    public int getItemCount() {        return objects.size();    }    private void initializeViews(ExercisesBean object, final ViewHolder holder,                                 final int position) {        ExercisesBean bean = object;        if (bean != null) {            holder.tvSubject.setText(bean.subject);            holder.tvA.setText(bean.a);            holder.tvB.setText(bean.b);            holder.tvC.setText(bean.c);            holder.tvD.setText(bean.d);        }        if (!selectedPosition.contains("" + position)) {            holder.ivA.setImageResource(R.drawable.exercises_a);            holder.ivB.setImageResource(R.drawable.exercises_b);            holder.ivC.setImageResource(R.drawable.exercises_c);            holder.ivD.setImageResource(R.drawable.exercises_d);            AnalysisUtils.setABCDEnable(true, holder.ivA, holder.ivB, holder.ivC,                    holder.ivD);        } else {            AnalysisUtils.setABCDEnable(false, holder.ivA, holder.ivB, holder.ivC,                    holder.ivD);            switch (bean.select) {                case 0:                    if (bean.answer == 1) {                        holder.ivA.setImageResource(R.drawable.exercises_right_icon);                        holder.ivB.setImageResource(R.drawable.exercises_b);                        holder.ivC.setImageResource(R.drawable.exercises_c);                        holder.ivD.setImageResource(R.drawable.exercises_d);                    } else if (bean.answer == 2) {                        holder.ivA.setImageResource(R.drawable.exercises_a);                        holder.ivB.setImageResource(R.drawable.exercises_right_icon);                        holder.ivC.setImageResource(R.drawable.exercises_c);                        holder.ivD.setImageResource(R.drawable.exercises_d);                    } else if (bean.answer == 3) {                        holder.ivA.setImageResource(R.drawable.exercises_a);                        holder.ivB.setImageResource(R.drawable.exercises_b);                        holder.ivC.setImageResource(R.drawable.exercises_right_icon);                        holder.ivD.setImageResource(R.drawable.exercises_d);                    } else if (bean.answer == 4) {                        holder.ivA.setImageResource(R.drawable.exercises_a);                        holder.ivB.setImageResource(R.drawable.exercises_b);                        holder.ivC.setImageResource(R.drawable.exercises_c);                        holder.ivD.setImageResource(R.drawable.exercises_right_icon);                    }                    break;                case 1:                    holder.ivA.setImageResource(R.drawable.exercises_error_icon);                    if (bean.answer == 2) {                        holder.ivB.setImageResource(R.drawable.exercises_right_icon);                        holder.ivC.setImageResource(R.drawable.exercises_c);                        holder.ivD.setImageResource(R.drawable.exercises_d);                    } else if (bean.answer == 3) {                        holder.ivB.setImageResource(R.drawable.exercises_b);                        holder.ivC.setImageResource(R.drawable.exercises_right_icon);                        holder.ivD.setImageResource(R.drawable.exercises_d);                    } else if (bean.answer == 4) {                        holder.ivB.setImageResource(R.drawable.exercises_b);                        holder.ivC.setImageResource(R.drawable.exercises_c);                        holder.ivD.setImageResource(R.drawable.exercises_right_icon);                    }                    break;                case 2:                    holder.ivB.setImageResource(R.drawable.exercises_error_icon);                    if (bean.answer == 1) {                        holder.ivA.setImageResource(R.drawable.exercises_right_icon);                        holder.ivC.setImageResource(R.drawable.exercises_c);                        holder.ivD.setImageResource(R.drawable.exercises_d);                    } else if (bean.answer == 3) {                        holder.ivA.setImageResource(R.drawable.exercises_a);                        holder.ivC.setImageResource(R.drawable.exercises_right_icon);                        holder.ivD.setImageResource(R.drawable.exercises_d);                    } else if (bean.answer == 4) {                        holder.ivA.setImageResource(R.drawable.exercises_a);                        holder.ivC.setImageResource(R.drawable.exercises_c);                        holder.ivD.setImageResource(R.drawable.exercises_right_icon);                    }                    break;                case 3:                    holder.ivC.setImageResource(R.drawable.exercises_error_icon);                    if (bean.answer == 1) {                        holder.ivA.setImageResource(R.drawable.exercises_right_icon);                        holder.ivB.setImageResource(R.drawable.exercises_b);                        holder.ivD.setImageResource(R.drawable.exercises_d);                    } else if (bean.answer == 2) {                        holder.ivA.setImageResource(R.drawable.exercises_a);                        holder.ivB.setImageResource(R.drawable.exercises_right_icon);                        holder.ivD.setImageResource(R.drawable.exercises_d);                    } else if (bean.answer == 4) {                        holder.ivA.setImageResource(R.drawable.exercises_a);                        holder.ivB.setImageResource(R.drawable.exercises_b);                        holder.ivD.setImageResource(R.drawable.exercises_right_icon);                    }                    break;                case 4:                    holder.ivD.setImageResource(R.drawable.exercises_error_icon);                    if (bean.answer == 1) {                        holder.ivA.setImageResource(R.drawable.exercises_right_icon);                        holder.ivB.setImageResource(R.drawable.exercises_b);                        holder.ivC.setImageResource(R.drawable.exercises_c);                    } else if (bean.answer == 2) {                        holder.ivA.setImageResource(R.drawable.exercises_a);                        holder.ivB.setImageResource(R.drawable.exercises_right_icon);                        holder.ivC.setImageResource(R.drawable.exercises_c);                    } else if (bean.answer == 3) {                        holder.ivA.setImageResource(R.drawable.exercises_a);                        holder.ivB.setImageResource(R.drawable.exercises_b);                        holder.ivC.setImageResource(R.drawable.exercises_right_icon);                    }                    break;            }        }        holder.ivA.setOnClickListener(new View.OnClickListener() {            @Override            public void onClick(View v) {                if (onItemListener!=null){                    onItemListener.onItem(v,position);                }                if (selectedPosition.contains("" + position)) {                    selectedPosition.remove("" + position);                } else {                    selectedPosition.add(position + "");                }                onSelectListener.onSelectA(position, holder.ivA,                        holder.ivB, holder.ivC, holder.ivD);            }        });        holder.ivB.setOnClickListener(new View.OnClickListener() {            @Override            public void onClick(View v) {                if (onItemListener!=null){                    onItemListener.onItem(v,position);                }                if (selectedPosition.contains("" + position)) {                    selectedPosition.remove("" + position);                } else {                    selectedPosition.add(position + "");                }                onSelectListener.onSelectB(position, holder.ivA,                        holder.ivB, holder.ivC, holder.ivD);            }        });        holder.ivC.setOnClickListener(new View.OnClickListener() {            @Override            public void onClick(View v) {                if (onItemListener!=null){                    onItemListener.onItem(v,position);                }                if (selectedPosition.contains("" + position)) {                    selectedPosition.remove("" + position);                } else {                    selectedPosition.add(position + "");                }                onSelectListener.onSelectC(position, holder.ivA,                        holder.ivB, holder.ivC, holder.ivD);            }        });        holder.ivD.setOnClickListener(new View.OnClickListener() {            @Override            public void onClick(View v) {                if (onItemListener!=null){                    onItemListener.onItem(v,position);                }                if (selectedPosition.contains("" + position)) {                    selectedPosition.remove("" + position);                } else {                    selectedPosition.add(position + "");                }                onSelectListener.onSelectD(position, holder.ivA,                        holder.ivB, holder.ivC, holder.ivD);            }        });    }    protected class ViewHolder extends RecyclerView.ViewHolder {        private TextView tvSubject;        private ImageView ivA;        private TextView tvA;        private ImageView ivB;        private TextView tvB;        private ImageView ivC;        private TextView tvC;        private ImageView ivD;        private TextView tvD;        public ViewHolder(View view) {            super(view);            tvSubject = (TextView) view.findViewById(R.id.tv_subject);            ivA = (ImageView) view.findViewById(R.id.iv_a);            tvA = (TextView) view.findViewById(R.id.tv_a);            ivB = (ImageView) view.findViewById(R.id.iv_b);            tvB = (TextView) view.findViewById(R.id.tv_b);            ivC = (ImageView) view.findViewById(R.id.iv_c);            tvC = (TextView) view.findViewById(R.id.tv_c);            ivD = (ImageView) view.findViewById(R.id.iv_d);            tvD = (TextView) view.findViewById(R.id.tv_d);        }    }    public interface OnSelectListener {        void onSelectA(int position, ImageView iv_a,                       ImageView iv_b, ImageView iv_c,                       ImageView iv_d);        void onSelectB(int position, ImageView iv_a,                       ImageView iv_b, ImageView iv_c,                       ImageView iv_d);        void onSelectC(int position, ImageView iv_a,                       ImageView iv_b, ImageView iv_c,                       ImageView iv_d);        void onSelectD(int position, ImageView iv_a,                       ImageView iv_b, ImageView iv_c,                       ImageView iv_d);    }    public interface OnItemListener{        void onItem(View view,int position);    }    public void setOnItemListener(OnItemListener onItemListener){        this.onItemListener=onItemListener;    }}</code></pre><p>ExercisesListItemAdapter.java </p><pre><code>package cn.edu.gdmec.android.boxuegu.adapter;import android.app.Activity;import android.content.Context;import android.content.Intent;import android.util.Log;import android.view.LayoutInflater;import android.view.View;import android.view.ViewGroup;import android.widget.BaseAdapter;import android.widget.TextView;import java.util.ArrayList;import java.util.List;import cn.edu.gdmec.android.boxuegu.R;import cn.edu.gdmec.android.boxuegu.activity.ExercisesDetailActivity;import cn.edu.gdmec.android.boxuegu.bean.ExercisesBean;import cn.edu.gdmec.android.boxuegu.utils.AnalysisUtils;public class ExercisesListItemAdapter extends BaseAdapter {    private List&lt;ExercisesBean&gt; objects = new ArrayList&lt;ExercisesBean&gt;();    private Context context;    private LayoutInflater layoutInflater;    public ExercisesListItemAdapter(Context context){        this.context=context;        this.layoutInflater=LayoutInflater.from(context);    }    /**     * 设置数据更新界面     */    public void setData(List&lt;ExercisesBean&gt; objects){        this.objects = objects;        notifyDataSetChanged();    }    //    public void updateView(List&lt;ExercisesBean&gt; objects){        this.objects = objects;        this.notifyDataSetChanged();    }    @Override    public int getCount() {        return objects == null ? 0 : objects.size();    }    /**     * 根据position得到对应的Item的对象     */    @Override    public ExercisesBean getItem(int position) {        return objects.get(position);    }    /**     * 根据position得到对应Item的对象     */    @Override    public long getItemId(int position) {        return position;    }    /**     * 得到相应position对应的Item视图，position是当前Item的位置     * convertView参数就是滚出屏幕的Item的View     * 第一次进入或滑动屏幕时候被调用     */    @Override    public View getView(int position, View convertView, ViewGroup parent) {        if (convertView == null) {            convertView = layoutInflater.inflate(R.layout.exercises_list_item, null);            convertView.setTag(new ViewHolder(convertView));        }        initializeViews((ExercisesBean) getItem(position), (ViewHolder) convertView.getTag(),                position, convertView);        return convertView;    }    private void initializeViews(ExercisesBean object, ViewHolder holder,                                 int position, View convertView) {        final ExercisesBean bean = getItem(position);        if (bean != null) {            holder.tvOrder.setText(position + 1 + "");            holder.tvTitle.setText(bean.title);            Log.i("readExercises",AnalysisUtils.readExerciseStatus(context,position+1)+"");            if (AnalysisUtils.readExerciseStatus(context,position+1)){                holder.tvContent.setText("已完成");            }else{                holder.tvContent.setText(bean.content);            }            holder.tvOrder.setBackgroundResource(bean.background);            convertView.setOnClickListener(new View.OnClickListener() {                @Override                public void onClick(View v) {                    if (bean == null) {                        return;                    }                    //跳转到习题界面                    Intent intent = new Intent(context, ExercisesDetailActivity.class);                    intent.putExtra("id", bean.id);                    intent.putExtra("title", bean.title);                    ((Activity) context).startActivityForResult(intent, 000);                }            });        }    }    protected class ViewHolder {        private TextView tvOrder;        private TextView tvTitle;        private TextView tvContent;        public ViewHolder(View view) {            tvOrder = (TextView) view.findViewById(R.id.tv_order);            tvTitle = (TextView) view.findViewById(R.id.tv_title);            tvContent = (TextView) view.findViewById(R.id.tv_content);        }    }}</code></pre><p>AnalysisUtils.java 中添加代码</p><pre><code>    public static boolean readExerciseStatus(Context context,int i){        SharedPreferences sharedPreferences = context.getSharedPreferences("loginInfo", Context.MODE_PRIVATE);        boolean isDone = sharedPreferences.getBoolean("isDone"+i, false);        return isDone;    }    public static void saveExerciseStatus(Context context,int i){        SharedPreferences sp = context.getSharedPreferences("loginInfo", Context.MODE_PRIVATE);        SharedPreferences.Editor editor = sp.edit();        editor.putBoolean("isDone"+i, true);        editor.commit();    }</code></pre><pre><code>package cn.edu.gdmec.android.boxuegu.utils;import android.content.Context;import android.content.SharedPreferences;import android.util.Xml;import android.widget.ImageView;import org.xmlpull.v1.XmlPullParser;import java.io.InputStream;import java.util.ArrayList;import java.util.List;import cn.edu.gdmec.android.boxuegu.bean.ExercisesBean;public class AnalysisUtils {    //读取用户名    public static String readLoginUserName(Context context){        SharedPreferences sharedPreferences = context.getSharedPreferences("loginInfo",Context.MODE_PRIVATE);        String userName=sharedPreferences.getString("loginUserName","");        return userName;    }    //读取登录状态    public static boolean readLoginStatus(Context context){        SharedPreferences sharedPreferences = context.getSharedPreferences("loginInfo",Context.MODE_PRIVATE);        boolean isLogin=sharedPreferences.getBoolean("isLogin",false);        return isLogin;    }    //清除登录状态    public static void cleanLoginStatus(Context context){        SharedPreferences sharedPreferences = context.getSharedPreferences("loginInfo",Context.MODE_PRIVATE);        SharedPreferences.Editor editor = sharedPreferences.edit();        editor.putBoolean("isLogin",false);        editor.putString("loginUserName","");        editor.commit();    }    public static boolean readExerciseStatus(Context context,int i){        SharedPreferences sharedPreferences = context.getSharedPreferences("loginInfo", Context.MODE_PRIVATE);        boolean isDone = sharedPreferences.getBoolean("isDone"+i, false);        return isDone;    }    public static void saveExerciseStatus(Context context,int i){        SharedPreferences sp = context.getSharedPreferences("loginInfo", Context.MODE_PRIVATE);        SharedPreferences.Editor editor = sp.edit();        editor.putBoolean("isDone"+i, true);        editor.commit();    }    public static List&lt;ExercisesBean&gt; getExercisesInfos(InputStream is) throws Exception{        XmlPullParser parser = Xml.newPullParser();        parser.setInput(is,"utf-8");        List&lt;ExercisesBean&gt; exercisesInfos=null;        ExercisesBean exercisesInfo=null;        int type = parser.getEventType();        while (type!=XmlPullParser.END_DOCUMENT){            switch (type){                case XmlPullParser.START_TAG:                    if ("infos".equals(parser.getName())){                        exercisesInfos=new ArrayList&lt;ExercisesBean&gt;();                    }else if ("exercises".equals(parser.getName())){                        exercisesInfo=new ExercisesBean();                        String ids=parser.getAttributeValue(0);                        exercisesInfo.subjectId = Integer.parseInt(ids);                    }else if ("subject".equals(parser.getName())){                        String subject=parser.nextText();                        exercisesInfo.subject = subject;                    }else if ("a".equals(parser.getName())){                        String a=parser.nextText();                        exercisesInfo.a = a;                    }else if ("b".equals(parser.getName())){                        String b=parser.nextText();                        exercisesInfo.b = b;                    }else if ("c".equals(parser.getName())){                        String c=parser.nextText();                        exercisesInfo.c = c;                    }else if ("d".equals(parser.getName())){                        String d=parser.nextText();                        exercisesInfo.d = d;                    }else if ("answer".equals(parser.getName())){                        String answer=parser.nextText();                        exercisesInfo.answer = Integer.parseInt(answer);                    }                    break;                case XmlPullParser.END_TAG:                    if ("exercises".equals(parser.getName())){                        exercisesInfos.add(exercisesInfo);                        exercisesInfo=null;                    }                    break;            }            type=parser.next();        }        return exercisesInfos;    }    public static void setABCDEnable(boolean value, ImageView iv_a, ImageView iv_b, ImageView iv_c, ImageView iv_d){        iv_a.setEnabled(value);        iv_b.setEnabled(value);        iv_c.setEnabled(value);        iv_d.setEnabled(value);    }}</code></pre><h2 id="Ok，大功告成！"><a href="#Ok，大功告成！" class="headerlink" title="Ok，大功告成！"></a>Ok，大功告成！</h2><h2 id="教育系统APP-七"><a href="#教育系统APP-七" class="headerlink" title="教育系统APP(七)"></a>教育系统APP(七)</h2><p>掌握课程模块的开发，实现用ViewPager完成广告轮播图的展示<br>掌握课程模块的开发，实现用RecyclerView完成课程列表的展示</p><h2 id="项目实操"><a href="#项目实操" class="headerlink" title="项目实操"></a>项目实操</h2><p>课程界面-广告轮播图<br>课程界面-课程列表    </p><h2 id="任务实施"><a href="#任务实施" class="headerlink" title="任务实施"></a>任务实施</h2><p>课程模块主要用于展示课程中的视频信息，当点击课程列表时会跳转到课程详情界面，在该界面中可以播放相应章节的视频。<br>同时为了方便用户查看已学习的视频，还在“我”的界面中添加了一个播放记录。本章将对课程界面进行详细讲解。</p><h2 id="课程界面-广告轮播图"><a href="#课程界面-广告轮播图" class="headerlink" title="课程界面-广告轮播图"></a>课程界面-广告轮播图</h2><p>广告布局<br>导入图片文件 </p><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="/images/34.png" alt="34"></p><p>广告轮播图底部有三个可变色的小圆点，我们先把小圆点的选择器给做了。<br>在drawable文件夹下分别创建indicator_on.xml和indecator_off.xml。</p><p>indicator_on.xml </p><pre><code>&lt;?xml version="1.0" encoding="utf-8"?&gt;&lt;shape xmlns:android="http://schemas.android.com/apk/res/android" android:shape="oval"&gt;    &lt;size android:height="6dp" android:width="6dp"&gt;&lt;/size&gt;    &lt;solid android:color="#00ABF8"&gt;&lt;/solid&gt;&lt;/shape&gt;</code></pre><p>indicator_off.xml </p><pre><code>&lt;?xml version="1.0" encoding="utf-8"?&gt;&lt;shape xmlns:android="http://schemas.android.com/apk/res/android" android:shape="oval"&gt;    &lt;size android:height="6dp" android:width="6dp"&gt;&lt;/size&gt;    &lt;solid android:color="#737373"&gt;&lt;/solid&gt;&lt;/shape&gt;</code></pre><p>新建一个布局文件，命名为main_adbanner.xml </p><pre><code>&lt;?xml version="1.0" encoding="utf-8"?&gt;&lt;RelativeLayout    xmlns:android="http://schemas.android.com/apk/res/android"    android:id="@+id/rl_adBanner"    android:orientation="vertical"    android:layout_width="match_parent"    android:layout_height="160dp"    android:background="#eeeeee"&gt;    &lt;android.support.v4.view.ViewPager        android:layout_width="match_parent"        android:layout_height="match_parent"        android:id="@+id/vp_advertBanner"        android:background="@drawable/default_img"        android:gravity="center"        android:layout_marginBottom="1dp"        android:layout_alignParentLeft="true"        android:layout_alignParentTop="true"&gt;    &lt;/android.support.v4.view.ViewPager&gt;        &lt;LinearLayout            android:gravity="center_horizontal"            android:layout_alignParentBottom="true"            android:background="@android:color/transparent"            android:layout_width="match_parent"            android:layout_height="wrap_content"&gt;            &lt;View                android:background="@drawable/indicator_off"                android:layout_marginLeft="5dp"                android:id="@+id/dots_1"                android:layout_width="5dp"                android:layout_height="5dp"/&gt;            &lt;View                android:background="@drawable/indicator_off"                android:layout_marginLeft="5dp"                android:id="@+id/dots_2"                android:layout_width="5dp"                android:layout_height="5dp"/&gt;            &lt;View                android:background="@drawable/indicator_off"                android:layout_marginLeft="5dp"                android:id="@+id/dots_3"                android:layout_width="5dp"                android:layout_height="5dp"/&gt;        &lt;/LinearLayout&gt;&lt;/RelativeLayout&gt;</code></pre><p>课程界面布局<br>写完了轮播图的布局，我们来完成课程页面的布局。<br>修改fragment_course.xml。<br>fragment_course.xml </p><pre><code>&lt;?xml version="1.0" encoding="utf-8"?&gt;&lt;LinearLayout    xmlns:android="http://schemas.android.com/apk/res/android"    android:layout_width="match_parent"    android:layout_height="match_parent"    android:orientation="vertical"    android:background="@android:color/white"&gt;    &lt;include layout="@layout/main_adbanner"&gt;&lt;/include&gt;    &lt;LinearLayout        android:layout_width="match_parent"        android:layout_height="45dp"&gt;        &lt;ImageView            android:layout_width="25dp"            android:layout_height="25dp"            android:src="@drawable/course_intro_icon"            android:layout_gravity="center_vertical"            android:layout_marginLeft="8dp"/&gt;        &lt;TextView            android:layout_width="wrap_content"            android:layout_height="match_parent"            android:layout_marginLeft="5dp"            android:gravity="center_vertical"            android:text="Android 基础教程1-10章视频"            android:textSize="16sp"            android:textColor="@android:color/black"            android:textStyle="bold"/&gt;    &lt;/LinearLayout&gt;    &lt;View        android:layout_width="match_parent"        android:layout_height="1dp"        android:layout_marginLeft="8dp"        android:layout_marginRight="8dp"        android:background="#E4E4E4"&gt;    &lt;/View&gt;    &lt;android.support.v7.widget.RecyclerView        android:id="@+id/rv_list"        android:layout_width="match_parent"        android:layout_height="match_parent"        android:layout_marginBottom="55dp"        android:scrollbars="none"&gt;        &lt;!--android:divider="@null"        android:id="@+id/lv_list"        android:dividerHeight="0dp"--&gt;    &lt;/android.support.v7.widget.RecyclerView&gt;&lt;/LinearLayout&gt;</code></pre><p>ViewPager<br>先给ViewPager写一个适配器：<br>在Adapter文件夹下新建一个java文件，命名为ADViewPagerAdapter.java。<br>ADViewPagerAdapter.java </p><pre><code>package cn.edu.gdmec.android.boxuegu.adapter;import android.content.Context;import android.support.v4.view.PagerAdapter;import android.view.View;import android.view.ViewGroup;import android.widget.ImageView;import java.util.List;public class ADViewPagerAdapter extends PagerAdapter {    private Context context;    private List&lt;ImageView&gt; list;    public ADViewPagerAdapter(Context context, List&lt;ImageView&gt; list){        this.context = context;        this.list = list;    }    @Override    public int getCount() {        return list.size();    }    @Override    public boolean isViewFromObject(View view, Object object) {        return view == object;    }    @Override    public void destroyItem(ViewGroup container, int position, Object object){        container.removeView(list.get(position));    }    @Override    public Object instantiateItem(ViewGroup container, int position){        container.addView(list.get(position));        return list.get(position);    }}</code></pre><p>接下来是CourseFragment.java<br>CourseFragment.java </p><pre><code>package cn.edu.gdmec.android.boxuegu.fragment;import android.app.Activity;import android.os.Bundle;import android.os.Handler;import android.os.Message;import android.support.v4.app.Fragment;import android.support.v4.view.ViewPager;import android.support.v7.widget.RecyclerView;import android.util.DisplayMetrics;import android.view.Display;import android.view.LayoutInflater;import android.view.View;import android.view.ViewGroup;import android.widget.ImageView;import android.widget.RelativeLayout;import java.util.ArrayList;import java.util.List;import cn.edu.gdmec.android.boxuegu.R;import cn.edu.gdmec.android.boxuegu.adapter.ADViewPagerAdapter;public class CourseFragment extends Fragment {    private ViewPager vp_advertBanner;    private View dots_1;    private View dots_2;    private View dots_3;    private RelativeLayout rl_adBanner;    private RecyclerView rv_list;    public static final int MSG_AD_SLID = 002;    private List&lt;ImageView&gt; viewList;    private ADViewPagerAdapter viewPagerAdapter;    private List&lt;View&gt; dots;    private int oldPoints=0;    private  Thread thread;    private Handler handler = new Handler() {        @Override        public void handleMessage(Message msg) {            super.handleMessage(msg);            switch (msg.what) {                case MSG_AD_SLID:                    if (viewPagerAdapter.getCount() &gt; 0) {                        if (vp_advertBanner.getCurrentItem() == viewList.size() - 1) {                            vp_advertBanner.setCurrentItem(0);                        } else {                            vp_advertBanner.setCurrentItem(vp_advertBanner.getCurrentItem() + 1);                        }                    }                    break;            }        }    };    @Override    public View onCreateView(LayoutInflater inflater, ViewGroup container,                             Bundle savedInstanceState) {        return inflater.inflate(R.layout.fragment_course, container, false);    }    @Override    public void onViewCreated(View view, Bundle savedInstanceState){        super.onViewCreated(view, savedInstanceState);        initView(view);        setViewPager();    }    private void setViewPager(){        thread=new Thread(){            @Override            public void run(){                super.run();                while(true){                    try{                        sleep(1000);                    }catch (InterruptedException e){                        e.printStackTrace();                    }                    handler.sendEmptyMessage(MSG_AD_SLID);                }            }        };        thread.start();    }    private void initView(View view ){        vp_advertBanner=view.findViewById(R.id.vp_advertBanner);        rl_adBanner=view.findViewById(R.id.rl_adBanner);        viewList = new ArrayList&lt;&gt;();        ImageView imageView1=new ImageView(getActivity());        ImageView imageView2=new ImageView(getActivity());        ImageView imageView3=new ImageView(getActivity());        imageView1.setImageResource(R.drawable.banner_1);        imageView2.setImageResource(R.drawable.banner_2);        imageView3.setImageResource(R.drawable.banner_3);        viewList.add(imageView1);        viewList.add(imageView2);        viewList.add(imageView3);        viewPagerAdapter = new ADViewPagerAdapter(getActivity(),viewList);        vp_advertBanner.setAdapter(viewPagerAdapter);        //圆点        dots = new ArrayList&lt;View&gt;();        dots_1 = (View)view.findViewById(R.id.dots_1);        dots_2 = (View)view.findViewById(R.id.dots_2);        dots_3 = (View)view.findViewById(R.id.dots_3);        dots.add(dots_1);        dots.add(dots_2);        dots.add(dots_3);        //第一个圆点设为黑色        dots.get(0).setBackgroundResource(R.drawable.indicator_on);        vp_advertBanner.setOnPageChangeListener(new ViewPager.OnPageChangeListener(){            @Override            public void onPageScrolled(int position, float positionOffset, int positionOffsetPixels) {            }            @Override            public void onPageSelected(int position) {                dots.get(oldPoints).setBackgroundResource(R.drawable.indicator_off);                dots.get(position).setBackgroundResource(R.drawable.indicator_on);                oldPoints=position;            }            @Override            public void onPageScrollStateChanged(int state) {            }        });        resetSize();    }    private void resetSize(){        int sw = getScreenWidth(getActivity());        int adLheight = sw / 2;        ViewGroup.LayoutParams adlp = rl_adBanner.getLayoutParams();        adlp.width = sw;        adlp.height = adLheight;        rl_adBanner.setLayoutParams(adlp);    }    private int getScreenWidth(Activity mContext){        DisplayMetrics metrics = new DisplayMetrics();        Display display = mContext.getWindowManager().getDefaultDisplay();        display.getMetrics(metrics);        return metrics.widthPixels;    }}</code></pre><h2 id="课程界面-课程列表"><a href="#课程界面-课程列表" class="headerlink" title="课程界面-课程列表"></a>课程界面-课程列表</h2><p>课程列表item<br>新建布局文件，命名为course_list_item.xml。</p><p>course_list_item.xml </p><pre><code>&lt;?xml version="1.0" encoding="utf-8"?&gt;&lt;LinearLayout    xmlns:android="http://schemas.android.com/apk/res/android"    android:orientation="vertical"    android:background="@android:color/white"    android:layout_width="match_parent"    android:layout_height="wrap_content"&gt;        &lt;RelativeLayout            android:layout_width="match_parent"            android:layout_height="115dp"&gt;            &lt;ImageView                android:id="@+id/iv_course_img"                android:layout_width="match_parent"                android:layout_height="match_parent"                android:paddingBottom="4dp"                android:paddingLeft="8dp"                android:paddingRight="4dp"                android:paddingTop="8dp"                android:src="@drawable/chapter_1_icon"/&gt;            &lt;TextView                android:id="@+id/tv_course_img_title"                android:layout_width="match_parent"                android:layout_height="wrap_content"                android:layout_alignParentBottom="true"                android:layout_marginBottom="4dp"                android:layout_marginLeft="10dp"                android:layout_marginRight="6dp"                android:background="#30000000"                android:paddingBottom="2dp"                android:paddingRight="5dp"                android:paddingLeft="5dp"                android:paddingTop="2dp"                android:text="Android 基础入门"                android:textSize="12sp"                android:textColor="@android:color/white"/&gt;        &lt;/RelativeLayout&gt;        &lt;TextView            android:id="@+id/tv_course_title"            android:layout_width="wrap_content"            android:layout_height="wrap_content"            android:layout_gravity="center_horizontal"            android:text="Android 基础视频第一章"            android:textColor="@android:color/black"            android:textSize="14sp"/&gt;&lt;/LinearLayout&gt;</code></pre><h2 id="属性类"><a href="#属性类" class="headerlink" title="属性类"></a>属性类</h2><p>在Bean包下新建一个Java文件，命名为CourseBean.java</p><p>CourseBean.java </p><pre><code>public class CourseBean {    public int id;    public String imgTitle;    public String title;    public String intro;    public String icon;}</code></pre><h2 id="课程item的适配器"><a href="#课程item的适配器" class="headerlink" title="课程item的适配器"></a>课程item的适配器</h2><p>右键course_list_item.xml，用Genrate Code生成adapter文件，把它放进adapter包下。<br>CourseListItemAdapter.java </p><pre><code>package cn.edu.gdmec.android.boxuegu.adapter;import android.content.Context;import android.support.v7.widget.RecyclerView;import android.view.LayoutInflater;import android.view.View;import android.view.ViewGroup;import android.widget.ImageView;import android.widget.TextView;import java.util.ArrayList;import java.util.List;import cn.edu.gdmec.android.boxuegu.R;import cn.edu.gdmec.android.boxuegu.bean.CourseBean;public class CourseListItemAdapter extends RecyclerView.Adapter&lt;CourseListItemAdapter.ViewHolder&gt; {    private List&lt;CourseBean&gt; objects = new ArrayList&lt;CourseBean&gt;();    private Context context;    private LayoutInflater layoutInflater;    public CourseListItemAdapter(Context context) {        this.context = context;        this.layoutInflater = LayoutInflater.from(context);    }    @Override    public ViewHolder onCreateViewHolder(ViewGroup parent, int viewType) {        LayoutInflater inflater = LayoutInflater.from(parent.getContext());        View view=inflater.inflate(R.layout.course_list_item,parent,false);        return new ViewHolder(view);    }    @Override    public void onBindViewHolder(ViewHolder holder, int position){        initializeViews(objects.get(position), holder);    }    public void setData(List&lt;CourseBean&gt; objects){        this.objects=objects;    }    @Override    public long getItemId(int position) {        return position;    }    @Override    public int getItemCount() {        return objects.size();    }    private void initializeViews(CourseBean object, ViewHolder holder) {        if (object != null){            holder.tvCourseImgTitle.setText(object.imgTitle);            holder.tvCourseTitle.setText(object.title);            switch (object.id){                case 1:                    holder.ivCourseImg.setImageResource(R.drawable.chapter_1_icon);                    break;                case 2:                    holder.ivCourseImg.setImageResource(R.drawable.chapter_2_icon);                    break;                case 3:                    holder.ivCourseImg.setImageResource(R.drawable.chapter_3_icon);                    break;                case 4:                    holder.ivCourseImg.setImageResource(R.drawable.chapter_4_icon);                    break;                case 5:                    holder.ivCourseImg.setImageResource(R.drawable.chapter_5_icon);                    break;                case 6:                    holder.ivCourseImg.setImageResource(R.drawable.chapter_6_icon);                    break;                case 7:                    holder.ivCourseImg.setImageResource(R.drawable.chapter_7_icon);                    break;                case 8:                    holder.ivCourseImg.setImageResource(R.drawable.chapter_8_icon);                    break;                case 9:                    holder.ivCourseImg.setImageResource(R.drawable.chapter_9_icon);                    break;                case 10:                    holder.ivCourseImg.setImageResource(R.drawable.chapter_10_icon);                    break;            }        }    }    protected class ViewHolder extends RecyclerView.ViewHolder {        private ImageView ivCourseImg;        private TextView tvCourseImgTitle;        private TextView tvCourseTitle;        public ViewHolder(View view) {            super(view);            ivCourseImg = (ImageView) view.findViewById(R.id.iv_course_img);            tvCourseImgTitle = (TextView) view.findViewById(R.id.tv_course_img_title);            tvCourseTitle = (TextView) view.findViewById(R.id.tv_course_title);        }    }}</code></pre><h2 id="课程数据"><a href="#课程数据" class="headerlink" title="课程数据"></a>课程数据</h2><p>在assets文件夹中放入chaptertitle.xml，显然之前放过了<br>到Utils包下的AnalysisUtils.java中添加解析课程数据的方法。</p><p>AnalysisUtils.java </p><pre><code> public static List&lt;CourseBean&gt; getCourseInfos(InputStream is) throws  Exception{        XmlPullParser parser=Xml.newPullParser();        parser.setInput(is,"utf-8");        List&lt;CourseBean&gt; courseList=null;        CourseBean courseInfo=null;        int type=parser.getEventType();        while(type !=XmlPullParser.END_DOCUMENT){            switch (type){                case XmlPullParser.START_TAG:                    if ("infos".equals(parser.getName())){                        courseList=new ArrayList&lt;CourseBean&gt;();                    }else if("course".equals(parser.getName())){                        courseInfo=new CourseBean();                        String ids=parser.getAttributeValue(0);                        courseInfo.id=Integer.parseInt(ids);                    }                    else if("imgtitle".equals(parser.getName())){                        String imgtitle=parser.nextText();                        courseInfo.imgTitle=imgtitle;                    }                    else if("title".equals(parser.getName())){                        String title=parser.nextText();                        courseInfo.title=title;                    }                    else if("intro".equals(parser.getName())){                        String intro=parser.nextText();                        courseInfo.intro=intro;                    }                    break;                case XmlPullParser.END_TAG:                    if ("course".equals(parser.getName())){                        courseList.add(courseInfo);                        courseInfo=null;                    }                    break;            }            type=parser.next();        }        return courseList;    }</code></pre><p>课程列表逻辑代码<br>回到CourseFragment.java,把获取数据和recyclerView的逻辑代码补上</p><p>CourseFragment.java </p><pre><code>package cn.edu.gdmec.android.boxuegu.fragment;import android.app.Activity;import android.os.Bundle;import android.os.Handler;import android.os.Message;import android.support.v4.app.Fragment;import android.support.v4.view.ViewPager;import android.support.v7.widget.GridLayoutManager;import android.support.v7.widget.RecyclerView;import android.util.DisplayMetrics;import android.view.Display;import android.view.LayoutInflater;import android.view.View;import android.view.ViewGroup;import android.widget.ImageView;import android.widget.RelativeLayout;import java.io.IOException;import java.io.InputStream;import java.util.ArrayList;import java.util.List;import cn.edu.gdmec.android.boxuegu.R;import cn.edu.gdmec.android.boxuegu.adapter.ADViewPagerAdapter;import cn.edu.gdmec.android.boxuegu.adapter.CourseListItemAdapter;import cn.edu.gdmec.android.boxuegu.bean.CourseBean;import cn.edu.gdmec.android.boxuegu.utils.AnalysisUtils;public class CourseFragment extends Fragment {    private ViewPager vp_advertBanner;    private View dots_1;    private View dots_2;    private View dots_3;    private RelativeLayout rl_adBanner;    private RecyclerView rv_list;    public static final int MSG_AD_SLID = 002;    private List&lt;ImageView&gt; viewList;    private ADViewPagerAdapter viewPagerAdapter;    private List&lt;View&gt; dots;    private int oldPoints=0;    private  Thread thread;    private List&lt;CourseBean&gt; rList;    private CourseListItemAdapter adapter;    private Handler handler = new Handler() {        @Override        public void handleMessage(Message msg) {            super.handleMessage(msg);            switch (msg.what) {                case MSG_AD_SLID:                    if (viewPagerAdapter.getCount() &gt; 0) {                        if (vp_advertBanner.getCurrentItem() == viewList.size() - 1) {                            vp_advertBanner.setCurrentItem(0);                        } else {                            vp_advertBanner.setCurrentItem(vp_advertBanner.getCurrentItem() + 1);                        }                    }                    break;            }        }    };    @Override    public View onCreateView(LayoutInflater inflater, ViewGroup container,                             Bundle savedInstanceState) {        return inflater.inflate(R.layout.fragment_course, container, false);    }    @Override    public void onViewCreated(View view, Bundle savedInstanceState){        super.onViewCreated(view, savedInstanceState);        getCourseData();        initView(view);        setViewPager();    }    private void getCourseData(){        try {            InputStream is = getActivity().getResources().getAssets().open("chaptertitle.xml");            rList = AnalysisUtils.getCourseInfos(is);        }catch (IOException e){            e.printStackTrace();        } catch (Exception e) {            e.printStackTrace();        }    }    private void setViewPager(){        thread=new Thread(){            @Override            public void run(){                super.run();                while(true){                    try{                        sleep(1000);                    }catch (InterruptedException e){                        e.printStackTrace();                    }                    handler.sendEmptyMessage(MSG_AD_SLID);                }            }        };        thread.start();    }    private void initView(View view ){        rv_list=view.findViewById(R.id.rv_list);        adapter=new CourseListItemAdapter(getActivity());        adapter.setData(rList);        rv_list.setLayoutManager(new GridLayoutManager(getActivity(),3));        rv_list.setAdapter(adapter);        vp_advertBanner=view.findViewById(R.id.vp_advertBanner);        rl_adBanner=view.findViewById(R.id.rl_adBanner);        viewList = new ArrayList&lt;&gt;();        ImageView imageView1=new ImageView(getActivity());        ImageView imageView2=new ImageView(getActivity());        ImageView imageView3=new ImageView(getActivity());        imageView1.setImageResource(R.drawable.banner_1);        imageView2.setImageResource(R.drawable.banner_2);        imageView3.setImageResource(R.drawable.banner_3);        viewList.add(imageView1);        viewList.add(imageView2);        viewList.add(imageView3);        viewPagerAdapter = new ADViewPagerAdapter(getActivity(),viewList);        vp_advertBanner.setAdapter(viewPagerAdapter);        //圆点        dots = new ArrayList&lt;View&gt;();        dots_1 = (View)view.findViewById(R.id.dots_1);        dots_2 = (View)view.findViewById(R.id.dots_2);        dots_3 = (View)view.findViewById(R.id.dots_3);        dots.add(dots_1);        dots.add(dots_2);        dots.add(dots_3);        //第一个圆点设为黑色        dots.get(0).setBackgroundResource(R.drawable.indicator_on);        vp_advertBanner.setOnPageChangeListener(new ViewPager.OnPageChangeListener(){            @Override            public void onPageScrolled(int position, float positionOffset, int positionOffsetPixels) {            }            @Override            public void onPageSelected(int position) {                dots.get(oldPoints).setBackgroundResource(R.drawable.indicator_off);                dots.get(position).setBackgroundResource(R.drawable.indicator_on);                oldPoints=position;            }            @Override            public void onPageScrollStateChanged(int state) {            }        });        resetSize();    }    private void resetSize(){        int sw = getScreenWidth(getActivity());        int adLheight = sw / 2;        ViewGroup.LayoutParams adlp = rl_adBanner.getLayoutParams();        adlp.width = sw;        adlp.height = adLheight;        rl_adBanner.setLayoutParams(adlp);    }    private int getScreenWidth(Activity mContext){        DisplayMetrics metrics = new DisplayMetrics();        Display display = mContext.getWindowManager().getDefaultDisplay();        display.getMetrics(metrics);        return metrics.widthPixels;    }}</code></pre><p>补充完成后，大功告成！</p><h2 id="任务实施-福利"><a href="#任务实施-福利" class="headerlink" title="任务实施-福利"></a>任务实施-福利</h2><p>把课程列表显示从2列变为3列</p><p>由于任务过简单，就告诉你们~<br>CourseFragment.java，其实你们会发现运行完就变3列了，那么是哪里改的呢？</p><pre><code>rv_list=view.findViewById(R.id.rv_list);        adapter=new CourseListItemAdapter(getActivity());        adapter.setData(rList);        rv_list.setLayoutManager(new GridLayoutManager(getActivity(),3));        rv_list.setAdapter(adapter);</code></pre><h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>大家是不是觉得之前的任务有点难呢？就给任务福利了，岁月静好~</p><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
      
      
      <categories>
          
          <category> 教育系统APP </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 教育系统APP </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>教育系统APP(六)</title>
      <link href="/2018/04/26/1/"/>
      <url>/2018/04/26/1/</url>
      
        <content type="html"><![CDATA[<blockquote class="blockquote-center">用一切抱怨的时间去努力</blockquote>## 回顾上一期任务<p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="/images/25.jpg" alt="25"></p><h2 id="任务实施"><a href="#任务实施" class="headerlink" title="任务实施"></a>任务实施</h2><p>个人资料加上QQ号属性<br>在个人资料下添加一个“QQ号”属性，初始状态文字显示“未添加”，点击进入修改页面，输入框的键盘类型只能为数字。<br>（提示：editText.setInputType(InputType.TYPE_CLASS_NUMBER) ）<br>输入框最多只能输入12位数字，点击保存后个人资料界面能正常显示保存后的结果。</p><h2 id="教育系统APP-六-的发布"><a href="#教育系统APP-六-的发布" class="headerlink" title="教育系统APP(六)的发布"></a>教育系统APP(六)的发布</h2><a id="more"></a><h2 id="先解决上一次的问题-教育系统APP-五"><a href="#先解决上一次的问题-教育系统APP-五" class="headerlink" title="先解决上一次的问题-教育系统APP(五)"></a>先解决上一次的问题-教育系统APP(五)</h2><p>DBUtils.java </p><pre><code>package cn.edu.gdmec.android.boxuegu.utils;import android.content.ContentValues;import android.content.Context;import android.database.Cursor;import android.database.sqlite.SQLiteDatabase;import cn.edu.gdmec.android.boxuegu.bean.UserBean;import cn.edu.gdmec.android.boxuegu.sqlite.SQLiteHelper;public class DBUtils {    private static DBUtils instance = null;    private static SQLiteHelper helper;    private static SQLiteDatabase db;    /**     * 构造方法，只有当类被实例化时候调用     * 实例化SQLiteHelper类，从中得到一个课读写的数据库     **/    public DBUtils(Context context) {        helper = new SQLiteHelper(context);        db = helper.getWritableDatabase();    }    /**     * 得到这个类的实例     **/    public static DBUtils getInstance(Context context) {        if (instance == null) {            instance = new DBUtils(context);        }        return instance;    }    /**     * 保存个人资料信息     **/    public void saveUserInfo(UserBean bean) {        ContentValues cv = new ContentValues();        cv.put("userName", bean.userName);        cv.put("nickName", bean.nickName);        cv.put("sex", bean.sex);        cv.put("signature", bean.signature);        cv.put("qq",bean.qq);        //Convenience method for inserting a row into the database.        //注意，我们是从数据库使用插入方法，传入表名和数据集完成插入        db.insert(SQLiteHelper.U_USER_INFO, null, cv);    }    /**     * 获取个人资料信息     **/    public UserBean getUserInfo(String userName) {        String sql = "SELECT * FROM " + SQLiteHelper.U_USER_INFO + " WHERE userName=?";        //?和下面数组内元素会逐个替换，可以多条件查询=?and =?        //You may include ?s in where clause in the query, which will be replaced by the values from selectionArgs.        Cursor cursor = db.rawQuery(sql, new String[]{userName});        UserBean bean = null;        //Move the cursor to the next row.        while (cursor.moveToNext()) {            bean = new UserBean();            //根据列索引获取对应的数值，因为这里查询结果只有一个，我们也不需要对模型UserBean进行修改，            //直接将对应用户名的所有数据从表中动态赋值给bean            bean.userName = cursor.getString(cursor.getColumnIndex("userName"));            bean.nickName = cursor.getString(cursor.getColumnIndex("nickName"));            bean.sex = cursor.getString(cursor.getColumnIndex("sex"));            bean.signature = cursor.getString(cursor.getColumnIndex("signature"));            bean.qq = cursor.getString(cursor.getColumnIndex("qq"));        }        cursor.close();        return bean;    }    /**     * 修改个人资料信息,这里的key指代表字段，value表示数值     **/    public void updateUserInfo(String key, String value, String userName) {        ContentValues cv = new ContentValues();        cv.put(key, value);        //Convenience method for updating rows in the database.        db.update(SQLiteHelper.U_USER_INFO, cv, "userName=?", new String[]                {userName});    }}</code></pre><p>SQLiteHelper.java </p><pre><code>package cn.edu.gdmec.android.boxuegu.sqlite;import android.content.Context;import android.database.sqlite.SQLiteDatabase;import android.database.sqlite.SQLiteOpenHelper;public class SQLiteHelper extends SQLiteOpenHelper {    private static final int DB_VERSION = 1;    public static String DB_NAME = "bxg.db";    public static final String U_USER_INFO = "userInfo";    public SQLiteHelper(Context context){        super(context, DB_NAME, null, DB_VERSION);    }    @Override    public void onCreate(SQLiteDatabase db) {        /**         * 当这个SQLiteOpenHelper的子类类被实例化时会创建指定名的数据库，在onCreate中创建个人信息表         * **/        db.execSQL("CREATE TABLE IF NOT EXISTS " + U_USER_INFO + "( "                + "_id  INTEGER PRIMARY KEY AUTOINCREMENT, "                + "userName VARCHAR, "                + "nickName VARCHAR, "                + "sex VARCHAR, "                + "signature VARCHAR, "                + "qq VARCHAR "                + ")");    }    /**     * 当数据库版本号增加才会调用此方法     **/    @Override    public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {        db.execSQL("DROP TABLE IF EXISTS " + U_USER_INFO);        onCreate(db);    }}</code></pre><p>UserBean.java </p><pre><code>package cn.edu.gdmec.android.boxuegu.bean;public class UserBean {    public String userName;//用户名    public String nickName;//昵称    public String sex;//性别    public String signature;//签名    public String qq;//qq}</code></pre><p>UserInfoActivity.java </p><pre><code>package cn.edu.gdmec.android.boxuegu.activity;import android.app.Activity;import android.content.DialogInterface;import android.content.Intent;import android.content.pm.ActivityInfo;import android.graphics.Color;import android.os.Bundle;import android.support.v7.app.AlertDialog;import android.text.TextUtils;import android.view.View;import android.widget.ImageView;import android.widget.RelativeLayout;import android.widget.TextView;import android.widget.Toast;import cn.edu.gdmec.android.boxuegu.R;import cn.edu.gdmec.android.boxuegu.bean.UserBean;import cn.edu.gdmec.android.boxuegu.utils.AnalysisUtils;import cn.edu.gdmec.android.boxuegu.utils.DBUtils;public class UserInfoActivity extends Activity implements View.OnClickListener{    //标题栏    private RelativeLayout title_bar;    private TextView tv_back;    private TextView tv_main_title;    //    private RelativeLayout rl_head;    private ImageView iv_head_icon;    private RelativeLayout rl_account;//    private TextView tv_user_name;    private RelativeLayout rl_nickName;    private TextView tv_nick_name;    private RelativeLayout rl_sex;    private TextView tv_sex;    private RelativeLayout rl_signature;    private TextView tv_signature;    private RelativeLayout rl_qq;    private TextView tv_qq;    //    private String spUserName;    private String new_info;    private static final int CHANGE_NICKNAME = 1;    private static final int CHANGE_SIGNATURE = 2;    private static final int CHANGE_QQ = 3;    @Override    protected void onCreate(Bundle savedInstanceState) {        super.onCreate(savedInstanceState);        setContentView(R.layout.activity_user_info);        //设置此界面为竖屏        setRequestedOrientation(ActivityInfo.SCREEN_ORIENTATION_PORTRAIT);        spUserName= AnalysisUtils.readLoginUserName(this);        initView();        initDate();    }    private void initDate() {        UserBean bean = null;        //实例化DBUtils，同时调用其方法获取个人信息资料        bean = DBUtils.getInstance(this).getUserInfo(spUserName);        //如果第一次进入，数据库没有保留用户信息        if (bean == null) {            bean = new UserBean();            bean.userName = spUserName;            bean.nickName = "问答精灵";            bean.sex = "男";            bean.signature = "这个人很懒，什么都没留下...";            bean.qq = "未添加";            //保存到数据库            DBUtils.getInstance(this).saveUserInfo(bean);        }        setValue(bean);    }    private void initView() {        //个人资料界面        tv_back = findViewById(R.id.tv_back);        tv_main_title = findViewById(R.id.tv_main_title);        tv_main_title.setText("个人资料界面");        title_bar = findViewById(R.id.title_bar);        title_bar.setBackgroundColor(Color.parseColor("#30B4FF"));        /**         * rl_head iv_head_icon         * rl_account tv_user_name         * rl_nickName tv_nick_name         * rl_sex tv_sex         * rl_signature tv_signature         * rl_qq tv_qq         */        rl_head=findViewById(R.id.rl_head);        iv_head_icon=findViewById(R.id.iv_head_icon);        rl_account=findViewById(R.id.rl_account);        tv_user_name=findViewById(R.id.tv_user_name);        rl_nickName=findViewById(R.id.rl_nickName);        tv_nick_name=findViewById(R.id.tv_nick_name);        rl_sex=findViewById(R.id.rl_sex);        tv_sex=findViewById(R.id.tv_sex);        rl_signature=findViewById(R.id.rl_signature);        tv_signature=findViewById(R.id.tv_signature);        rl_qq=findViewById(R.id.rl_qq);        tv_qq=findViewById(R.id.tv_qq);        //        tv_back.setOnClickListener(this);        rl_head.setOnClickListener(this);        rl_account.setOnClickListener(this);        rl_nickName.setOnClickListener(this);        rl_sex.setOnClickListener(this);        rl_signature.setOnClickListener(this);        rl_qq.setOnClickListener(this);    }    @Override    public void onClick(View v) {        switch (v.getId()) {            case R.id.tv_back:                this.finish();                break;            case R.id.rl_nickName:                //昵称                String name = tv_nick_name.getText().toString();                Bundle bdName = new Bundle();                bdName.putString("content", name);      //传递界面上的昵称数据                bdName.putString("title", "昵称");                bdName.putInt("flag", 1);                //ActivityUserInfoActivity的Onclick()里昵称和签名响应加上跳转代码                enterActivityForResult(ChangeUserInfoActivity.class, CHANGE_NICKNAME, bdName);//跳转到修改界面                break;            case R.id.rl_sex:                String sex = tv_sex.getText().toString();                sexDialog(sex);                break;            case R.id.rl_signature:                //签名                String signature = tv_signature.getText().toString();                Bundle bdSignature = new Bundle();                bdSignature.putString("content", signature); //传递界面上的签名数据                bdSignature.putString("title", "签名");                bdSignature.putInt("flag", 2);                //ActivityUserInfoActivity的Onclick()里昵称和签名响应加上跳转代码                enterActivityForResult(ChangeUserInfoActivity.class, CHANGE_SIGNATURE, bdSignature);                break;            case R.id.rl_qq:                String qq = tv_qq.getText().toString();                Bundle bdqq = new Bundle();                bdqq.putString("content", qq); //传递界面上的签名数据                bdqq.putString("title", "QQ号");                bdqq.putInt("flag", 3);                //ActivityUserInfoActivity的Onclick()里昵称和签名响应加上跳转代码                enterActivityForResult(ChangeUserInfoActivity.class, CHANGE_QQ, bdqq);                break;            default:                break;        }    }    /**     * 为界面空间设置值     **/    private void setValue(UserBean bean) {        tv_user_name.setText(bean.userName);        tv_nick_name.setText(bean.nickName);        tv_sex.setText(bean.sex);        tv_signature.setText(bean.signature);        tv_qq.setText(bean.qq);    }    /**     * 设置性别弹出框     **/    private void sexDialog(String sex) {        int sexFlag = 0;        if ("男".equals(sex)) {            sexFlag = 0;        } else if ("女".equals(sex)) {            sexFlag = 1;        }        final String items[] = {"男", "女"};        AlertDialog.Builder builder = new AlertDialog.Builder(this);        builder.setTitle("性别");        //sexFlag用来区分显示被选中项，如果sexFlag的值和在数组中的索引严格符合，下方which也可用sexFlag代替        builder.setSingleChoiceItems(items, sexFlag, new DialogInterface.OnClickListener() {            @Override            public void onClick(DialogInterface dialog, int which) {                dialog.dismiss();                Toast.makeText(UserInfoActivity.this, items[which], Toast.LENGTH_SHORT).show();                setSex(items[which]);            }        });        builder.create().show();    }    /**     * 更新性别数据     **/    private void setSex(String sex) {        tv_sex.setText(sex);        //更新数据库字段        DBUtils.getInstance(this).updateUserInfo("sex", sex, spUserName);    }    /**     * 其实就是把需要传递的数值放置于bundle中，bundle作为附加到intent中     * 获取回传数据是需要的跳转方法，第三个参数标示跳转是传递的数据     **/    public void enterActivityForResult(Class&lt;?&gt; to, int requestCode, Bundle b) {        Intent i = new Intent(this, to);        i.putExtras(b);        startActivityForResult(i, requestCode);    }    @Override    protected void onActivityResult(int requestCode, int resultCode, Intent data) {        super.onActivityResult(requestCode, resultCode, data);        switch (requestCode) {            case CHANGE_NICKNAME:                if (data != null) {                    new_info = data.getStringExtra("nickName");                    if (TextUtils.isEmpty(new_info)) {                        return;                    }                    tv_nick_name.setText(new_info);                    //更新数据库中昵称字段                    DBUtils.getInstance(UserInfoActivity.this).updateUserInfo("nickName",                            new_info, spUserName);                }                break;            case CHANGE_SIGNATURE:                if (data != null) {                    new_info = data.getStringExtra("signature");                    if (TextUtils.isEmpty(new_info)) {                        return;                    }                    tv_signature.setText(new_info);                    //更新数据库中签名字段                    DBUtils.getInstance(UserInfoActivity.this).updateUserInfo("signature",                            new_info, spUserName);                }                break;            case CHANGE_QQ:                if (data != null) {                    new_info = data.getStringExtra("qq");                    if (TextUtils.isEmpty(new_info)) {                        return;                    }                    tv_qq.setText(new_info);                    //更新数据库中QQ字段                    DBUtils.getInstance(UserInfoActivity.this).updateUserInfo("qq",                            new_info, spUserName);                }                break;        }    }}</code></pre><p>ChangeUserInfoActivity.java </p><pre><code>package cn.edu.gdmec.android.boxuegu.activity;import android.content.Intent;import android.content.pm.ActivityInfo;import android.graphics.Color;import android.os.Bundle;import android.support.v7.app.AppCompatActivity;import android.text.Editable;import android.text.Selection;import android.text.TextUtils;import android.text.TextWatcher;import android.view.View;import android.widget.EditText;import android.widget.ImageView;import android.widget.RelativeLayout;import android.widget.TextView;import android.widget.Toast;import cn.edu.gdmec.android.boxuegu.R;public class ChangeUserInfoActivity extends AppCompatActivity implements View.OnClickListener{    //标题栏    private TextView tv_back;    private TextView tv_main_title;    private TextView tv_save;    private RelativeLayout rl_title_bar;    //    private EditText et_content;    private ImageView iv_delete;    private String title, content;    private int flag;  //flag为1时表示修改昵称，为2时表示修改签名，为3时表示修改QQ号    @Override    protected void onCreate(Bundle savedInstanceState) {        super.onCreate(savedInstanceState);        setContentView(R.layout.activity_change_user_info);        //设置此界面为竖屏        setRequestedOrientation(ActivityInfo.SCREEN_ORIENTATION_PORTRAIT);        initView();    }    private void initView() {        tv_back = (TextView) findViewById(R.id.tv_back);        tv_main_title = (TextView) findViewById(R.id.tv_main_title);        tv_save = (TextView) findViewById(R.id.tv_save);        rl_title_bar = (RelativeLayout) findViewById(R.id.title_bar);        et_content = (EditText) findViewById(R.id.et_content);        iv_delete = (ImageView) findViewById(R.id.iv_delete);        //从个人资料界面传递过来的标题和内容        title = getIntent().getStringExtra("title");        content = getIntent().getStringExtra("content");        flag = getIntent().getIntExtra("flag", 0);        tv_main_title.setText(title);        tv_save.setVisibility(View.VISIBLE);        rl_title_bar.setBackgroundColor(Color.parseColor("#30B4FF"));        tv_back.setOnClickListener(this);        iv_delete.setOnClickListener(this);        tv_save.setOnClickListener(this);        if (!TextUtils.isEmpty(content)){            et_content.setText(content);            et_content.setSelection(content.length());        }        contentListener();    }    /**     * 监听个人资料修改界面输入的文字     **/    private void contentListener() {        et_content.addTextChangedListener(new TextWatcher() {            @Override            public void beforeTextChanged(CharSequence charSequence, int start, int count, int after) {            }            @Override            public void onTextChanged(CharSequence s, int start, int before, int count) {                Editable editable = et_content.getText();                int len = editable.length();//输入文本的长度                if (len &gt;= 0) {                    iv_delete.setVisibility(View.VISIBLE);                } else {                    iv_delete.setVisibility(View.GONE);                }                switch (flag) {                    case 1://昵称,最多8个文字，超过则截取多余文字                        if (len &gt; 8) {                            int selEndIndex = Selection.getSelectionEnd(editable);                            String str = editable.toString();                            //截取新字符串                            String newStr = str.substring(0, 8);                            et_content.setText(newStr);                            editable = et_content.getText();                            //新字符串长度                            int newLen = editable.length();                            //旧光标位置超过新字符串长度                            if (selEndIndex &gt; newLen) {                                selEndIndex = editable.length();                            }                            //设置新光标所在位置                            Selection.setSelection(editable, selEndIndex);                        }                        break;                    case 2: //签名，做多16，                        if (len &gt; 16) {                            int selEndIndex = Selection.getSelectionEnd(editable);                            String str = editable.toString();                            String newStr = str.substring(0, 16);                            et_content.setText(newStr);                            editable = et_content.getText();                            int newLen = editable.length();                            if (selEndIndex &gt; newLen) {                                selEndIndex = editable.length();                            }                            Selection.setSelection(editable, selEndIndex);                        }                        break;                    case 3: //qq，做多16，                        if (len &gt; 12) {                            int selEndIndex = Selection.getSelectionEnd(editable);                            String str = editable.toString();                            String newStr = str.substring(0, 12);                            et_content.setText(newStr);                            editable = et_content.getText();                            int newLen = editable.length();                            if (selEndIndex &gt; newLen) {                                selEndIndex = editable.length();                            }                            Selection.setSelection(editable, selEndIndex);                        }                        break;                    default:                        break;                }            }            @Override            public void afterTextChanged(Editable editable) {            }        });    }    @Override    public void onClick(View v) {        switch (v.getId()){            case R.id.tv_back:                finish();                break;            case R.id.iv_delete:                et_content.setText("");                break;            case R.id.tv_save:                Intent data = new Intent();                String etContent = et_content.getText().toString().trim();                switch (flag) {                    case 1:                        if (!TextUtils.isEmpty(etContent)) {                            data.putExtra("nickName", etContent);                            setResult(RESULT_OK, data);                            Toast.makeText(this, "保存成功", Toast.LENGTH_SHORT).show();                            ChangeUserInfoActivity.this.finish();                        } else {                            Toast.makeText(this, "昵称不能为空", Toast.LENGTH_SHORT).show();                        }                        break;                    case 2:                        if (!TextUtils.isEmpty(etContent)) {                            data.putExtra("signature", etContent);                            setResult(RESULT_OK, data);                            Toast.makeText(this, "保存成功", Toast.LENGTH_SHORT).show();                            ChangeUserInfoActivity.this.finish();                        } else {                            Toast.makeText(this, "签名不能为空", Toast.LENGTH_SHORT).show();                        }                        break;                    case 3:                        if (!TextUtils.isEmpty(etContent)) {                            data.putExtra("qq", etContent);                            setResult(RESULT_OK, data);                            Toast.makeText(this, "保存成功", Toast.LENGTH_SHORT).show();                            ChangeUserInfoActivity.this.finish();                        } else {                            Toast.makeText(this, "QQ号不能为空", Toast.LENGTH_SHORT).show();                        }                        break;                }        }    }}</code></pre><h2 id="ok，大功告成！"><a href="#ok，大功告成！" class="headerlink" title="ok，大功告成！"></a>ok，大功告成！</h2><h2 id="教育系统APP-六-“习题”的模块"><a href="#教育系统APP-六-“习题”的模块" class="headerlink" title="教育系统APP(六)-“习题”的模块"></a>教育系统APP(六)-“习题”的模块</h2><h3 id="项目实操"><a href="#项目实操" class="headerlink" title="项目实操"></a>项目实操</h3><h4 id="习题"><a href="#习题" class="headerlink" title="习题"></a>习题</h4><p>习题界面<br>习题界面Adapter<br>习题界面逻辑代码</p><h4 id="习题详情"><a href="#习题详情" class="headerlink" title="习题详情"></a>习题详情</h4><p>习题详情界面</p><h4 id="习题数据"><a href="#习题数据" class="headerlink" title="习题数据"></a>习题数据</h4><p>习题详情界面adapter<br>习题详情逻辑代码    </p><h2 id="任务实施-1"><a href="#任务实施-1" class="headerlink" title="任务实施"></a>任务实施</h2><p>判断题数<br>保存答题状态    </p><h2 id="学习目标"><a href="#学习目标" class="headerlink" title="学习目标"></a>学习目标</h2><p>掌握习题列表界面的开发，实现用ListView完成习题列表的展示<br>掌握习题详情界面的开发，实现用RecyclerView完成习题详情的展示<br>习题模块主要以习题的形式来检测学生对教材中知识点的掌握情况。当点击习题列表时会跳转到习题详情界面，在该界面中点击选项时会立即显示正确答案。本章将针对习题模块进行详细讲解。</p><h2 id="项目实操-1"><a href="#项目实操-1" class="headerlink" title="项目实操"></a>项目实操</h2><p>习题<br>习题界面<br>导入图片 </p><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="/images/26.png" alt="26"></p><p>修改fragment_exercises.xml </p><pre><code>&lt;?xml version="1.0" encoding="utf-8"?&gt;&lt;!--练习界面布局--&gt;&lt;LinearLayout    xmlns:android="http://schemas.android.com/apk/res/android"    android:layout_width="match_parent"    android:layout_height="match_parent"    android:orientation="vertical"    android:background="@android:color/white"&gt;    &lt;ListView        android:id="@+id/lv_list"        android:layout_width="fill_parent"        android:layout_height="fill_parent"        android:layout_marginBottom="55dp"        android:divider="#E4E4E4"        android:dividerHeight="1dp"&gt;    &lt;/ListView&gt;&lt;/LinearLayout&gt;</code></pre><p>这是ListVIew的第一步。接下来实ListView中的每一列Item。<br>在layout文件夹中创建一个布局文件，命名为exercise_list_item.xml<br>item里放3个TextView控件，分别为习题序号、章节标题、习题数量。</p><p>exercise_list_item.xml </p><pre><code>&lt;?xml version="1.0" encoding="utf-8"?&gt;&lt;!--练习列表项布局--&gt;&lt;LinearLayout    xmlns:android="http://schemas.android.com/apk/res/android"    android:layout_width="match_parent"    android:layout_height="match_parent"    android:background="@android:color/white"    android:orientation="horizontal"    android:paddingBottom="15dp"    android:paddingLeft="10dp"    android:paddingRight="10dp"    android:paddingTop="15dp"&gt;    &lt;TextView        android:id="@+id/tv_order"        android:layout_width="40dp"        android:layout_height="40dp"        android:layout_gravity="center_vertical"        android:layout_marginLeft="10dp"        android:background="@drawable/exercises_bg_1"        android:gravity="center"        android:textColor="@android:color/white"        android:textSize="16sp"/&gt;    &lt;LinearLayout        android:layout_width="match_parent"        android:layout_height="match_parent"        android:layout_marginLeft="15dp"        android:gravity="center_vertical"        android:orientation="vertical"&gt;        &lt;TextView            android:id="@+id/tv_title"            android:layout_width="wrap_content"            android:layout_height="wrap_content"            android:text="第一章Android基础入门"            android:textColor="#000000"            android:textSize="14sp"/&gt;        &lt;!--android:singleLine="true"--&gt;        &lt;TextView            android:id="@+id/tv_content"            android:layout_width="wrap_content"            android:layout_height="wrap_content"            android:layout_marginTop="2dp"            android:text="共计5题"            android:textColor="#a3a3a3"            android:textSize="12sp"/&gt;        &lt;!--android:singleLine="true"--&gt;    &lt;/LinearLayout&gt;&lt;/LinearLayout&gt;</code></pre><p>ListView的列表和单列布局写完后，我们先来给我们的数据定一个属性类。<br>在bean包中创建一个ExercisesBean类。</p><p>ExercisesBean.java </p><pre><code>package cn.edu.gdmec.android.boxuegu.bean;public class ExercisesBean {    public int id;//每章习题id    public String title;//每章习题标题    public String content;//每章习题的数目    public int background;//每章习题前边的序号背景    public int subjectId;//每道习题的ID    public String subject;//每道习题的题干    public String a;//每道题的A选项    public String b;//每道题的B选项    public String c;//每道题的C选项    public String d;//每道题的D选项    public int answer;//每道题的正确答案    public int select;//用户选中的那项}</code></pre><p>习题界面Adapter<br>ListView需要一个数据适配器对其进行数据适配，即Adapter。这是使用一个ListView的第三个步骤。我们可以在exercise_list_item.xml中用插件直接生成一个Adapter，里面自动帮我们写好了ViewHolder(可以减少缓存)。</p><p>新建一个Adapter包，把我们的Adapter移进去,在adapter包中，创建ExercisesListItemAdapter.java </p><p>ExercisesListItemAdapter.java </p><pre><code>package cn.edu.gdmec.android.boxuegu.adapter;import android.content.Context;import android.view.LayoutInflater;import android.view.View;import android.view.ViewGroup;import android.widget.BaseAdapter;import android.widget.TextView;import java.util.ArrayList;import java.util.List;import cn.edu.gdmec.android.boxuegu.R;import cn.edu.gdmec.android.boxuegu.bean.ExercisesBean;public class ExercisesListItemAdapter extends BaseAdapter {    private List&lt;ExercisesBean&gt; objects = new ArrayList&lt;ExercisesBean&gt;();    private Context context;    private LayoutInflater layoutInflater;    public ExercisesListItemAdapter(Context context){        this.context=context;        this.layoutInflater=LayoutInflater.from(context);    }    /**     * 设置数据更新界面     */    public void setData(List&lt;ExercisesBean&gt; objects){        this.objects = objects;        notifyDataSetChanged();    }    //    public void updateView(List&lt;ExercisesBean&gt; objects){        this.objects = objects;        this.notifyDataSetChanged();    }    @Override    public int getCount() {        return objects == null ? 0 : objects.size();    }    /**     * 根据position得到对应的Item的对象     */    @Override    public ExercisesBean getItem(int position) {        return objects.get(position);    }    /**     * 根据position得到对应Item的对象     */    @Override    public long getItemId(int position) {        return position;    }    /**     * 得到相应position对应的Item视图，position是当前Item的位置     * convertView参数就是滚出屏幕的Item的View     * 第一次进入或滑动屏幕时候被调用     */    @Override    public View getView(int position, View convertView, ViewGroup parent) {        if (convertView == null) {            convertView = layoutInflater.inflate(R.layout.exercises_list_item, null);            convertView.setTag(new ViewHolder(convertView));        }        initializeViews((ExercisesBean) getItem(position), (ViewHolder) convertView.getTag(),                position, convertView);        return convertView;    }    private void initializeViews(ExercisesBean object, ViewHolder holder,                                 int position, View convertView) {        final ExercisesBean bean = getItem(position);        if (bean != null) {            holder.tvOrder.setText(position + 1 + "");            holder.tvTitle.setText(bean.title);            holder.tvOrder.setBackgroundResource(bean.background);            convertView.setOnClickListener(new View.OnClickListener() {                @Override                public void onClick(View v) {                    if (bean == null) {                        return;                    }                    //跳转到习题界面                }            });        }    }    protected class ViewHolder {        private TextView tvOrder;        private TextView tvTitle;        private TextView tvContent;        public ViewHolder(View view) {            tvOrder = (TextView) view.findViewById(R.id.tv_order);            tvTitle = (TextView) view.findViewById(R.id.tv_title);            tvContent = (TextView) view.findViewById(R.id.tv_content);        }    }}</code></pre><p>习题界面逻辑代码<br>写完了适配器，我们来做ListView的第5步,我们回到fragment界面完善习题界面的逻辑代码。<br>ExercisesFragment.java </p><pre><code>package cn.edu.gdmec.android.boxuegu.fragment;import android.os.Bundle;import android.support.v4.app.Fragment;import android.view.LayoutInflater;import android.view.View;import android.view.ViewGroup;import android.widget.ListView;import java.util.ArrayList;import java.util.List;import cn.edu.gdmec.android.boxuegu.R;import cn.edu.gdmec.android.boxuegu.adapter.ExercisesListItemAdapter;import cn.edu.gdmec.android.boxuegu.bean.ExercisesBean;public class ExercisesFragment extends Fragment {    private ListView lvList;//来源fragment_exercises    private ExercisesListItemAdapter adapter; //适配器    private List&lt;ExercisesBean&gt; ebl; //列表集合    @Override    public View onCreateView(LayoutInflater inflater, ViewGroup container,                             Bundle savedInstanceState) {        return inflater.inflate(R.layout.fragment_exercises, null);    }    @Override    public void onViewCreated(View view, Bundle savedInstanceState) {        super.onViewCreated(view, savedInstanceState);        initData();        lvList = view.findViewById(R.id.lv_list);        adapter = new ExercisesListItemAdapter(getActivity());        adapter.setData(ebl);        lvList.setAdapter(adapter);    }    private void initData(){        ebl = new ArrayList&lt;ExercisesBean&gt;();        for (int i=0;i&lt;10;i++){            ExercisesBean bean = new ExercisesBean();            bean.id=(i+1);            switch (i){                case 0:                    bean.title="第1章 Android基础入门";                    bean.content="共计5题";                    bean.background=(R.drawable.exercises_bg_1);                    break;                case 1:                    bean.title="第2章 Android UI开发";                    bean.content="共计5题";                    bean.background=(R.drawable.exercises_bg_2);                    break;                case 2:                    bean.title="第3章 Activity";                    bean.content="共计5题";                    bean.background=(R.drawable.exercises_bg_3);                    break;                case 3:                    bean.title="第4章 数据存储";                    bean.content="共计5题";                    bean.background=(R.drawable.exercises_bg_4);                    break;                case 4:                    bean.title="第5章 SQLite数据库";                    bean.content="共计5题";                    bean.background=(R.drawable.exercises_bg_1);                    break;                case 5:                    bean.title="第6章 广播接收者";                    bean.content="共计5题";                    bean.background=(R.drawable.exercises_bg_2);                    break;                case 6:                    bean.title="第7章 服务";                    bean.content="共计5题";                    bean.background=(R.drawable.exercises_bg_3);                    break;                case 7:                    bean.title="第8章 内容提供者";                    bean.content="共计5题";                    bean.background=(R.drawable.exercises_bg_4);                    break;                case 8:                    bean.title="第9章 网络编程";                    bean.content="共计5题";                    bean.background=(R.drawable.exercises_bg_1);                    break;                case 9:                    bean.title="第10章 高级编程";                    bean.content="共计5题";                    bean.background=(R.drawable.exercises_bg_2);                    break;                default:                    break;            }            ebl.add(bean);        }    }}</code></pre><h2 id="习题详情-1"><a href="#习题详情-1" class="headerlink" title="习题详情"></a>习题详情</h2><p>习题详情界面<br>习题界面我们用ListView，习题详情我们来用一下RecyclerView。<br>新建一个布局文件，命名为activity_exercises_detail.xml</p><p>activity_exercises_detail.xml </p><pre><code>&lt;?xml version="1.0" encoding="utf-8"?&gt;&lt;LinearLayout    xmlns:android="http://schemas.android.com/apk/res/android"    android:layout_width="match_parent"    android:layout_height="match_parent"    android:background="@android:color/white"    android:orientation="vertical"&gt;    &lt;!--标题栏--&gt;    &lt;include layout="@layout/main_title_bar"/&gt;    &lt;TextView        android:layout_width="match_parent"        android:layout_height="wrap_content"        android:layout_gravity="center_vertical"        android:layout_marginLeft="10dp"        android:layout_marginTop="15dp"        android:text="选择题"        android:gravity="center"        android:textColor="#000000"        android:textSize="16sp"        android:textStyle="bold"/&gt;    &lt;!--android:visibility="gone"--&gt;    &lt;android.support.v7.widget.RecyclerView        android:layout_width="match_parent"        android:layout_weight="1"        android:layout_height="match_parent"        android:id="@+id/rv_list"        /&gt;    &lt;!--&lt;ListView        android:id="@+id/lv_list"        android:layout_width="fill_parent"        android:layout_height="fill_parent"        android:divider="@null"/&gt;--&gt;    &lt;TextView        android:id="@+id/tv_di"        android:text="第一页"        android:gravity="center"        android:textSize="20sp"        android:textColor="@android:color/black"        android:layout_width="match_parent"        android:layout_height="wrap_content" /&gt;&lt;/LinearLayout&gt;</code></pre><p>注意：很多同学的项目可能会出现找不到v7.widget.RecyclerView的情况。具体解决办法参考：<br><a href="https://blog.csdn.net/u011150924/article/details/52298445" target="_blank" rel="noopener">https://blog.csdn.net/u011150924/article/details/52298445</a><br>顺便截一下我自己的build.gradle(Moudle:app)的图给大家做参考</p><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="/images/27.png" alt="27"></p><p>导入完成后，我们来给recyclerView写个item，没错，和ListView很相似。<br>新建一个布局文件，命名为exercises_detail_list_item.xml</p><p>exercises_detail_list_item.xml </p><pre><code>&lt;?xml version="1.0" encoding="utf-8"?&gt;&lt;!--练习题目布局--&gt;&lt;LinearLayout    xmlns:android="http://schemas.android.com/apk/res/android"    android:layout_width="match_parent"    android:layout_height="match_parent"    android:background="@android:color/white"    android:orientation="vertical"    android:padding="15dp"&gt;    &lt;TextView        android:id="@+id/tv_subject"        android:layout_width="match_parent"        android:layout_height="wrap_content"        android:lineSpacingMultiplier="1.5"        android:textColor="#000000"        android:textSize="14sp"/&gt;    &lt;LinearLayout        android:layout_width="match_parent"        android:layout_height="wrap_content"        android:layout_marginTop="15dp"        android:orientation="horizontal"&gt;        &lt;ImageView            android:id="@+id/iv_a"            android:layout_width="35dp"            android:layout_height="35dp"            android:src="@drawable/exercises_a"/&gt;        &lt;TextView            android:id="@+id/tv_a"            android:layout_width="match_parent"            android:layout_height="wrap_content"            android:layout_gravity="center_vertical"            android:layout_marginLeft="8dp"            android:lineSpacingMultiplier="1.5"            android:textColor="#000000"            android:textSize="12sp"/&gt;    &lt;/LinearLayout&gt;    &lt;LinearLayout        android:layout_width="match_parent"        android:layout_height="wrap_content"        android:layout_marginTop="15dp"        android:orientation="horizontal"&gt;        &lt;ImageView            android:id="@+id/iv_b"            android:layout_width="35dp"            android:layout_height="35dp"            android:src="@drawable/exercises_b"/&gt;        &lt;TextView            android:id="@+id/tv_b"            android:layout_width="match_parent"            android:layout_height="wrap_content"            android:layout_gravity="center_vertical"            android:layout_marginLeft="8dp"            android:lineSpacingMultiplier="1.5"            android:textColor="#000000"            android:textSize="12sp"/&gt;    &lt;/LinearLayout&gt;    &lt;LinearLayout        android:layout_width="match_parent"        android:layout_height="wrap_content"        android:layout_marginTop="15dp"        android:orientation="horizontal"&gt;        &lt;ImageView            android:id="@+id/iv_c"            android:layout_width="35dp"            android:layout_height="35dp"            android:src="@drawable/exercises_c"/&gt;        &lt;TextView            android:id="@+id/tv_c"            android:layout_width="match_parent"            android:layout_height="wrap_content"            android:layout_gravity="center_vertical"            android:layout_marginLeft="8dp"            android:lineSpacingMultiplier="1.5"            android:textColor="#000000"            android:textSize="12sp"/&gt;    &lt;/LinearLayout&gt;    &lt;LinearLayout        android:layout_width="match_parent"        android:layout_height="wrap_content"        android:layout_marginTop="15dp"        android:orientation="horizontal"&gt;        &lt;ImageView            android:id="@+id/iv_d"            android:layout_width="35dp"            android:layout_height="35dp"            android:src="@drawable/exercises_d"/&gt;        &lt;TextView            android:id="@+id/tv_d"            android:layout_width="match_parent"            android:layout_height="wrap_content"            android:layout_gravity="center_vertical"            android:layout_marginLeft="8dp"            android:lineSpacingMultiplier="1.5"            android:textColor="#000000"            android:textSize="12sp"/&gt;    &lt;/LinearLayout&gt;&lt;/LinearLayout&gt;</code></pre><h2 id="习题数据-1"><a href="#习题数据-1" class="headerlink" title="习题数据"></a>习题数据</h2><p>写完了item的布局，先别急着写适配器，我们下来解决题目数据的读取。<br>创建一个文件夹assets，把项目资源中的XML文件都放进去。</p><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="/images/28.png" alt="28"></p><p>我们需要一个XML数据解析方法来解析这些文件。<br>到AnalysisUtils.java中添加一个getExercisesInfos（）方法。<br>AnalysisUtils.java</p><pre><code>    public static List&lt;ExercisesBean&gt; getExercisesInfos(InputStream is) throws Exception{        XmlPullParser parser = Xml.newPullParser();        parser.setInput(is,"utf-8");        List&lt;ExercisesBean&gt; exercisesInfos=null;        ExercisesBean exercisesInfo=null;        int type = parser.getEventType();        while (type!=XmlPullParser.END_DOCUMENT){            switch (type){                case XmlPullParser.START_TAG:                    if ("infos".equals(parser.getName())){                        exercisesInfos=new ArrayList&lt;ExercisesBean&gt;();                    }else if ("exercises".equals(parser.getName())){                        exercisesInfo=new ExercisesBean();                        String ids=parser.getAttributeValue(0);                        exercisesInfo.subjectId = Integer.parseInt(ids);                    }else if ("subject".equals(parser.getName())){                        String subject=parser.nextText();                        exercisesInfo.subject = subject;                    }else if ("a".equals(parser.getName())){                        String a=parser.nextText();                        exercisesInfo.a = a;                    }else if ("b".equals(parser.getName())){                        String b=parser.nextText();                        exercisesInfo.b = b;                    }else if ("c".equals(parser.getName())){                        String c=parser.nextText();                        exercisesInfo.c = c;                    }else if ("d".equals(parser.getName())){                        String d=parser.nextText();                        exercisesInfo.d = d;                    }else if ("answer".equals(parser.getName())){                        String answer=parser.nextText();                        exercisesInfo.answer = Integer.parseInt(answer);                    }                    break;                case XmlPullParser.END_TAG:                    if ("exercises".equals(parser.getName())){                        exercisesInfos.add(exercisesInfo);                        exercisesInfo=null;                    }                    break;            }            type=parser.next();        }        return exercisesInfos;    }</code></pre><p>再添加一个setABCDEnable（）方法。<br>AnalysisUtils.java </p><pre class="line-numbers language-public"><code class="language-public">        iv_a.setEnabled(value);        iv_b.setEnabled(value);        iv_c.setEnabled(value);        iv_d.setEnabled(value);    }<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="习题详情界面adapter"><a href="#习题详情界面adapter" class="headerlink" title="习题详情界面adapter"></a>习题详情界面adapter</h2><p>习题详情界面的适配器不再继承BaseAdapter了，改为继承RecyclerView的RecyclerView.Adapter&lt;&gt;,里面填上自己的ViewHolder，下面是适配器的代码，大家可以观察一下跟ListView的适配器有哪些不同。<br>还是从item界面用插件生成adapter，但是Code generator 生成的只有继承BaseAdapter的文件，所以需要一些修改。<br>ExercisesDetailListItemAdapter.java </p><p>写到这里，注意了！你会发现会红，那是因为你没有添加依赖！</p><pre><code>implementation 'com.android.support:recyclerview-v7:26.1.0'</code></pre><p>创建ExercisesDetailListItemAdapter.java </p><pre><code>package cn.edu.gdmec.android.boxuegu.adapter;import android.content.Context;import android.support.v7.widget.RecyclerView;import android.view.LayoutInflater;import android.view.View;import android.view.ViewGroup;import android.widget.ImageView;import android.widget.TextView;import java.util.ArrayList;import java.util.List;import cn.edu.gdmec.android.boxuegu.R;import cn.edu.gdmec.android.boxuegu.bean.ExercisesBean;import cn.edu.gdmec.android.boxuegu.utils.AnalysisUtils;public class ExercisesDetailListItemAdapter extends        RecyclerView.Adapter&lt;ExercisesDetailListItemAdapter.ViewHolder&gt; {    private List&lt;ExercisesBean&gt; objects = new ArrayList&lt;ExercisesBean&gt;();    private ArrayList&lt;String&gt; selectedPosition = new ArrayList&lt;String&gt;();    private Context context;    private LayoutInflater layoutInflater;    private OnSelectListener onSelectListener;    public ExercisesDetailListItemAdapter(Context context, OnSelectListener onSelectListener) {        this.context = context;        this.onSelectListener = onSelectListener;        this.layoutInflater = LayoutInflater.from(context);    }    @Override    public ViewHolder onCreateViewHolder(ViewGroup parent, int viewType) {        LayoutInflater inflater = LayoutInflater.from(parent.getContext());        View view = inflater.inflate(R.layout.exercises_detail_list_item, parent,                false);        return new ViewHolder(view);    }    @Override    public void onBindViewHolder(ViewHolder holder, int position) {        initializeViews(objects.get(position), holder, position);    }    public void setData(List&lt;ExercisesBean&gt; objects) {        this.objects = objects;    }    @Override    public long getItemId(int position) {        return position;    }    @Override    public int getItemCount() {        return objects.size();    }    private void initializeViews(ExercisesBean object, final ViewHolder holder,                                 final int position) {        ExercisesBean bean = object;        if (bean != null) {            holder.tvSubject.setText(bean.subject);            holder.tvA.setText(bean.a);            holder.tvB.setText(bean.b);            holder.tvC.setText(bean.c);            holder.tvD.setText(bean.d);        }        if (!selectedPosition.contains("" + position)) {            holder.ivA.setImageResource(R.drawable.exercises_a);            holder.ivB.setImageResource(R.drawable.exercises_b);            holder.ivC.setImageResource(R.drawable.exercises_c);            holder.ivD.setImageResource(R.drawable.exercises_d);            AnalysisUtils.setABCDEnable(true, holder.ivA, holder.ivB, holder.ivC,                    holder.ivD);        } else {            AnalysisUtils.setABCDEnable(false, holder.ivA, holder.ivB, holder.ivC,                    holder.ivD);            switch (bean.select) {                case 0:                    if (bean.answer == 1) {                        holder.ivA.setImageResource(R.drawable.exercises_right_icon);                        holder.ivB.setImageResource(R.drawable.exercises_b);                        holder.ivC.setImageResource(R.drawable.exercises_c);                        holder.ivD.setImageResource(R.drawable.exercises_d);                    } else if (bean.answer == 2) {                        holder.ivA.setImageResource(R.drawable.exercises_a);                        holder.ivB.setImageResource(R.drawable.exercises_right_icon);                        holder.ivC.setImageResource(R.drawable.exercises_c);                        holder.ivD.setImageResource(R.drawable.exercises_d);                    } else if (bean.answer == 3) {                        holder.ivA.setImageResource(R.drawable.exercises_a);                        holder.ivB.setImageResource(R.drawable.exercises_b);                        holder.ivC.setImageResource(R.drawable.exercises_right_icon);                        holder.ivD.setImageResource(R.drawable.exercises_d);                    } else if (bean.answer == 4) {                        holder.ivA.setImageResource(R.drawable.exercises_a);                        holder.ivB.setImageResource(R.drawable.exercises_b);                        holder.ivC.setImageResource(R.drawable.exercises_c);                        holder.ivD.setImageResource(R.drawable.exercises_right_icon);                    }                    break;                case 1:                    holder.ivA.setImageResource(R.drawable.exercises_error_icon);                    if (bean.answer == 2) {                        holder.ivB.setImageResource(R.drawable.exercises_right_icon);                        holder.ivC.setImageResource(R.drawable.exercises_c);                        holder.ivD.setImageResource(R.drawable.exercises_d);                    } else if (bean.answer == 3) {                        holder.ivB.setImageResource(R.drawable.exercises_b);                        holder.ivC.setImageResource(R.drawable.exercises_right_icon);                        holder.ivD.setImageResource(R.drawable.exercises_d);                    } else if (bean.answer == 4) {                        holder.ivB.setImageResource(R.drawable.exercises_b);                        holder.ivC.setImageResource(R.drawable.exercises_c);                        holder.ivD.setImageResource(R.drawable.exercises_right_icon);                    }                    break;                case 2:                    holder.ivB.setImageResource(R.drawable.exercises_error_icon);                    if (bean.answer == 1) {                        holder.ivA.setImageResource(R.drawable.exercises_right_icon);                        holder.ivC.setImageResource(R.drawable.exercises_c);                        holder.ivD.setImageResource(R.drawable.exercises_d);                    } else if (bean.answer == 3) {                        holder.ivA.setImageResource(R.drawable.exercises_a);                        holder.ivC.setImageResource(R.drawable.exercises_right_icon);                        holder.ivD.setImageResource(R.drawable.exercises_d);                    } else if (bean.answer == 4) {                        holder.ivA.setImageResource(R.drawable.exercises_a);                        holder.ivC.setImageResource(R.drawable.exercises_c);                        holder.ivD.setImageResource(R.drawable.exercises_right_icon);                    }                    break;                case 3:                    holder.ivC.setImageResource(R.drawable.exercises_error_icon);                    if (bean.answer == 1) {                        holder.ivA.setImageResource(R.drawable.exercises_right_icon);                        holder.ivB.setImageResource(R.drawable.exercises_b);                        holder.ivD.setImageResource(R.drawable.exercises_d);                    } else if (bean.answer == 2) {                        holder.ivA.setImageResource(R.drawable.exercises_a);                        holder.ivB.setImageResource(R.drawable.exercises_right_icon);                        holder.ivD.setImageResource(R.drawable.exercises_d);                    } else if (bean.answer == 4) {                        holder.ivA.setImageResource(R.drawable.exercises_a);                        holder.ivB.setImageResource(R.drawable.exercises_b);                        holder.ivD.setImageResource(R.drawable.exercises_right_icon);                    }                    break;                case 4:                    holder.ivD.setImageResource(R.drawable.exercises_error_icon);                    if (bean.answer == 1) {                        holder.ivA.setImageResource(R.drawable.exercises_right_icon);                        holder.ivB.setImageResource(R.drawable.exercises_b);                        holder.ivC.setImageResource(R.drawable.exercises_c);                    } else if (bean.answer == 2) {                        holder.ivA.setImageResource(R.drawable.exercises_a);                        holder.ivB.setImageResource(R.drawable.exercises_right_icon);                        holder.ivC.setImageResource(R.drawable.exercises_c);                    } else if (bean.answer == 3) {                        holder.ivA.setImageResource(R.drawable.exercises_a);                        holder.ivB.setImageResource(R.drawable.exercises_b);                        holder.ivC.setImageResource(R.drawable.exercises_right_icon);                    }                    break;            }        }        holder.ivA.setOnClickListener(new View.OnClickListener() {            @Override            public void onClick(View v) {                if (selectedPosition.contains("" + position)) {                    selectedPosition.remove("" + position);                } else {                    selectedPosition.add(position + "");                }                onSelectListener.onSelectA(position, holder.ivA,                        holder.ivB, holder.ivC, holder.ivD);            }        });        holder.ivB.setOnClickListener(new View.OnClickListener() {            @Override            public void onClick(View v) {                if (selectedPosition.contains("" + position)) {                    selectedPosition.remove("" + position);                } else {                    selectedPosition.add(position + "");                }                onSelectListener.onSelectB(position, holder.ivA,                        holder.ivB, holder.ivC, holder.ivD);            }        });        holder.ivC.setOnClickListener(new View.OnClickListener() {            @Override            public void onClick(View v) {                if (selectedPosition.contains("" + position)) {                    selectedPosition.remove("" + position);                } else {                    selectedPosition.add(position + "");                }                onSelectListener.onSelectC(position, holder.ivA,                        holder.ivB, holder.ivC, holder.ivD);            }        });        holder.ivD.setOnClickListener(new View.OnClickListener() {            @Override            public void onClick(View v) {                if (selectedPosition.contains("" + position)) {                    selectedPosition.remove("" + position);                } else {                    selectedPosition.add(position + "");                }                onSelectListener.onSelectD(position, holder.ivA,                        holder.ivB, holder.ivC, holder.ivD);            }        });    }    protected class ViewHolder extends RecyclerView.ViewHolder {        private TextView tvSubject;        private ImageView ivA;        private TextView tvA;        private ImageView ivB;        private TextView tvB;        private ImageView ivC;        private TextView tvC;        private ImageView ivD;        private TextView tvD;        public ViewHolder(View view) {            super(view);            tvSubject = (TextView) view.findViewById(R.id.tv_subject);            ivA = (ImageView) view.findViewById(R.id.iv_a);            tvA = (TextView) view.findViewById(R.id.tv_a);            ivB = (ImageView) view.findViewById(R.id.iv_b);            tvB = (TextView) view.findViewById(R.id.tv_b);            ivC = (ImageView) view.findViewById(R.id.iv_c);            tvC = (TextView) view.findViewById(R.id.tv_c);            ivD = (ImageView) view.findViewById(R.id.iv_d);            tvD = (TextView) view.findViewById(R.id.tv_d);        }    }    public interface OnSelectListener {        void onSelectA(int position, ImageView iv_a,                       ImageView iv_b, ImageView iv_c,                       ImageView iv_d);        void onSelectB(int position, ImageView iv_a,                       ImageView iv_b, ImageView iv_c,                       ImageView iv_d);        void onSelectC(int position, ImageView iv_a,                       ImageView iv_b, ImageView iv_c,                       ImageView iv_d);        void onSelectD(int position, ImageView iv_a,                       ImageView iv_b, ImageView iv_c,                       ImageView iv_d);    }}</code></pre><p>添加依赖后进入build.gradle(Module.app)进行修改,注意进行理解，模仿！</p><pre><code>dependencies {    implementation fileTree(include: ['*.jar'], dir: 'libs')    implementation 'com.android.support:appcompat-v7:26.1.0'    implementation 'com.android.support.constraint:constraint-layout:1.1.0'    testImplementation 'junit:junit:4.12'    androidTestImplementation 'com.android.support.test:runner:1.0.1'    androidTestImplementation 'com.android.support.test.espresso:espresso-core:3.0.1'    implementation 'com.android.support:recyclerview-v7:26.1.0'}</code></pre><h2 id="习题详情逻辑代码"><a href="#习题详情逻辑代码" class="headerlink" title="习题详情逻辑代码"></a>习题详情逻辑代码</h2><p>为了体现出RecyclerView的异同，我将习题详情显示改为横向显示。</p><p>创建ExercisesDetailActivity.java</p><pre><code>package cn.edu.gdmec.android.boxuegu.activity;import android.app.Activity;import android.graphics.Color;import android.os.Bundle;import android.support.v7.widget.LinearLayoutManager;import android.support.v7.widget.RecyclerView;import android.view.View;import android.widget.ImageView;import android.widget.RelativeLayout;import android.widget.TextView;import java.io.IOException;import java.io.InputStream;import java.util.ArrayList;import java.util.List;import cn.edu.gdmec.android.boxuegu.R;import cn.edu.gdmec.android.boxuegu.adapter.ExercisesDetailListItemAdapter;import cn.edu.gdmec.android.boxuegu.bean.ExercisesBean;import cn.edu.gdmec.android.boxuegu.utils.AnalysisUtils;public class ExercisesDetailActivity extends Activity {    private TextView tv_back;    private TextView tv_main_title;    private RelativeLayout title_bar;    private int id;    private String title;    private RecyclerView rv_list;    private List&lt;ExercisesBean&gt; ebl;    private ExercisesDetailListItemAdapter adapter;    @Override    protected void onCreate(Bundle savedInstanceState) {        super.onCreate(savedInstanceState);        setContentView(R.layout.activity_exercises_detail);        id = getIntent().getIntExtra("id",0);        title = getIntent().getStringExtra("title");        ebl = new ArrayList&lt;ExercisesBean&gt;();        initData();        initView();    }    private void initData() {        //从xml文件中获取习题数据        try {            InputStream is = getResources().getAssets().open("chapter" + id + ".xml");            ebl = AnalysisUtils.getExercisesInfos(is);        } catch (IOException e) {            e.printStackTrace();        } catch (Exception e) {            e.printStackTrace();        }    }    private void initView() {        tv_back = findViewById(R.id.tv_back);        tv_main_title = findViewById(R.id.tv_main_title);        tv_main_title.setText(title);        title_bar = findViewById(R.id.title_bar);        title_bar.setBackgroundColor(Color.parseColor("#30B4FF"));        //        rv_list = findViewById(R.id.rv_list);        rv_list.setLayoutManager(new LinearLayoutManager(this, LinearLayoutManager.HORIZONTAL, false));        tv_back.setOnClickListener(new View.OnClickListener() {            @Override            public void onClick(View v) {                ExercisesDetailActivity.this.finish();            }        });        adapter = new ExercisesDetailListItemAdapter(ExercisesDetailActivity.this,                new ExercisesDetailListItemAdapter.OnSelectListener() {                    @Override                    public void onSelectA(int position, ImageView iv_a, ImageView iv_b, ImageView iv_c, ImageView iv_d) {                        //判断如果答案不是1即A选项                        if (ebl.get(position).answer != 1) {                            ebl.get(position).select = 1;                        } else {                            ebl.get(position).select = 0;                        }                        switch (ebl.get(position).answer) {                            case 1:                                iv_a.setImageResource(R.drawable.exercises_right_icon);                                break;                            case 2:                                iv_a.setImageResource(R.drawable.exercises_error_icon);                                iv_b.setImageResource(R.drawable.exercises_right_icon);                                break;                            case 3:                                iv_a.setImageResource(R.drawable.exercises_error_icon);                                iv_c.setImageResource(R.drawable.exercises_right_icon);                                break;                            case 4:                                iv_a.setImageResource(R.drawable.exercises_error_icon);                                iv_d.setImageResource(R.drawable.exercises_right_icon);                                break;                        }                        AnalysisUtils.setABCDEnable(false, iv_a, iv_b, iv_c, iv_d);                    }                    @Override                    public void onSelectB(int position, ImageView iv_a, ImageView iv_b, ImageView iv_c, ImageView iv_d) {                        //判断如果答案不是2即B选项                        if (ebl.get(position).answer != 2) {                            ebl.get(position).select = 2;                        } else {                            ebl.get(position).select = 0;                        }                        switch (ebl.get(position).answer) {                            case 1:                                iv_a.setImageResource(R.drawable.exercises_right_icon);                                iv_b.setImageResource(R.drawable.exercises_error_icon);                                break;                            case 2:                                iv_b.setImageResource(R.drawable.exercises_right_icon);                                break;                            case 3:                                iv_b.setImageResource(R.drawable.exercises_error_icon);                                iv_c.setImageResource(R.drawable.exercises_right_icon);                                break;                            case 4:                                iv_b.setImageResource(R.drawable.exercises_error_icon);                                iv_d.setImageResource(R.drawable.exercises_right_icon);                                break;                        }                        AnalysisUtils.setABCDEnable(false, iv_a, iv_b, iv_c, iv_d);                    }                    @Override                    public void onSelectC(int position, ImageView iv_a, ImageView iv_b, ImageView iv_c, ImageView iv_d) {                        //判断如果答案不是3即C选项                        if (ebl.get(position).answer != 3) {                            ebl.get(position).select = 3;                        } else {                            ebl.get(position).select = 0;                        }                        switch (ebl.get(position).answer) {                            case 1:                                iv_a.setImageResource(R.drawable.exercises_right_icon);                                iv_c.setImageResource(R.drawable.exercises_error_icon);                                break;                            case 2:                                iv_b.setImageResource(R.drawable.exercises_right_icon);                                iv_c.setImageResource(R.drawable.exercises_error_icon);                                break;                            case 3:                                iv_c.setImageResource(R.drawable.exercises_right_icon);                                break;                            case 4:                                iv_c.setImageResource(R.drawable.exercises_error_icon);                                iv_d.setImageResource(R.drawable.exercises_right_icon);                                break;                        }                        AnalysisUtils.setABCDEnable(false, iv_a, iv_b, iv_c, iv_d);                    }                    @Override                    public void onSelectD(int position, ImageView iv_a, ImageView iv_b, ImageView iv_c, ImageView iv_d) {                        //判断如果答案不是4即D选项                        if (ebl.get(position).answer != 4) {                            ebl.get(position).select = 4;                        } else {                            ebl.get(position).select = 0;                        }                        switch (ebl.get(position).answer) {                            case 1:                                iv_a.setImageResource(R.drawable.exercises_right_icon);                                iv_d.setImageResource(R.drawable.exercises_error_icon);                                break;                            case 2:                                iv_d.setImageResource(R.drawable.exercises_error_icon);                                iv_b.setImageResource(R.drawable.exercises_right_icon);                                break;                            case 3:                                iv_d.setImageResource(R.drawable.exercises_error_icon);                                iv_c.setImageResource(R.drawable.exercises_right_icon);                                break;                            case 4:                                iv_d.setImageResource(R.drawable.exercises_right_icon);                                break;                        }                        AnalysisUtils.setABCDEnable(false, iv_a, iv_b, iv_c, iv_d);                    }                });        adapter.setData(ebl);        rv_list.setAdapter(adapter);    }}</code></pre><p>然后到ExercisesListItemAdapter.java中添加跳转页面的代码<br>ExercisesListItemAdapter.java </p><pre><code>//跳转到习题界面                    Intent intent = new Intent(context, ExercisesDetailActivity.class);                    intent.putExtra("id", bean.id);                    intent.putExtra("title", bean.title);                    ((Activity) context).startActivityForResult(intent, 000);</code></pre><p>到AndroidManifest.xml中声明ExercisesDetailActivity</p><pre><code>&lt;!--添加实现类--&gt;        &lt;activity android:name=".activity.MainActivity"&gt;&lt;/activity&gt;        &lt;activity android:name=".activity.LoginActivity"&gt;&lt;/activity&gt;        &lt;activity android:name=".activity.RegisterActivity"&gt;&lt;/activity&gt;        &lt;activity android:name=".activity.SettingActivity"&gt;&lt;/activity&gt;        &lt;activity android:name=".activity.ModifyPswActivity"&gt;&lt;/activity&gt;        &lt;activity android:name=".activity.FindPswActivity"&gt;&lt;/activity&gt;        &lt;activity android:name=".activity.UserInfoActivity"&gt;&lt;/activity&gt;        &lt;activity android:name=".activity.ChangeUserInfoActivity"&gt;&lt;/activity&gt;        &lt;activity android:name=".activity.ExercisesDetailActivity"&gt;&lt;/activity&gt;</code></pre><p>如果有人有一些frgement刷新的小BUG</p><p>由于任务实施里需要用到回调，我们这里就先用startActivityForResult跳转（为了解决frgement刷新的小BUG）。也顺便给大家演示如何再adapter里使用startActivityForResult（）。<br>再到MainActivity里添加回调方法。<br>MainActivity.java </p><pre><code>    @Override    protected void onActivityResult(int requestCode, int resultCode, Intent data) {        super.onActivityResult(requestCode, resultCode, data);        if (data!=null){            boolean isLogin=data.getBooleanExtra("isLogin",false);            if (isLogin){                setSelectStatus(0);            }            else {                setSelectStatus(2);            }        }        if (requestCode == 000) {            setSelectStatus(1);        }    }</code></pre><p>完成！可以运行了。</p><p>看看这次包结构的变化</p><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="/images/31.png" alt="31"></p><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="/images/32.png" alt="32"></p><h2 id="任务实施-2"><a href="#任务实施-2" class="headerlink" title="任务实施"></a>任务实施</h2><p>判断题数<br>点击完选项之后，底部的文本控件要变换刚刚点击的题目的题号。<br>注意：在里面用到adapter与Activity的信息回调，具体过程参考<br><a href="https://blog.csdn.net/dl10210950/article/details/52918019" target="_blank" rel="noopener">https://blog.csdn.net/dl10210950/article/details/52918019</a></p><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="/images/29.png" alt="29"></p><p>保存答题状态<br>当5道题都回答过一遍后，点击返回习题界面，习题下的文本标签要变成“已完成”。</p><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="/images/30.png" alt="30"></p><h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>进步了哦~</p><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
      
      
      <categories>
          
          <category> 教育系统APP </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 教育系统APP </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>教育系统APP(五)</title>
      <link href="/2018/04/25/1/"/>
      <url>/2018/04/25/1/</url>
      
        <content type="html"><![CDATA[<blockquote class="blockquote-center">用一切抱怨的时间去努力</blockquote>## 回顾上一期任务## 任务实施<p>修复fragment的小BUG<br>在未登录状态下，点击“点击登陆”，登陆完成后，应该显示“我”的界面，并且正常显示用户名。</p><p>在登陆状态下，点击“设置”-&gt;点击退出登录，应该继续显示“我”的界面，并且正常显示用户名。</p><p>修改密保设置页面<br>密保设置页面的按钮显示的是“验证”，这里应该是“设置”比较合理。<br>把按钮上的文字改成“设置”，要求修改密码界面按钮依然是“验证”。</p><p>优化找回密码<br>登陆界面的找回密码功能用的是初始化密码，要求改成设置新密码。<br>注意：显示设置新密码框时，按钮的文字也要变化哦！</p><h2 id="教育系统APP-五-的发布"><a href="#教育系统APP-五-的发布" class="headerlink" title="教育系统APP(五)的发布"></a>教育系统APP(五)的发布</h2><a id="more"></a><p>看看包<br>包的结构，图片的包就不看了，蓝色为修改，绿色为新添加</p><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="/images/22.png" alt="22"></p><h2 id="先解决上一次的问题"><a href="#先解决上一次的问题" class="headerlink" title="先解决上一次的问题"></a>先解决上一次的问题</h2><p>在未登录状态下，点击“点击登陆”，登陆完成后，应该显示“我”的界面，并且正常显示用户名。在登陆状态下，点击“设置”-&gt;点击退出登录，应该继续显示“我”的界面，并且正常显示用户名。解决这个问题，当我们登录后要保持刷新，以及fragment的刷新。</p><p>效果：</p><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="/images/20.png" alt="20"></p><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="/images/19.png" alt="19"></p><p>MainActivity.java </p><pre><code>package cn.edu.gdmec.android.boxuegu.activity;import android.content.Intent;import android.content.pm.ActivityInfo;import android.graphics.Color;import android.os.Bundle;import android.support.v4.app.FragmentActivity;import android.view.KeyEvent;import android.view.View;import android.widget.ImageView;import android.widget.LinearLayout;import android.widget.RelativeLayout;import android.widget.TextView;import android.widget.Toast;import cn.edu.gdmec.android.boxuegu.R;import cn.edu.gdmec.android.boxuegu.fragment.CourseFragment;import cn.edu.gdmec.android.boxuegu.fragment.ExercisesFragment;import cn.edu.gdmec.android.boxuegu.fragment.MyinfoFragment;import cn.edu.gdmec.android.boxuegu.utils.AnalysisUtils;/*任务在主界面的Hello World位置显示：用户名+“登录成功”*/public class MainActivity extends FragmentActivity implements View.OnClickListener{    private TextView tv_main_title;//标题    private TextView tv_back;//返回按钮    private RelativeLayout title_bar;    private RelativeLayout main_body;    private TextView bottom_bar_text_course;    private ImageView bottom_bar_image_course;    private RelativeLayout bottom_bar_course_btn;    private TextView bottom_bar_text_exercises;    private ImageView bottom_bar_image_exercises;    private RelativeLayout bottom_bar_exercises_btn;    private TextView bottom_bar_text_myinfo;    private ImageView bottom_bar_image_myinfo;    private RelativeLayout bottom_bar_myinfo_btn;    private LinearLayout main_bottom_bar;    protected long exitTime;    @Override    protected void onCreate(Bundle savedInstanceState) {        super.onCreate(savedInstanceState);        setContentView(R.layout.activity_main);        initView();        setRequestedOrientation(ActivityInfo.SCREEN_ORIENTATION_PORTRAIT);        setMain();    }    //给MainActivity加上退出清除登陆状态的方法。    // 连续点击返回两次则退出，两次点击间隔超过2秒则提示再按一次退出。    @Override    public boolean onKeyDown(int keyCode, KeyEvent event) {        if (keyCode == KeyEvent.KEYCODE_BACK &amp;&amp; event.getAction() == KeyEvent.ACTION_DOWN) {            if ((System.currentTimeMillis() - exitTime) &gt; 2000) {                Toast.makeText(MainActivity.this, "再按一次退出博学谷", Toast.LENGTH_SHORT).show();                exitTime = System.currentTimeMillis();            } else {                this.finish();                if (AnalysisUtils.readLoginStatus(this)) {                    AnalysisUtils.cleanLoginStatus(this);                }                System.exit(0);            }            return true;        }        return super.onKeyDown(keyCode, event);    }    private void setMain() {        this.getSupportFragmentManager().beginTransaction().add(R.id.main_body,new MyinfoFragment()).commit();        setSelectStatus(2);    }    @Override    protected void onActivityResult(int requestCode, int resultCode, Intent data) {        super.onActivityResult(requestCode, resultCode, data);        if (data!=null){            boolean isLogin=data.getBooleanExtra("isLogin",false);            if (isLogin){                setSelectStatus(0);            }            else {                setSelectStatus(2);            }        }    }    private void setSelectStatus(int index) {        switch (index){            case 0:                bottom_bar_image_course.setImageResource(R.drawable.main_course_icon_selected);                bottom_bar_text_course.setTextColor(Color.parseColor("#0097F7"));                bottom_bar_text_exercises.setTextColor(Color.parseColor("#666666"));                bottom_bar_text_myinfo.setTextColor(Color.parseColor("#666666"));                bottom_bar_image_exercises.setImageResource(R.drawable.main_exercises_icon);                bottom_bar_image_myinfo.setImageResource(R.drawable.main_my_icon);                getSupportFragmentManager().beginTransaction().replace(R.id.main_body,new CourseFragment()).commit();                tv_main_title.setText("博学谷课程");                break;            case 1:                bottom_bar_image_exercises.setImageResource(R.drawable.main_exercises_icon_selected);                bottom_bar_text_exercises.setTextColor(Color.parseColor("#0097F7"));                bottom_bar_text_course.setTextColor(Color.parseColor("#666666"));                bottom_bar_text_myinfo.setTextColor(Color.parseColor("#666666"));                bottom_bar_image_course.setImageResource(R.drawable.main_course_icon);                bottom_bar_image_myinfo.setImageResource(R.drawable.main_my_icon);                getSupportFragmentManager().beginTransaction().replace(R.id.main_body,new ExercisesFragment()).commit();                tv_main_title.setText("博学谷习题");                break;            case 2:                bottom_bar_image_myinfo.setImageResource(R.drawable.main_my_icon_selected);                bottom_bar_text_myinfo.setTextColor(Color.parseColor("#0097F7"));                bottom_bar_text_course.setTextColor(Color.parseColor("#666666"));                bottom_bar_text_exercises.setTextColor(Color.parseColor("#666666"));                bottom_bar_image_exercises.setImageResource(R.drawable.main_exercises_icon);                bottom_bar_image_course.setImageResource(R.drawable.main_course_icon);                getSupportFragmentManager().beginTransaction().replace(R.id.main_body,new MyinfoFragment()).commit();                tv_main_title.setText("博学谷");                break;        }    }    private void initView() {        tv_main_title=findViewById(R.id.tv_main_title);        title_bar=findViewById(R.id.title_bar);        //底部导航栏        main_body = findViewById(R.id.main_body);        bottom_bar_text_course = findViewById(R.id.bottom_bar_text_course);        bottom_bar_image_course = findViewById(R.id.bottom_bar_image_course);        bottom_bar_course_btn = findViewById(R.id.bottom_bar_course_btn);        bottom_bar_text_exercises = findViewById(R.id.bottom_bar_text_exercises);        bottom_bar_image_exercises = findViewById(R.id.bottom_bar_image_exercises);        bottom_bar_exercises_btn = findViewById(R.id.bottom_bar_exercises_btn);        bottom_bar_text_myinfo = findViewById(R.id.bottom_bar_text_myinfo);        bottom_bar_image_myinfo = findViewById(R.id.bottom_bar_image_myinfo);        bottom_bar_myinfo_btn = findViewById(R.id.bottom_bar_myinfo_btn);        main_bottom_bar = findViewById(R.id.main_bottom_bar);        bottom_bar_course_btn.setOnClickListener(this);        bottom_bar_exercises_btn.setOnClickListener(this);        bottom_bar_myinfo_btn.setOnClickListener(this);        tv_main_title.setText("博学谷课程");        title_bar.setBackgroundColor(Color.parseColor("#30B4FF"));    }    @Override    public void onClick(View v) {        switch (v.getId()){            case R.id.bottom_bar_course_btn:                //getSupportFragmentManager().beginTransaction().add(R.id.main_body,new CourseFragment()).commit();                setSelectStatus(0);                break;            case R.id.bottom_bar_exercises_btn:                //getSupportFragmentManager().beginTransaction().add(R.id.main_body,new ExercisesFragment()).commit();                setSelectStatus(1);                break;            case R.id.bottom_bar_myinfo_btn:                //getSupportFragmentManager().beginTransaction().add(R.id.main_body,new MyinfoFragment()).commit();                setSelectStatus(2);                break;        }    }}</code></pre><p>修改密保设置页面</p><p>密保设置页面的按钮显示的是“验证”，这里应该是“设置”比较合理。把按钮上的文字改成“设置”，要求修改密码界面按钮依然是“验证”，这个已经解决。</p><h2 id="优化找回密码解决"><a href="#优化找回密码解决" class="headerlink" title="优化找回密码解决"></a>优化找回密码解决</h2><p>找回密码功能用的是初始化密码，要求改成设置新密码。<br>注意：显示设置新密码框时，按钮的文字也要变化哦！</p><p>原来的效果：</p><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="/images/21.png" alt="21"></p><p>更改后的效果：</p><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="/images/17.png" alt="17"></p><p>这个是找回密码，那么就要在找回密码的布局进行添加。不过很高兴的是之前这个布局好像添加好了，不过要改一下个别几个。</p><p>activity_find_psw.xml </p><pre><code>&lt;?xml version="1.0" encoding="utf-8"?&gt;&lt;!--找回密码--&gt;&lt;LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"    android:layout_width="match_parent"    android:layout_height="match_parent"    android:background="@drawable/login_bg"    android:orientation="vertical"&gt;    &lt;!--找回密码需要设置标题栏--&gt;    &lt;include layout="@layout/main_title_bar" /&gt;    &lt;TextView        android:id="@+id/tv_user_name"        android:layout_width="match_parent"        android:layout_height="wrap_content"        android:layout_marginLeft="35dp"        android:layout_marginRight="35dp"        android:layout_marginTop="35dp"        android:text="您的用户名是？"        android:textColor="@android:color/white"        android:textSize="18sp"        android:visibility="gone" /&gt;    &lt;EditText        android:id="@+id/et_user_name"        android:layout_width="match_parent"        android:layout_height="wrap_content"        android:layout_marginLeft="35dp"        android:layout_marginRight="35dp"        android:layout_marginTop="10dp"        android:background="@drawable/find_psw_icon"        android:hint="请输入您的用户名"        android:inputType="text"        android:paddingLeft="8dp"        android:textColor="#000000"        android:textColorHint="#A3A3A3"        android:visibility="gone" /&gt;    &lt;TextView        android:layout_width="match_parent"        android:layout_height="wrap_content"        android:layout_marginLeft="35dp"        android:layout_marginRight="35dp"        android:layout_marginTop="15dp"        android:text="您的姓名是？"        android:textColor="@android:color/white"        android:textSize="18sp"/&gt;    &lt;EditText        android:id="@+id/et_validate_name"        android:layout_width="match_parent"        android:layout_height="48dp"        android:layout_marginLeft="35dp"        android:layout_marginRight="35dp"        android:layout_marginTop="10dp"        android:background="@drawable/find_psw_icon"        android:hint="请输入要验证的姓名"        android:inputType="text"        android:paddingLeft="8dp"        android:textColor="#000000"        android:textColorHint="#A3A3A3" /&gt;    &lt;TextView        android:id="@+id/tv_reset_psw"        android:layout_width="match_parent"        android:layout_height="wrap_content"        android:layout_marginLeft="35dp"        android:layout_marginRight="35dp"        android:layout_marginTop="15dp"        android:text="输入您的新密码"        android:textColor="@android:color/white"        android:textSize="18sp"        android:visibility="gone"/&gt;    &lt;EditText        android:id="@+id/et_reset_psw"        android:layout_width="fill_parent"        android:layout_height="48dp"        android:layout_gravity="center_horizontal"        android:layout_marginLeft="35dp"        android:layout_marginRight="35dp"        android:layout_marginTop="10dp"        android:background="@drawable/login_psw_bg"        android:drawableLeft="@drawable/psw_icon"        android:drawablePadding="10dp"        android:hint="请输入要设置的新密码"        android:inputType="textPassword"        android:paddingLeft="8dp"        android:singleLine="true"        android:textColor="#000000"        android:textColorHint="#a3a3a3"        android:textSize="18sp"        android:visibility="gone"/&gt;    &lt;Button        android:id="@+id/btn_validate"        android:layout_width="match_parent"        android:layout_height="40dp"        android:layout_gravity="center_vertical"        android:layout_marginLeft="35dp"        android:layout_marginRight="35dp"        android:layout_marginTop="15dp"        android:background="@drawable/register_selector"        android:text="验 证"        android:textColor="@android:color/white"        android:textSize="18sp" /&gt;&lt;/LinearLayout&gt;</code></pre><p>接下来修改功能类：FindPswActivity.java<br>在打之前会发现有些是写过实例的，但是之前却没有显示出来，如果够细心的你，会发现。</p><pre><code>package cn.edu.gdmec.android.boxuegu.activity;import android.app.Activity;import android.content.SharedPreferences;import android.os.Bundle;import android.text.TextUtils;import android.view.View;import android.widget.Button;import android.widget.EditText;import android.widget.RelativeLayout;import android.widget.TextView;import android.widget.Toast;import cn.edu.gdmec.android.boxuegu.R;import cn.edu.gdmec.android.boxuegu.utils.AnalysisUtils;import cn.edu.gdmec.android.boxuegu.utils.MD5Utils;public class FindPswActivity extends Activity implements View.OnClickListener {    private TextView tv_back;    private TextView tv_main_title;    private RelativeLayout title_bar;    private TextView tv_user_name;    private EditText et_user_name;    private EditText et_validate_name;    private TextView tv_reset_psw;    private TextView et_reset_psw;    private Button btn_validate;    private String from;    @Override    protected void onCreate(Bundle savedInstanceState) {        super.onCreate(savedInstanceState);        setContentView(R.layout.activity_find_psw);        from=getIntent().getStringExtra("from");        initView();    }    private void initView() {        tv_back=findViewById(R.id.tv_back);        tv_main_title=findViewById(R.id.tv_main_title);        title_bar=findViewById(R.id.title_bar);        tv_user_name=findViewById(R.id.tv_user_name);        et_user_name=findViewById(R.id.et_user_name);        et_validate_name=findViewById(R.id.et_validate_name);        tv_reset_psw=findViewById(R.id.tv_reset_psw);        et_reset_psw=findViewById(R.id.et_reset_psw);        btn_validate=findViewById(R.id.btn_validate);        if ("security".equals(from)){            tv_main_title.setText("设置密保");        }else{            tv_main_title.setText("找回密码");            tv_user_name.setVisibility(View.VISIBLE);            et_user_name.setVisibility(View.VISIBLE);        }        tv_back.setOnClickListener(new View.OnClickListener() {            @Override            public void onClick(View v) {                FindPswActivity.this.finish();            }        });        btn_validate.setOnClickListener(this);    }    @Override    public void onClick(View view) {        switch (view.getId()) {            case R.id.btn_validate:                submit();                break;        }    }    private void submit() {        // validate        String validateName = et_validate_name.getText().toString().trim();        if ("security".equals(from)) {  //设置密保            if (TextUtils.isEmpty(validateName)) {                Toast.makeText(this, "请输入要验证的姓名", Toast.LENGTH_SHORT).show();                return;            } else {                Toast.makeText(this, "密保设置成功", Toast.LENGTH_SHORT).show();                //保存到                saveSecurity(validateName);                FindPswActivity.this.finish();                return;            }        }else {            final String name=et_user_name.getText().toString().trim();            String sp_security=readSecurity(name);            if (TextUtils.isEmpty(name)){                Toast.makeText(this,"请输入您的用户名",Toast.LENGTH_SHORT).show();                return;            }else if (!isExistUserName(name)){                Toast.makeText(this,"您输入的用户名不存在",Toast.LENGTH_SHORT).show();                return;            }else if (TextUtils.isEmpty(validateName)){                Toast.makeText(this,"请输入要验证的姓名",Toast.LENGTH_SHORT).show();                return;            }else if (!validateName.equals(sp_security)){                Toast.makeText(this,"输入的密保不正确",Toast.LENGTH_SHORT).show();                return;            }else {                /*tv_reset_psw.setVisibility(View.VISIBLE);                tv_reset_psw.setText("初始密码：123456");                savePsw(name);*/                //输入密保正确，重新给用户设置一个密码                tv_reset_psw.setVisibility(View.VISIBLE);                et_reset_psw.setVisibility(View.VISIBLE);                btn_validate.setText("设置");                btn_validate.setOnClickListener(new View.OnClickListener() {                    @Override                    public void onClick(View v) {                        String resetPsw = et_reset_psw.getText().toString().trim();                        //暂时仅验证不为空                        if (!TextUtils.isEmpty(resetPsw)) {                            savePsw(name, resetPsw);                            FindPswActivity.this.finish();                        } else {                            Toast.makeText(FindPswActivity.this, "请输入要设置的新密码", Toast.LENGTH_SHORT).show();                        }                    }                });            }        }    }    /**     * 保存初始化密码     **/    private void savePsw(String name, String resetPsw){        /*String md5Psw= MD5Utils.md5("123456");        SharedPreferences sharedPreferences = getSharedPreferences("loginInfo",MODE_PRIVATE);        SharedPreferences.Editor editor = sharedPreferences.edit();        editor.putString(name,md5Psw);        editor.commit();*/        String md5Psw = MD5Utils.md5(resetPsw);        SharedPreferences sp = getSharedPreferences("loginInfo", MODE_PRIVATE);        SharedPreferences.Editor editor = sp.edit();        editor.putString(name, md5Psw);        editor.commit();    }    private boolean isExistUserName(String name){        boolean hasUserName=false;        SharedPreferences sharedPreferences=getSharedPreferences("loginInfo",MODE_PRIVATE);        String spPsw=sharedPreferences.getString(name,"");        if (!TextUtils.isEmpty(spPsw)){            hasUserName=true;        }        return hasUserName;    }    /**     * 读取密保     **/    private String readSecurity(String name){        SharedPreferences sharedPreferences=getSharedPreferences("loginInfo",MODE_PRIVATE);        String security=sharedPreferences.getString(name+"_security","");        return security;    }    /**     * 保存密保名字     **/    private void saveSecurity(String validateName) {        SharedPreferences sharedPreferences=getSharedPreferences("loginInfo",MODE_PRIVATE);        SharedPreferences.Editor editor=sharedPreferences.edit();        editor.putString(AnalysisUtils.readLoginUserName(this)+"_security",validateName);        editor.commit();    }}</code></pre><p>搞定之前的项目了。最后看看此时包的结构，蓝色为修改，绿色为新添加</p><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="/images/22.png" alt="22"></p><h2 id="个人资料模块-新任务-这次的比较容易"><a href="#个人资料模块-新任务-这次的比较容易" class="headerlink" title="个人资料模块-新任务(这次的比较容易)"></a>个人资料模块-新任务(这次的比较容易)</h2><p>学习目标<br>项目实操<br>个人资料界面，布局，用户信息表<br>个人资料界面逻辑代码</p><p>个人资料修改，个人资料修改界面，个人资料修改界面逻辑代码    </p><h2 id="任务实施"><a href="#任务实施" class="headerlink" title="任务实施"></a>任务实施</h2><p>个人资料加上QQ号属性</p><h2 id="学习目标"><a href="#学习目标" class="headerlink" title="学习目标"></a>学习目标</h2><p>掌握SQLite数据库的使用，能够实现使用数据库保存用户信息。<br>掌握个人资料界面的创建，并能实现个人资料的修改。</p><p>个人资料模块主要用于展示用户的基本信息，同时用户可以队个人资料中的昵称，性别和签名进行修改。<br>本章将针对个人资料模块进行详细讲解。</p><h2 id="项目实操"><a href="#项目实操" class="headerlink" title="项目实操"></a>项目实操</h2><p>个人资料界面<br>布局<br>创建一个新的布局文件，命名为activity_user_info。QQ号属性也写上去，进行显示，但是任务要求保存功能效果。</p><p>activity_user_info.xml </p><pre><code>&lt;?xml version="1.0" encoding="utf-8"?&gt;&lt;LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"              android:layout_width="match_parent"              android:layout_height="match_parent"              android:background="@android:color/white"              android:orientation="vertical"&gt;    &lt;!--标题栏--&gt;    &lt;include layout="@layout/main_title_bar" /&gt;    &lt;RelativeLayout        android:id="@+id/rl_head"        android:layout_width="fill_parent"        android:layout_height="60dp"        android:layout_marginLeft="15dp"        android:layout_marginRight="15dp"&gt;        &lt;TextView            android:layout_width="wrap_content"            android:layout_height="wrap_content"            android:layout_centerVertical="true"            android:text="头  像"            android:textColor="#000000"            android:textSize="16sp" /&gt;        &lt;ImageView            android:id="@+id/iv_head_icon"            android:layout_width="40dp"            android:layout_height="40dp"            android:layout_alignParentRight="true"            android:layout_centerVertical="true"            android:src="@drawable/default_icon" /&gt;    &lt;/RelativeLayout&gt;    &lt;View        android:layout_width="fill_parent"        android:layout_height="1dp"        android:background="#E4E4E4" /&gt;    &lt;RelativeLayout        android:id="@+id/rl_account"        android:layout_width="fill_parent"        android:layout_height="60dp"        android:layout_marginLeft="15dp"        android:layout_marginRight="15dp"&gt;        &lt;TextView            android:layout_width="wrap_content"            android:layout_height="wrap_content"            android:layout_centerVertical="true"            android:text="用户名"            android:textColor="#000000"            android:textSize="16sp" /&gt;        &lt;TextView            android:id="@+id/tv_user_name"            android:layout_width="wrap_content"            android:layout_height="wrap_content"            android:layout_alignParentRight="true"            android:layout_centerVertical="true"            android:layout_marginRight="5dp"            android:text="用户名"            android:textColor="#a3a3a3"            android:textSize="14sp" /&gt;    &lt;/RelativeLayout&gt;    &lt;View        android:layout_width="fill_parent"        android:layout_height="1dp"        android:background="#E4E4E4" /&gt;    &lt;RelativeLayout        android:id="@+id/rl_nickName"        android:layout_width="fill_parent"        android:layout_height="60dp"        android:layout_marginLeft="15dp"        android:layout_marginRight="15dp"&gt;        &lt;TextView            android:layout_width="wrap_content"            android:layout_height="wrap_content"            android:layout_centerVertical="true"            android:text="昵  称"            android:textColor="#000000"            android:textSize="16sp" /&gt;        &lt;TextView            android:id="@+id/tv_nick_name"            android:layout_width="wrap_content"            android:layout_height="wrap_content"            android:layout_alignParentRight="true"            android:layout_centerVertical="true"            android:layout_marginRight="5dp"            android:text="昵称"            android:textColor="#a3a3a3"            android:textSize="14sp" /&gt;    &lt;/RelativeLayout&gt;    &lt;View        android:layout_width="fill_parent"        android:layout_height="1dp"        android:background="#E4E4E4" /&gt;    &lt;RelativeLayout        android:id="@+id/rl_sex"        android:layout_width="fill_parent"        android:layout_height="60dp"        android:layout_marginLeft="15dp"        android:layout_marginRight="15dp"&gt;        &lt;TextView            android:layout_width="wrap_content"            android:layout_height="wrap_content"            android:layout_centerVertical="true"            android:text="性  别"            android:textColor="#000000"            android:textSize="16sp" /&gt;        &lt;TextView            android:id="@+id/tv_sex"            android:layout_width="wrap_content"            android:layout_height="wrap_content"            android:layout_alignParentRight="true"            android:layout_centerVertical="true"            android:layout_marginRight="5dp"            android:singleLine="true"            android:text="男"            android:textColor="#a3a3a3"            android:textSize="14sp" /&gt;    &lt;/RelativeLayout&gt;    &lt;View        android:layout_width="fill_parent"        android:layout_height="1dp"        android:background="#E4E4E4" /&gt;    &lt;RelativeLayout        android:id="@+id/rl_signature"        android:layout_width="fill_parent"        android:layout_height="60dp"        android:layout_marginLeft="15dp"        android:layout_marginRight="15dp"&gt;        &lt;TextView            android:layout_width="wrap_content"            android:layout_height="wrap_content"            android:layout_centerVertical="true"            android:text="签  名"            android:textColor="#000000"            android:textSize="16sp" /&gt;        &lt;TextView            android:id="@+id/tv_signature"            android:layout_width="wrap_content"            android:layout_height="wrap_content"            android:layout_alignParentRight="true"            android:layout_centerVertical="true"            android:layout_marginRight="5dp"            android:textColor="#a3a3a3"            android:textSize="14sp" /&gt;        &lt;!--android:text="你们好"--&gt;    &lt;/RelativeLayout&gt;    &lt;View        android:layout_width="fill_parent"        android:layout_height="1dp"        android:background="#E4E4E4" /&gt;    &lt;RelativeLayout        android:id="@+id/rl_qq"        android:layout_width="fill_parent"        android:layout_height="60dp"        android:layout_marginLeft="15dp"        android:layout_marginRight="15dp"&gt;        &lt;TextView            android:layout_width="wrap_content"            android:layout_height="wrap_content"            android:layout_centerVertical="true"            android:text="Q Q"            android:textColor="#000000"            android:textSize="16sp" /&gt;        &lt;TextView            android:id="@+id/tv_qq"            android:layout_width="wrap_content"            android:layout_height="wrap_content"            android:layout_alignParentRight="true"            android:layout_centerVertical="true"            android:layout_marginRight="5dp"            android:singleLine="true"            android:text="未添加"            android:textColor="#a3a3a3"            android:textSize="14sp" /&gt;    &lt;/RelativeLayout&gt;    &lt;View        android:layout_width="fill_parent"        android:layout_height="1dp"        android:background="#E4E4E4" /&gt;&lt;/LinearLayout&gt;</code></pre><h2 id="用户信息表"><a href="#用户信息表" class="headerlink" title="用户信息表"></a>用户信息表</h2><p>对于各个用户信息，我们需要用一个Bean类来存放这些属性。<br>新建一个包，命名为Bean。</p><p>在bean包下创建一个Java类，命名为UserBean。<br>写上需要用到的属性。</p><p>UserBean.java </p><pre><code>package cn.edu.gdmec.android.boxuegu.bean;public class UserBean {    public String userName;//用户名    public String nickName;//昵称    public String sex;//性别    public String signature;//签名}</code></pre><p>接下来是数据库类。<br>新建一个Sqlite包。在Sqlite包中建一个Java类，命名为SQLiteHelper。<br>SQLiteHelper.java </p><pre><code>package cn.edu.gdmec.android.boxuegu.sqlite;import android.content.Context;import android.database.sqlite.SQLiteDatabase;import android.database.sqlite.SQLiteOpenHelper;public class SQLiteHelper extends SQLiteOpenHelper {    private static final int DB_VERSION = 1;    public static String DB_NAME = "bxg.db";    public static final String U_USER_INFO = "userInfo";    public SQLiteHelper(Context context){        super(context, DB_NAME, null, DB_VERSION);    }    @Override    public void onCreate(SQLiteDatabase db) {        /**         * 当这个SQLiteOpenHelper的子类类被实例化时会创建指定名的数据库，在onCreate中创建个人信息表         * **/        db.execSQL("CREATE TABLE IF NOT EXISTS " + U_USER_INFO + "( "                + "_id  INTEGER PRIMARY KEY AUTOINCREMENT, "                + "userName VARCHAR, "                + "nickName VARCHAR, "                + "sex VARCHAR, "                + "signature VARCHAR "                + ")");    }    /**     * 当数据库版本号增加才会调用此方法     **/    @Override    public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {        db.execSQL("DROP TABLE IF EXISTS " + U_USER_INFO);        onCreate(db);    }}</code></pre><p>接下来创建一个数据库工具类，用于读取、保存、修改用户信息。<br>在utils包里建一个Java类，命名为DBUtils。</p><p>DBUtils.java </p><pre><code>package cn.edu.gdmec.android.boxuegu.utils;import android.content.ContentValues;import android.content.Context;import android.database.Cursor;import android.database.sqlite.SQLiteDatabase;import cn.edu.gdmec.android.boxuegu.bean.UserBean;import cn.edu.gdmec.android.boxuegu.sqlite.SQLiteHelper;public class DBUtils {    private static DBUtils instance = null;    private static SQLiteHelper helper;    private static SQLiteDatabase db;    /**     * 构造方法，只有当类被实例化时候调用     * 实例化SQLiteHelper类，从中得到一个课读写的数据库     **/    public DBUtils(Context context) {        helper = new SQLiteHelper(context);        db = helper.getWritableDatabase();    }    /**     * 得到这个类的实例     **/    public static DBUtils getInstance(Context context) {        if (instance == null) {            instance = new DBUtils(context);        }        return instance;    }    /**     * 保存个人资料信息     **/    public void saveUserInfo(UserBean bean) {        ContentValues cv = new ContentValues();        cv.put("userName", bean.userName);        cv.put("nickName", bean.nickName);        cv.put("sex", bean.sex);        cv.put("signature", bean.signature);        //Convenience method for inserting a row into the database.        //注意，我们是从数据库使用插入方法，传入表名和数据集完成插入        db.insert(SQLiteHelper.U_USER_INFO, null, cv);    }    /**     * 获取个人资料信息     **/    public UserBean getUserInfo(String userName) {        String sql = "SELECT * FROM " + SQLiteHelper.U_USER_INFO + " WHERE userName=?";        //?和下面数组内元素会逐个替换，可以多条件查询=?and =?        //You may include ?s in where clause in the query, which will be replaced by the values from selectionArgs.        Cursor cursor = db.rawQuery(sql, new String[]{userName});        UserBean bean = null;        //Move the cursor to the next row.        while (cursor.moveToNext()) {            bean = new UserBean();            //根据列索引获取对应的数值，因为这里查询结果只有一个，我们也不需要对模型UserBean进行修改，            //直接将对应用户名的所有数据从表中动态赋值给bean            bean.userName = cursor.getString(cursor.getColumnIndex("userName"));            bean.nickName = cursor.getString(cursor.getColumnIndex("nickName"));            bean.sex = cursor.getString(cursor.getColumnIndex("sex"));            bean.signature = cursor.getString(cursor.getColumnIndex("signature"));        }        cursor.close();        return bean;    }    /**     * 修改个人资料信息,这里的key指代表字段，value表示数值     **/    public void updateUserInfo(String key, String value, String userName) {        ContentValues cv = new ContentValues();        cv.put(key, value);        //Convenience method for updating rows in the database.        db.update(SQLiteHelper.U_USER_INFO, cv, "userName=?", new String[]                {userName});    }}</code></pre><h2 id="个人资料界面逻辑代码"><a href="#个人资料界面逻辑代码" class="headerlink" title="个人资料界面逻辑代码"></a>个人资料界面逻辑代码</h2><p>UserInfoActivity.java </p><pre><code>package cn.edu.gdmec.android.boxuegu.activity;import android.app.Activity;import android.content.DialogInterface;import android.content.Intent;import android.content.pm.ActivityInfo;import android.graphics.Color;import android.os.Bundle;import android.support.v7.app.AlertDialog;import android.text.TextUtils;import android.view.View;import android.widget.ImageView;import android.widget.RelativeLayout;import android.widget.TextView;import android.widget.Toast;import cn.edu.gdmec.android.boxuegu.R;import cn.edu.gdmec.android.boxuegu.bean.UserBean;import cn.edu.gdmec.android.boxuegu.utils.AnalysisUtils;import cn.edu.gdmec.android.boxuegu.utils.DBUtils;public class UserInfoActivity extends Activity implements View.OnClickListener{    //标题栏    private RelativeLayout title_bar;    private TextView tv_back;    private TextView tv_main_title;    //    private RelativeLayout rl_head;    private ImageView iv_head_icon;    private RelativeLayout rl_account;//    private TextView tv_user_name;    private RelativeLayout rl_nickName;    private TextView tv_nick_name;    private RelativeLayout rl_sex;    private TextView tv_sex;    private RelativeLayout rl_signature;    private TextView tv_signature;    private RelativeLayout rl_qq;    private TextView tv_qq;    //    private String spUserName;    private String new_info;    private static final int CHANGE_NICKNAME = 1;    private static final int CHANGE_SIGNATURE = 2;    @Override    protected void onCreate(Bundle savedInstanceState) {        super.onCreate(savedInstanceState);        setContentView(R.layout.activity_user_info);        //设置此界面为竖屏        setRequestedOrientation(ActivityInfo.SCREEN_ORIENTATION_PORTRAIT);        spUserName= AnalysisUtils.readLoginUserName(this);        initView();        initDate();    }    private void initDate() {        UserBean bean = null;        //实例化DBUtils，同时调用其方法获取个人信息资料        bean = DBUtils.getInstance(this).getUserInfo(spUserName);        //如果第一次进入，数据库没有保留用户信息        if (bean == null) {            bean = new UserBean();            bean.userName = spUserName;            bean.nickName = "问答精灵";            bean.sex = "男";            bean.signature = "这个人很懒，什么都没留下...";            bean.qq= "未添加";            //保存到数据库            DBUtils.getInstance(this).saveUserInfo(bean);        }        setValue(bean);    }    private void initView() {        //个人资料界面        tv_back = findViewById(R.id.tv_back);        tv_main_title = findViewById(R.id.tv_main_title);        tv_main_title.setText("个人资料界面");        title_bar = findViewById(R.id.title_bar);        title_bar.setBackgroundColor(Color.parseColor("#30B4FF"));        /**         * rl_head iv_head_icon         * rl_account tv_user_name         * rl_nickName tv_nick_name         * rl_sex tv_sex         * rl_signature tv_signature         * rl_qq tv_qq         */        rl_head=findViewById(R.id.rl_head);        iv_head_icon=findViewById(R.id.iv_head_icon);        rl_account=findViewById(R.id.rl_account);        tv_user_name=findViewById(R.id.tv_user_name);        rl_nickName=findViewById(R.id.rl_nickName);        tv_nick_name=findViewById(R.id.tv_nick_name);        rl_sex=findViewById(R.id.rl_sex);        tv_sex=findViewById(R.id.tv_sex);        rl_signature=findViewById(R.id.rl_signature);        tv_signature=findViewById(R.id.tv_signature);        rl_qq=findViewById(R.id.rl_qq);        tv_qq=findViewById(R.id.tv_qq);        //        tv_back.setOnClickListener(this);        rl_head.setOnClickListener(this);        rl_account.setOnClickListener(this);        rl_nickName.setOnClickListener(this);        rl_sex.setOnClickListener(this);        rl_signature.setOnClickListener(this);        rl_qq.setOnClickListener(this);    }    @Override    public void onClick(View v) {        switch (v.getId()) {            case R.id.tv_back:                this.finish();                break;            case R.id.rl_nickName:                //昵称                String name = tv_nick_name.getText().toString();                Bundle bdName = new Bundle();                bdName.putString("content", name);      //传递界面上的昵称数据                bdName.putString("title", "昵称");                bdName.putInt("flag", 1);                //ActivityUserInfoActivity的Onclick()里昵称和签名响应加上跳转代码                break;            case R.id.rl_sex:                String sex = tv_sex.getText().toString();                sexDialog(sex);                break;            case R.id.rl_signature:                //签名                String signature = tv_signature.getText().toString();                Bundle bdSignature = new Bundle();                bdSignature.putString("content", signature); //传递界面上的签名数据                bdSignature.putString("title", "签名");                bdSignature.putInt("flag", 2);                //ActivityUserInfoActivity的Onclick()里昵称和签名响应加上跳转代码                break;            default:                break;        }    }    /**     * 为界面空间设置值     **/    private void setValue(UserBean bean) {        tv_user_name.setText(bean.userName);        tv_nick_name.setText(bean.nickName);        tv_sex.setText(bean.sex);        tv_signature.setText(bean.signature);        tv_qq.setText(bean.qq);    }    /**     * 设置性别弹出框     **/    private void sexDialog(String sex) {        int sexFlag = 0;        if ("男".equals(sex)) {            sexFlag = 0;        } else if ("女".equals(sex)) {            sexFlag = 1;        }        final String items[] = {"男", "女"};        AlertDialog.Builder builder = new AlertDialog.Builder(this);        builder.setTitle("性别");        //sexFlag用来区分显示被选中项，如果sexFlag的值和在数组中的索引严格符合，下方which也可用sexFlag代替        builder.setSingleChoiceItems(items, sexFlag, new DialogInterface.OnClickListener() {            @Override            public void onClick(DialogInterface dialog, int which) {                dialog.dismiss();                Toast.makeText(UserInfoActivity.this, items[which], Toast.LENGTH_SHORT).show();                setSex(items[which]);            }        });        builder.create().show();    }    /**     * 更新性别数据     **/    private void setSex(String sex) {        tv_sex.setText(sex);        //更新数据库字段        DBUtils.getInstance(this).updateUserInfo("sex", sex, spUserName);    }    /**     * 其实就是把需要传递的数值放置于bundle中，bundle作为附加到intent中     * 获取回传数据是需要的跳转方法，第三个参数标示跳转是传递的数据     **/    public void enterActivityForResult(Class&lt;?&gt; to, int requestCode, Bundle b) {        Intent i = new Intent(this, to);        i.putExtras(b);        startActivityForResult(i, requestCode);    }    @Override    protected void onActivityResult(int requestCode, int resultCode, Intent data) {        super.onActivityResult(requestCode, resultCode, data);        switch (requestCode) {            case CHANGE_NICKNAME:                if (data != null) {                    new_info = data.getStringExtra("nickName");                    if (TextUtils.isEmpty(new_info)) {                        return;                    }                    tv_nick_name.setText(new_info);                    //更新数据库中昵称字段                    DBUtils.getInstance(UserInfoActivity.this).updateUserInfo("nickName",                            new_info, spUserName);                }                break;            case CHANGE_SIGNATURE:                if (data != null) {                    new_info = data.getStringExtra("signature");                    if (TextUtils.isEmpty(new_info)) {                        return;                    }                    tv_signature.setText(new_info);                    //更新数据库中签名字段                    DBUtils.getInstance(UserInfoActivity.this).updateUserInfo("signature",                            new_info, spUserName);                }                break;        }    }}</code></pre><p>MyinfoFragment.java中，找到跳转到个人资料界面的地方，添加跳转方法。</p><p>MyinfoFragment </p><pre><code>@Override    public void onClick(View v) {        switch (v.getId()){            case R.id.ll_head:                if (AnalysisUtils.readLoginStatus(getActivity())){                    //跳转到个人资料界面                    Intent intent=new Intent(getActivity(), UserInfoActivity.class);                    getActivity().startActivity(intent);                }else {                    //跳转到登录界面                    Intent intent = new Intent(getActivity(), LoginActivity.class);                    getActivity().startActivityForResult(intent,1);                }                break;            case R.id.rl_course_history:                if (AnalysisUtils.readLoginStatus(getActivity())){                    //跳转到播放记录页面                }else {                    Toast.makeText(getActivity(),"您未登录，请先登录",Toast.LENGTH_SHORT).show();                }                break;            case R.id.rl_setting:                if (AnalysisUtils.readLoginStatus(getActivity())){                    //跳转到设置界面                    Intent intent=new Intent(getActivity(), SettingActivity.class);                    getActivity().startActivityForResult(intent,1);                }else {                    Toast.makeText(getActivity(),"您未登录，请先登录",Toast.LENGTH_SHORT).show();                }                break;        }    }</code></pre><p>AndroidManifest.xml中声明Activity<br>AndroidManifest.xml</p><pre><code>&lt;activity android:name=".activity.UserInfoActivity"&gt;&lt;/activity&gt;</code></pre><h2 id="个人资料修改"><a href="#个人资料修改" class="headerlink" title="个人资料修改"></a>个人资料修改</h2><p>个人资料修改界面<br>修改界面需用到图片info_delete.png</p><p>新建布局文件，命名为activity_change_user_info<br>activity_change_user_info.xml </p><pre><code>&lt;?xml version="1.0" encoding="utf-8"?&gt;&lt;LinearLayout    xmlns:android="http://schemas.android.com/apk/res/android"    android:layout_width="match_parent"    android:layout_height="match_parent"    android:background="#eeeeee"    android:orientation="vertical"&gt;    &lt;include layout="@layout/main_title_bar" /&gt;    &lt;LinearLayout        android:layout_width="fill_parent"        android:layout_height="wrap_content"        android:gravity="center_vertical"        android:orientation="horizontal"&gt;        &lt;EditText            android:id="@+id/et_content"            android:layout_width="match_parent"            android:layout_height="50dp"            android:layout_gravity="center_horizontal"            android:background="@android:color/white"            android:gravity="center_vertical"            android:singleLine="true"            android:paddingLeft="10dp"            android:textColor="#737373"            android:textSize="14sp" /&gt;        &lt;ImageView            android:id="@+id/iv_delete"            android:layout_width="27dp"            android:layout_height="27dp"            android:layout_marginLeft="-40dp"            android:src="@drawable/info_delete" /&gt;    &lt;/LinearLayout&gt;&lt;/LinearLayout&gt;</code></pre><p>修改完信息后要保存，在标题栏加了个“保存”TextView。<br>到main_title_bar.xml中tv_main_title按钮的下方，加个“保存”。<br>main_title_bar.xml</p><pre><code>&lt;TextView        android:id="@+id/tv_save"        android:layout_width="wrap_content"        android:layout_height="30dp"        android:layout_centerVertical="true"        android:layout_marginRight="20dp"        android:layout_marginTop="20dp"        android:layout_alignParentRight="true"        android:visibility="gone"        android:text="保存"        android:textColor="@android:color/white"        android:textSize="16sp"/&gt;</code></pre><p>相信之前也写好了</p><pre><code>&lt;?xml version="1.0" encoding="utf-8"?&gt;&lt;!--标题栏与返回键的创建，独立在main_title_bar.xml中--&gt;&lt;!--标题栏设置高度为50dp，宽度为match_parent,设置背景颜色为通明为@android:color/transparent--&gt;&lt;!--RelativeLayout为相对布局--&gt;&lt;RelativeLayout    xmlns:android="http://schemas.android.com/apk/res/android"    android:id="@+id/title_bar"    android:layout_width="match_parent"    android:layout_height="50dp"    android:background="@android:color/transparent"&gt;    &lt;!--设置返回键TextView为高度50dp,宽度为50dp;id为android:id="@+id/tv_back"--&gt;    &lt;!--layout_alignParentLeft为与父控件左对齐--&gt;    &lt;!--layout_centerVertical为控件垂直居中--&gt;    &lt;!--标题栏界面中的返回键在按下与弹起时，返回键会有明显的区别，这种效果通过背景选择器进行实现--&gt;    &lt;TextView        android:id="@+id/tv_back"        android:layout_width="50dp"        android:layout_height="50dp"        android:layout_alignParentLeft="true"        android:layout_centerVertical="true"        android:background="@drawable/go_back_selector"/&gt;    &lt;!--设置id为android:id="@+id/tv_main_title--&gt;    &lt;!--该TextView为显示文本--&gt;    &lt;!--layout_centerInparent为居中显示--&gt;    &lt;TextView        android:id="@+id/tv_main_title"        android:layout_width="wrap_content"        android:layout_height="wrap_content"        android:textColor="@android:color/white"        android:textSize="20sp"        android:layout_centerInParent="true"/&gt;    &lt;!--到main_title_bar.xml中tv_main_title按钮的下方，加个“保存”--&gt;    &lt;TextView        android:id="@+id/tv_save"        android:layout_width="wrap_content"        android:layout_height="30dp"        android:layout_centerVertical="true"        android:layout_marginRight="20dp"        android:layout_marginTop="20dp"        android:layout_alignParentRight="true"        android:visibility="gone"        android:text="保存"        android:textColor="@android:color/white"        android:textSize="16sp"/&gt;&lt;/RelativeLayout&gt;</code></pre><h2 id="个人资料修改界面逻辑代码"><a href="#个人资料修改界面逻辑代码" class="headerlink" title="个人资料修改界面逻辑代码"></a>个人资料修改界面逻辑代码</h2><p>生成ChangeUserInfoActivity，生成控件实例化代码。</p><p>资料修改界面的完整代码：<br>ChangeUserInfoActivity.java </p><pre><code>package cn.edu.gdmec.android.boxuegu.activity;import android.content.Intent;import android.content.pm.ActivityInfo;import android.graphics.Color;import android.os.Bundle;import android.support.v7.app.AppCompatActivity;import android.text.Editable;import android.text.Selection;import android.text.TextUtils;import android.text.TextWatcher;import android.view.View;import android.widget.EditText;import android.widget.ImageView;import android.widget.RelativeLayout;import android.widget.TextView;import android.widget.Toast;import cn.edu.gdmec.android.boxuegu.R;public class ChangeUserInfoActivity extends AppCompatActivity implements View.OnClickListener{    //标题栏    private TextView tv_back;    private TextView tv_main_title;    private TextView tv_save;    private RelativeLayout rl_title_bar;    //    private EditText et_content;    private ImageView iv_delete;    private String title, content;    private int flag;  //flag为1时表示修改昵称，为2时表示修改签名    @Override    protected void onCreate(Bundle savedInstanceState) {        super.onCreate(savedInstanceState);        setContentView(R.layout.activity_change_user_info);        //设置此界面为竖屏        setRequestedOrientation(ActivityInfo.SCREEN_ORIENTATION_PORTRAIT);        initView();    }    private void initView() {        tv_back = (TextView) findViewById(R.id.tv_back);        tv_main_title = (TextView) findViewById(R.id.tv_main_title);        tv_save = (TextView) findViewById(R.id.tv_save);        rl_title_bar = (RelativeLayout) findViewById(R.id.title_bar);        et_content = (EditText) findViewById(R.id.et_content);        iv_delete = (ImageView) findViewById(R.id.iv_delete);        //从个人资料界面传递过来的标题和内容        title = getIntent().getStringExtra("title");        content = getIntent().getStringExtra("content");        flag = getIntent().getIntExtra("flag", 0);        tv_main_title.setText(title);        tv_save.setVisibility(View.VISIBLE);        rl_title_bar.setBackgroundColor(Color.parseColor("#30B4FF"));        tv_back.setOnClickListener(this);        iv_delete.setOnClickListener(this);        tv_save.setOnClickListener(this);        if (!TextUtils.isEmpty(content)){            et_content.setText(content);            et_content.setSelection(content.length());        }        contentListener();    }    /**     * 监听个人资料修改界面输入的文字     **/    private void contentListener() {        et_content.addTextChangedListener(new TextWatcher() {            @Override            public void beforeTextChanged(CharSequence charSequence, int start, int count, int after) {            }            @Override            public void onTextChanged(CharSequence s, int start, int before, int count) {                Editable editable = et_content.getText();                int len = editable.length();//输入文本的长度                if (len &gt;= 0) {                    iv_delete.setVisibility(View.VISIBLE);                } else {                    iv_delete.setVisibility(View.GONE);                }                switch (flag) {                    case 1://昵称,最多8个文字，超过则截取多余文字                        if (len &gt; 8) {                            int selEndIndex = Selection.getSelectionEnd(editable);                            String str = editable.toString();                            //截取新字符串                            String newStr = str.substring(0, 8);                            et_content.setText(newStr);                            editable = et_content.getText();                            //新字符串长度                            int newLen = editable.length();                            //旧光标位置超过新字符串长度                            if (selEndIndex &gt; newLen) {                                selEndIndex = editable.length();                            }                            //设置新光标所在位置                            Selection.setSelection(editable, selEndIndex);                        }                        break;                    case 2: //签名，做多16，                        if (len &gt; 16) {                            int selEndIndex = Selection.getSelectionEnd(editable);                            String str = editable.toString();                            String newStr = str.substring(0, 16);                            et_content.setText(newStr);                            editable = et_content.getText();                            int newLen = editable.length();                            if (selEndIndex &gt; newLen) {                                selEndIndex = editable.length();                            }                            Selection.setSelection(editable, selEndIndex);                        }                        break;                    default:                        break;                }            }            @Override            public void afterTextChanged(Editable editable) {            }        });    }    @Override    public void onClick(View v) {        switch (v.getId()){            case R.id.tv_back:                finish();                break;            case R.id.iv_delete:                et_content.setText("");                break;            case R.id.tv_save:                Intent data = new Intent();                String etContent = et_content.getText().toString().trim();                switch (flag) {                    case 1:                        if (!TextUtils.isEmpty(etContent)) {                            data.putExtra("nickName", etContent);                            setResult(RESULT_OK, data);                            Toast.makeText(this, "保存成功", Toast.LENGTH_SHORT).show();                            ChangeUserInfoActivity.this.finish();                        } else {                            Toast.makeText(this, "昵称不能为空", Toast.LENGTH_SHORT).show();                        }                        break;                    case 2:                        if (!TextUtils.isEmpty(etContent)) {                            data.putExtra("signature", etContent);                            setResult(RESULT_OK, data);                            Toast.makeText(this, "保存成功", Toast.LENGTH_SHORT).show();                            ChangeUserInfoActivity.this.finish();                        } else {                            Toast.makeText(this, "签名不能为空", Toast.LENGTH_SHORT).show();                        }                        break;                }        }    }}</code></pre><p>UserInfoActivity的Onclick()里昵称和签名响应加上跳转代码</p><pre><code>@Override    public void onClick(View v) {        switch (v.getId()) {            case R.id.tv_back:                this.finish();                break;            case R.id.rl_nickName:                //昵称                String name = tv_nick_name.getText().toString();                Bundle bdName = new Bundle();                bdName.putString("content", name);      //传递界面上的昵称数据                bdName.putString("title", "昵称");                bdName.putInt("flag", 1);                //ActivityUserInfoActivity的Onclick()里昵称和签名响应加上跳转代码                enterActivityForResult(ChangeUserInfoActivity.class, CHANGE_NICKNAME, bdName);//跳转到修改界面                break;            case R.id.rl_sex:                String sex = tv_sex.getText().toString();                sexDialog(sex);                break;            case R.id.rl_signature:                //签名                String signature = tv_signature.getText().toString();                Bundle bdSignature = new Bundle();                bdSignature.putString("content", signature); //传递界面上的签名数据                bdSignature.putString("title", "签名");                bdSignature.putInt("flag", 2);                //ActivityUserInfoActivity的Onclick()里昵称和签名响应加上跳转代码                enterActivityForResult(ChangeUserInfoActivity.class, CHANGE_SIGNATURE, bdSignature);                break;            default:                break;        }    }</code></pre><p>再到AndroidManifest.xml中声明activity </p><pre><code>&lt;activity android:name=".activity.ChangeUserInfoActivity"&gt;&lt;/activity&gt;</code></pre><h2 id="这次的包结构"><a href="#这次的包结构" class="headerlink" title="这次的包结构"></a>这次的包结构</h2><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="/images/23.png" alt="23"></p><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="/images/24.png" alt="24"></p><h2 id="任务实施-1"><a href="#任务实施-1" class="headerlink" title="任务实施"></a>任务实施</h2><p>个人资料加上QQ号属性<br>在个人资料下添加一个“QQ号”属性，初始状态文字显示“未添加”，点击进入修改页面，输入框的键盘类型只能为数字。<br>（提示：editText.setInputType(InputType.TYPE_CLASS_NUMBER) ）<br>输入框最多只能输入12位数字，点击保存后个人资料界面能正常显示保存后的结果。</p><h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>这是走好Android的五步！</p><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
      
      
      <categories>
          
          <category> 教育系统APP </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 教育系统APP </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>教育系统APP(四)</title>
      <link href="/2018/04/24/1/"/>
      <url>/2018/04/24/1/</url>
      
        <content type="html"><![CDATA[<h2 id="“我”的模块"><a href="#“我”的模块" class="headerlink" title="“我”的模块"></a>“我”的模块</h2><p>掌握修改密码功能的开发，实现用户密码的修改<br>掌握设置密保功能的开发，并且通过密保可以找回用户密码</p><h2 id="挑战任务"><a href="#挑战任务" class="headerlink" title="挑战任务"></a>挑战任务</h2><p>初次打开页面都是Fragment_1，请修改相关代码，让初始打开的页面为Fragment_3，别忘了底部导航栏也要变颜色哦</p><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="/images/18.jpg" alt="18"></p><a id="more"></a><h2 id="解决方案"><a href="#解决方案" class="headerlink" title="解决方案"></a>解决方案</h2><p>改MainActivity.java即可 </p><pre><code>package cn.edu.gdmec.android.boxuegu.activity;import android.content.pm.ActivityInfo;import android.graphics.Color;import android.os.Bundle;import android.support.v4.app.FragmentActivity;import android.view.View;import android.widget.ImageView;import android.widget.LinearLayout;import android.widget.RelativeLayout;import android.widget.TextView;import cn.edu.gdmec.android.boxuegu.R;import cn.edu.gdmec.android.boxuegu.fragment.CourseFragment;import cn.edu.gdmec.android.boxuegu.fragment.ExercisesFragment;import cn.edu.gdmec.android.boxuegu.fragment.MyinfoFragment;/*任务在主界面的Hello World位置显示：用户名+“登录成功”*/public class MainActivity extends FragmentActivity implements View.OnClickListener{    private RelativeLayout main_body;    private TextView bottom_bar_text_course;    private ImageView bottom_bar_image_course;    private RelativeLayout bottom_bar_course_btn;    private TextView bottom_bar_text_exercises;    private ImageView bottom_bar_image_exercises;    private RelativeLayout bottom_bar_exercises_btn;    private TextView bottom_bar_text_myinfo;    private ImageView bottom_bar_image_myinfo;    private RelativeLayout bottom_bar_myinfo_btn;    private LinearLayout main_bottom_bar;    @Override    protected void onCreate(Bundle savedInstanceState) {        super.onCreate(savedInstanceState);        setContentView(R.layout.activity_main);        initView();        setRequestedOrientation(ActivityInfo.SCREEN_ORIENTATION_PORTRAIT);        //把Fragment加到Activity里的代码如下       /* FragmentManager manager = getSupportFragmentManager();        FragmentTransaction transaction = manager.beginTransaction();        transaction.add(R.id.main_body,new CourseFragment()).commit();*/       setMain();    }    private void setMain() {        this.getSupportFragmentManager().beginTransaction().add(R.id.main_body,new MyinfoFragment()).commit();        setSelectStatus(2);    }    private void setSelectStatus(int index) {        switch (index){            case 0:                bottom_bar_image_course.setImageResource(R.drawable.main_course_icon_selected);                bottom_bar_text_course.setTextColor(Color.parseColor("#0097F7"));                bottom_bar_text_exercises.setTextColor(Color.parseColor("#666666"));                bottom_bar_text_myinfo.setTextColor(Color.parseColor("#666666"));                bottom_bar_image_exercises.setImageResource(R.drawable.main_exercises_icon);                bottom_bar_image_myinfo.setImageResource(R.drawable.main_my_icon);                break;            case 1:                bottom_bar_image_exercises.setImageResource(R.drawable.main_exercises_icon_selected);                bottom_bar_text_exercises.setTextColor(Color.parseColor("#0097F7"));                bottom_bar_text_course.setTextColor(Color.parseColor("#666666"));                bottom_bar_text_myinfo.setTextColor(Color.parseColor("#666666"));                bottom_bar_image_course.setImageResource(R.drawable.main_course_icon);                bottom_bar_image_myinfo.setImageResource(R.drawable.main_my_icon);                break;            case 2:                bottom_bar_image_myinfo.setImageResource(R.drawable.main_my_icon_selected);                bottom_bar_text_myinfo.setTextColor(Color.parseColor("#0097F7"));                bottom_bar_text_course.setTextColor(Color.parseColor("#666666"));                bottom_bar_text_exercises.setTextColor(Color.parseColor("#666666"));                bottom_bar_image_exercises.setImageResource(R.drawable.main_exercises_icon);                bottom_bar_image_course.setImageResource(R.drawable.main_course_icon);                break;        }    }    private void initView() {        main_body = findViewById(R.id.main_body);        bottom_bar_text_course = findViewById(R.id.bottom_bar_text_course);        bottom_bar_image_course = findViewById(R.id.bottom_bar_image_course);        bottom_bar_course_btn = findViewById(R.id.bottom_bar_course_btn);        bottom_bar_text_exercises = findViewById(R.id.bottom_bar_text_exercises);        bottom_bar_image_exercises = findViewById(R.id.bottom_bar_image_exercises);        bottom_bar_exercises_btn = findViewById(R.id.bottom_bar_exercises_btn);        bottom_bar_text_myinfo = findViewById(R.id.bottom_bar_text_myinfo);        bottom_bar_image_myinfo = findViewById(R.id.bottom_bar_image_myinfo);        bottom_bar_myinfo_btn = findViewById(R.id.bottom_bar_myinfo_btn);        main_bottom_bar = findViewById(R.id.main_bottom_bar);        bottom_bar_course_btn.setOnClickListener(this);        bottom_bar_exercises_btn.setOnClickListener(this);        bottom_bar_myinfo_btn.setOnClickListener(this);    }    @Override    public void onClick(View v) {        switch (v.getId()){            case R.id.bottom_bar_course_btn:                getSupportFragmentManager().beginTransaction().add(R.id.main_body,new CourseFragment()).commit();                setSelectStatus(0);                break;            case R.id.bottom_bar_exercises_btn:                getSupportFragmentManager().beginTransaction().add(R.id.main_body,new ExercisesFragment()).commit();                setSelectStatus(1);                break;            case R.id.bottom_bar_myinfo_btn:                getSupportFragmentManager().beginTransaction().add(R.id.main_body,new MyinfoFragment()).commit();                setSelectStatus(2);                break;        }    }}</code></pre><h2 id="APP（四"><a href="#APP（四" class="headerlink" title="APP（四)"></a>APP（四)</h2><p>博学谷项目“我”的模块    </p><h2 id="学习目标"><a href="#学习目标" class="headerlink" title="学习目标"></a>学习目标</h2><p>掌握修改密码功能的开发，实现用户密码的修改；<br>掌握设置密保功能的开发，并且通过密保可以找回用户密码。    </p><h2 id="项目实操"><a href="#项目实操" class="headerlink" title="项目实操"></a>项目实操</h2><p>“我”的界面<br>设置<br>修改密码<br>设置密保和找回密码<br>任务实施<br>修复fragment的小BUG<br>修改密保设置页面<br>优化找回密码    </p><p>“我”的模块主要时以设置用户以及保证用户安全为主。当用户登录成功后，可以修改密码以及设置密保，且只有设置过密保的帐户才可以找回密码。</p><p>“我”的界面<br>首先是资源图片，“我”的界面要用到的图片有myinfo_login_bg、course_history_icon、iv_right_arrow、myinfo_setting_icon</p><p>老样子，将它们放到drawable下<br><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="/images/16.png" alt="16"></p><p>然后是布局代码，在我们上一次课创的fragment_myinfo里加上代码fragment_myinfo.xml</p><pre><code>&lt;?xml version="1.0" encoding="utf-8"?&gt;&lt;LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"    android:layout_width="match_parent"    android:layout_height="match_parent"    android:background="@android:color/white"    android:orientation="vertical"&gt;    &lt;LinearLayout        android:id="@+id/ll_head"        android:layout_width="match_parent"        android:layout_height="240dp"        android:background="@drawable/myinfo_login_bg"        android:orientation="vertical"&gt;        &lt;ImageView            android:id="@+id/iv_head_icon"            android:layout_width="70dp"            android:layout_height="70dp"            android:layout_gravity="center_horizontal"            android:layout_marginTop="75dp"            android:src="@drawable/default_icon" /&gt;        &lt;TextView            android:id="@+id/tv_user_name"            android:layout_width="wrap_content"            android:layout_height="wrap_content"            android:layout_gravity="center_horizontal"            android:layout_marginTop="10dp"            android:text="点击登录"            android:textColor="@android:color/white"            android:textSize="16sp" /&gt;    &lt;/LinearLayout&gt;    &lt;View        android:layout_width="match_parent"        android:layout_height="1dp"        android:layout_marginTop="20dp"        android:background="#E3E3E3" /&gt;    &lt;RelativeLayout        android:id="@+id/rl_course_history"        android:layout_width="match_parent"        android:layout_height="50dp"        android:layout_marginLeft="10dp"        android:layout_marginRight="10dp"        android:background="#F7F8F8"        android:gravity="center_vertical"&gt;        &lt;ImageView            android:id="@+id/iv_course_history_icon"            android:layout_width="20dp"            android:layout_height="20dp"            android:layout_centerVertical="true"            android:layout_marginLeft="25dp"            android:src="@drawable/course_history_icon" /&gt;        &lt;TextView            android:layout_width="wrap_content"            android:layout_height="wrap_content"            android:layout_centerVertical="true"            android:layout_marginLeft="25dp"            android:layout_toRightOf="@id/iv_course_history_icon"            android:text="播放记录"            android:textColor="#A3A3A3"            android:textSize="16sp" /&gt;        &lt;ImageView            android:layout_width="15dp"            android:layout_height="15dp"            android:layout_alignParentRight="true"            android:layout_centerVertical="true"            android:layout_marginRight="25dp"            android:src="@drawable/iv_right_arrow" /&gt;    &lt;/RelativeLayout&gt;    &lt;View        android:layout_width="match_parent"        android:layout_height="1dp"        android:background="#E3E3E3" /&gt;    &lt;RelativeLayout        android:id="@+id/rl_setting"        android:layout_width="match_parent"        android:layout_height="50dp"        android:layout_marginLeft="10dp"        android:layout_marginRight="10dp"        android:background="#F7F8F8"        android:gravity="center_vertical"&gt;        &lt;ImageView            android:id="@+id/iv_userInfo_icon"            android:layout_width="20dp"            android:layout_height="20dp"            android:layout_centerVertical="true"            android:layout_marginLeft="25dp"            android:src="@drawable/myinfo_setting_icon" /&gt;        &lt;TextView            android:layout_width="wrap_content"            android:layout_height="wrap_content"            android:layout_centerVertical="true"            android:layout_marginLeft="25dp"            android:layout_toRightOf="@id/iv_userInfo_icon"            android:text="设置"            android:textColor="#A3A3A3"            android:textSize="16sp" /&gt;        &lt;ImageView            android:layout_width="15dp"            android:layout_height="15dp"            android:layout_alignParentRight="true"            android:layout_centerVertical="true"            android:layout_marginRight="25dp"            android:src="@drawable/iv_right_arrow" /&gt;    &lt;/RelativeLayout&gt;    &lt;View        android:layout_width="match_parent"        android:layout_height="1dp"        android:background="#E3E3E3" /&gt;&lt;/LinearLayout&gt;</code></pre><p>修改完成后，我们试着运行一下，点击底部导航栏中的“我”，一个毫无互动的页面就出来啦。</p><p>“我”的界面能显示后，我们来写个工具类。<br>由于项目多次用到sharedPreferences共享参数去存储用户的登录状态或清除登录状态，“我”的界面也要求用到读取用户姓名的方法，所以我们干脆把这三个方法都扔到AnalysisUtils里面吧。<br>在Utils包中新建一个Java类，名为AnalysisUtils。</p><p>创建完成后，我们在里面写上readLoginStatus()、clearLoginStatus()、<br>readLoginUserName()三个方法。</p><p>AnalysisUtils.java</p><pre><code>package cn.edu.gdmec.android.boxuegu.utils;import android.content.Context;import android.content.SharedPreferences;public class AnalysisUtils {    //读取用户名    public static String readLoginUserName(Context context){        SharedPreferences sharedPreferences = context.getSharedPreferences("loginInfo",Context.MODE_PRIVATE);        String userName=sharedPreferences.getString("loginUserName","");        return userName;    }    //读取登录状态    public static boolean readLoginStatus(Context context){        SharedPreferences sharedPreferences = context.getSharedPreferences("loginInfo",Context.MODE_PRIVATE);        boolean isLogin=sharedPreferences.getBoolean("isLogin",false);        return isLogin;    }    //清除登录状态    public static void cleanLoginStatus(Context context){        SharedPreferences sharedPreferences = context.getSharedPreferences("loginInfo",Context.MODE_PRIVATE);        SharedPreferences.Editor editor = sharedPreferences.edit();        editor.putBoolean("isLogin",false);        editor.putString("loginUserName","");        editor.commit();    }}</code></pre><p>以后我们要用到这些方法的时候，调用一下就好啦。<br>写完工具类后，我们来继续完善“我”的页面的代码。<br>给MyinfoFragment加上View.OnClickListener接口。</p><pre><code>public class MyinfoFragment extends Fragment implements View.OnClickListener{</code></pre><p>在冒红的地方alt+回车生成onClick()方法，把要响应的id加上去。</p><p>MyinfoFragment.java </p><pre><code>@Override    public void onClick(View v) {        switch (v.getId()){            case R.id.ll_head:                break;            case R.id.rl_course_history:                break;            case R.id.rl_setting:                break;        }    }</code></pre><p>别忘了监听器。</p><p>MyinfoFragment.java </p><pre><code>    @Override    public void onViewCreated(View view, Bundle savedInstanceState) {        super.onViewCreated(view, savedInstanceState);        llHead = (LinearLayout) view.findViewById(R.id.ll_head);        ivHeadIcon = (ImageView) view.findViewById(R.id.iv_head_icon);        tvUserName = (TextView) view.findViewById(R.id.tv_user_name);        rlCourseHistory = (RelativeLayout) view.findViewById(R.id.rl_course_history);        ivCourseHistoryIcon = (ImageView) view.findViewById(R.id.iv_course_history_icon);        rlSetting = (RelativeLayout) view.findViewById(R.id.rl_setting);        ivUserInfoIcon = (ImageView) view.findViewById(R.id.iv_userInfo_icon);        llHead.setOnClickListener(this);        rlCourseHistory.setOnClickListener(this);        rlSetting.setOnClickListener(this);    }</code></pre><p>“我”的界面的头像部分，要实现两个功能</p><ol><li>打开“我”的界面后要判断是否已登录，已登录显示用户名，未登录显示“点击登陆”。</li><li>头像部分点击后，会判断是否登录，如果登录了，则跳转到个人资料界面，如果没登录，则跳转到login页面。<br>先来完成第一个功能</li></ol><p>我们在onViewCreate()里写个if else判断语句，根据当前登录状态来显示同像下相应的文本。<br>判断的内容就可以调用我们刚才写过的工具类啦。</p><p>MyinfoFragment.java </p><pre><code>    @Override    public void onViewCreated(View view, Bundle savedInstanceState) {        super.onViewCreated(view, savedInstanceState);        llHead = (LinearLayout) view.findViewById(R.id.ll_head);        ivHeadIcon = (ImageView) view.findViewById(R.id.iv_head_icon);        tvUserName = (TextView) view.findViewById(R.id.tv_user_name);        rlCourseHistory = (RelativeLayout) view.findViewById(R.id.rl_course_history);        ivCourseHistoryIcon = (ImageView) view.findViewById(R.id.iv_course_history_icon);        rlSetting = (RelativeLayout) view.findViewById(R.id.rl_setting);        ivUserInfoIcon = (ImageView) view.findViewById(R.id.iv_userInfo_icon);        if (AnalysisUtils.readLoginStatus(getActivity())){            tvUserName.setText(AnalysisUtils.readLoginUserName(getActivity()));        }else {            tvUserName.setText("点击登录");        }        llHead.setOnClickListener(this);        rlCourseHistory.setOnClickListener(this);        rlSetting.setOnClickListener(this);    }</code></pre><p>然后在onClick()方法里给头像部分的点击以及其他按钮加上判断。</p><p>MyinfoFragment.java </p><pre><code>    @Override    public void onClick(View v) {        switch (v.getId()){            case R.id.ll_head:                if (AnalysisUtils.readLoginStatus(getActivity())){                    //跳转到个人资料界面                }else {                    //跳转到登录界面                    Intent intent = new Intent(getActivity(), LoginActivity.class);                    getActivity().startActivityForResult(intent,1);                }                break;            case R.id.rl_course_history:                if (AnalysisUtils.readLoginStatus(getActivity())){                    //跳转到播放记录页面                }else {                    Toast.makeText(getActivity(),"您未登录，请先登录",Toast.LENGTH_SHORT).show();                }                break;            case R.id.rl_setting:                if (AnalysisUtils.readLoginStatus(getActivity())){                    //跳转到设置界面                }else {                    Toast.makeText(getActivity(),"您未登录，请先登录",Toast.LENGTH_SHORT).show();                }                break;        }    }</code></pre><p>注意：未登录时，点击登陆打开登陆页面后，需要MainActivity更新状态并显示，所以用startActivityForResult()方法打开。老样子，这边用startActivityForResult（）打开，MainActivity就要加上onActivityForResult()方法来执行响应。</p><p>在MainActivity里按ctrl+O，再打“onActivity”几个字母，找到onActivityForResult方法，点击生成代码。</p><pre><code>    @Override    protected void onActivityResult(int requestCode, int resultCode, Intent data) {        super.onActivityResult(requestCode, resultCode, data);    }</code></pre><p>再给它加上代码：判断从LoginActivity传过来登陆状态，并执行响应动作。</p><p>MainActivity.java</p><pre><code>    @Override    protected void onActivityResult(int requestCode, int resultCode, Intent data) {        super.onActivityResult(requestCode, resultCode, data);        if (data!=null){            boolean isLogin=data.getBooleanExtra("isLogin",false);            if (isLogin){                setSelectStatus(0);            }            else {                setSelectStatus(2);            }        }    }</code></pre><p>Ok,为了方便检验效果，我们给MainActivity加上退出清除登陆状态的方法。连续点击返回两次则退出，两次点击间隔超过2秒则提示再按一次退出。</p><p>MainActivity.java </p><pre><code>protected long exitTime;     @Override    public boolean onKeyDown(int keyCode, KeyEvent event) {        if (keyCode == KeyEvent.KEYCODE_BACK &amp;&amp; event.getAction() == KeyEvent.ACTION_DOWN) {            if ((System.currentTimeMillis() - exitTime) &gt; 2000) {                Toast.makeText(MainActivity.this, "再按一次退出博学谷", Toast.LENGTH_SHORT).show();                exitTime = System.currentTimeMillis();            } else {                this.finish();                if (AnalysisUtils.readLoginStatus(this)) {                    AnalysisUtils.cleanLoginStatus(this);                }                System.exit(0);            }            return true;        }        return super.onKeyDown(keyCode, event);    }</code></pre><p>然后我们运行下程序，登陆完成后，“我”的界面应该显示用户名。<br>这时候大家会发现，点击“点击登陆”，登陆完成后，显示的是下图的页面，再点一下底部导航栏后，又正常显示了。但是完成上一节任务的会不一样哦~</p><p>这就是常见的fragment刷新问题啦，把它当作一个小BUG，做为今天的“任务实施”吧，解决它。</p><h2 id="设置"><a href="#设置" class="headerlink" title="设置"></a>设置</h2><p>接下来我们来做设置界面。<br>新建一个布局文件，名为activity_setting。</p><p>加上布局代码。<br>activity_setting.xml </p><pre><code>&lt;?xml version="1.0" encoding="utf-8"?&gt;&lt;LinearLayout    xmlns:android="http://schemas.android.com/apk/res/android"    android:layout_width="match_parent"    android:layout_height="match_parent"    android:background="@android:color/white"    android:orientation="vertical"&gt;    &lt;!--这个标题显示 设置--&gt;    &lt;include layout="@layout/main_title_bar" /&gt;    &lt;View        android:layout_width="match_parent"        android:layout_height="1dp"        android:layout_marginTop="15dp"        android:background="#E3E3E3" /&gt;    &lt;RelativeLayout        android:id="@+id/rl_modify_psw"        android:layout_width="match_parent"        android:layout_height="50dp"        android:background="#F7F8F8"        android:gravity="center_vertical"        android:paddingLeft="10dp"        android:paddingRight="10dp"&gt;        &lt;TextView            android:layout_width="wrap_content"            android:layout_height="wrap_content"            android:layout_centerVertical="true"            android:layout_marginLeft="25dp"            android:text="修改密码"            android:textColor="#A3A3A3"            android:textSize="16sp" /&gt;        &lt;ImageView            android:layout_width="15dp"            android:layout_height="15dp"            android:layout_alignParentRight="true"            android:layout_centerVertical="true"            android:paddingRight="25dp"            android:src="@drawable/iv_right_arrow" /&gt;    &lt;/RelativeLayout&gt;    &lt;View        android:layout_width="match_parent"        android:layout_height="1dp"        android:background="#E3E3E3" /&gt;    &lt;RelativeLayout        android:id="@+id/rl_security_setting"        android:layout_width="match_parent"        android:layout_height="50dp"        android:background="#F7F8F8"        android:gravity="center_vertical"        android:paddingLeft="10dp"        android:paddingRight="10dp"&gt;        &lt;TextView            android:layout_width="wrap_content"            android:layout_height="wrap_content"            android:layout_centerVertical="true"            android:layout_marginLeft="25dp"            android:text="设置密保"            android:textColor="#A3A3A3"            android:textSize="16sp" /&gt;        &lt;ImageView            android:layout_width="15dp"            android:layout_height="15dp"            android:layout_alignParentRight="true"            android:layout_centerVertical="true"            android:paddingRight="25dp"            android:src="@drawable/iv_right_arrow" /&gt;    &lt;/RelativeLayout&gt;    &lt;View        android:layout_width="match_parent"        android:layout_height="1dp"        android:background="#E3E3E3" /&gt;    &lt;View        android:layout_width="match_parent"        android:layout_height="1dp"        android:layout_marginTop="15dp"        android:background="#E3E3E3" /&gt;    &lt;RelativeLayout        android:id="@+id/rl_exit_login"        android:layout_width="match_parent"        android:layout_height="50dp"        android:background="#F7F8F8"        android:gravity="center_vertical"        android:paddingLeft="10dp"        android:paddingRight="10dp"&gt;        &lt;TextView            android:layout_width="wrap_content"            android:layout_height="wrap_content"            android:layout_centerVertical="true"            android:layout_marginLeft="25dp"            android:text="退出登录"            android:textColor="#A3A3A3"            android:textSize="16sp" /&gt;    &lt;/RelativeLayout&gt;    &lt;View        android:layout_width="match_parent"        android:layout_height="1dp"        android:background="#E3E3E3" /&gt;&lt;/LinearLayout&gt;</code></pre><h2 id="创建一个新activity"><a href="#创建一个新activity" class="headerlink" title="创建一个新activity"></a>创建一个新activity</h2><p>给tv_main_title设个文本。给title_bar加个背景。加上View.onClickListener接口。Alt+回车生成onClick()代码。在onClick()中加上设置界面要用到的几个按钮。给几个按钮加上监听器。</p><p>SettingActivity.java </p><pre><code>package cn.edu.gdmec.android.boxuegu.activity;import android.app.Activity;import android.content.Intent;import android.graphics.Color;import android.os.Bundle;import android.view.View;import android.widget.RelativeLayout;import android.widget.TextView;import android.widget.Toast;import cn.edu.gdmec.android.boxuegu.R;import cn.edu.gdmec.android.boxuegu.utils.AnalysisUtils;public class SettingActivity extends Activity implements View.OnClickListener{    private TextView tv_back;    private TextView tv_main_title;    private TextView tv_save;    private RelativeLayout title_bar;    private RelativeLayout rl_modify_psw;    private RelativeLayout rl_security_setting;    private RelativeLayout rl_exit_login;    public static SettingActivity instance=null;    @Override    protected void onCreate(Bundle savedInstanceState) {        super.onCreate(savedInstanceState);        setContentView(R.layout.activity_setting);        instance=this;        initView();    }    private void initView(){        tv_back=findViewById(R.id.tv_back);        tv_main_title=findViewById(R.id.tv_main_title);        tv_save=findViewById(R.id.tv_save);        title_bar=findViewById(R.id.title_bar);        rl_modify_psw=findViewById(R.id.rl_modify_psw);        rl_security_setting=findViewById(R.id.rl_security_setting);        rl_exit_login=findViewById(R.id.rl_exit_login);        tv_main_title.setText("设置");        title_bar.setBackgroundColor(Color.parseColor("#30B4FF"));        tv_back.setOnClickListener(this);        rl_modify_psw.setOnClickListener(this);        rl_security_setting.setOnClickListener(this);        rl_exit_login.setOnClickListener(this);    }    @Override    public void onClick(View v) {        switch (v.getId()){            case R.id.tv_back:                SettingActivity.this.finish();                break;            case R.id.rl_modify_psw:                //修改密码界面                break;            case R.id.rl_security_setting:                //设置密保界面                break;            case R.id.rl_exit_login:                //退出登录，即清除登录状态                Toast.makeText(this,"退出登录成功",Toast.LENGTH_SHORT).show();                AnalysisUtils.cleanLoginStatus(this);                Intent data=new Intent();                data.putExtra("isLogin",false);                setResult(RESULT_OK,data);                finish();                break;        }    }}</code></pre><p>MyinfoFragmrnt.java里把跳转代码加上。</p><pre><code>    @Override    public void onClick(View v) {        switch (v.getId()){            case R.id.ll_head:                if (AnalysisUtils.readLoginStatus(getActivity())){                    //跳转到个人资料界面                }else {                    //跳转到登录界面                }                break;            case R.id.rl_course_history:                if (AnalysisUtils.readLoginStatus(getActivity())){                    //跳转到播放记录页面                }else {                    Toast.makeText(getActivity(),"您未登录，请先登录",Toast.LENGTH_SHORT).show();                }                break;            case R.id.rl_setting:                if (AnalysisUtils.readLoginStatus(getActivity())){                    //跳转到设置界面                    Intent intent=new Intent(getActivity(), SettingActivity.class);                    getActivity().startActivityForResult(intent,1);                }else {                    Toast.makeText(getActivity(),"您未登录，请先登录",Toast.LENGTH_SHORT).show();                }                break;        }    }</code></pre><p>别忘了到AndroidManifest.xml声明下SettingActivity，运行程序，在“我”的界面点击设置弹出设置页面。</p><h2 id="修改密码"><a href="#修改密码" class="headerlink" title="修改密码"></a>修改密码</h2><p>首先是修改密码界面的布局代码<br>新建一个布局文件,名为activity_modify_psw</p><p>直接上代码。<br>activity_modify_psw.xml </p><pre><code>&lt;?xml version="1.0" encoding="utf-8"?&gt;&lt;!--修改密码--&gt;&lt;LinearLayout    xmlns:android="http://schemas.android.com/apk/res/android"    android:layout_width="match_parent"    android:layout_height="match_parent"    android:background="@drawable/register_bg"    android:orientation="vertical"&gt;    &lt;include layout="@layout/main_title_bar"/&gt;    &lt;EditText        android:id="@+id/et_original_psw"        android:layout_gravity="center_horizontal"        android:background="@drawable/register_user_name_bg"        android:layout_marginTop="35dp"        android:layout_marginLeft="35dp"        android:layout_marginRight="35dp"        android:drawableLeft="@drawable/psw_icon"        android:drawablePadding="10dp"        android:gravity="center_vertical"        android:hint="请输入原始密码"        android:inputType="textPassword"        android:paddingLeft="8dp"        android:textColor="#000000"        android:textColorHint="#a3a3a3"        android:textSize="14sp"        android:singleLine="true"        android:layout_width="match_parent"        android:layout_height="48dp"        /&gt;    &lt;EditText        android:id="@+id/et_new_psw"        android:layout_gravity="center_horizontal"        android:background="@drawable/register_user_name_bg"        android:layout_marginLeft="35dp"        android:layout_marginRight="35dp"        android:drawableLeft="@drawable/psw_icon"        android:drawablePadding="10dp"        android:gravity="center_vertical"        android:hint="请输入新密码"        android:inputType="textPassword"        android:paddingLeft="8dp"        android:textColor="#000000"        android:textColorHint="#a3a3a3"        android:textSize="14sp"        android:layout_width="match_parent"        android:layout_height="48dp"        /&gt;    &lt;EditText        android:id="@+id/et_new_psw_again"        android:layout_gravity="center_horizontal"        android:background="@drawable/register_user_name_bg"        android:layout_marginLeft="35dp"        android:layout_marginRight="35dp"        android:drawableLeft="@drawable/psw_icon"        android:drawablePadding="10dp"        android:gravity="center_vertical"        android:hint="请再次输入新密码"        android:inputType="textPassword"        android:paddingLeft="8dp"        android:singleLine="true"        android:textColor="#000000"        android:textColorHint="#a3a3a3"        android:textSize="14sp"        android:layout_width="match_parent"        android:layout_height="48dp"        /&gt;    &lt;Button        android:id="@+id/btn_save"        android:layout_gravity="center_horizontal"        android:textSize="18sp"        android:textColor="@android:color/white"        android:layout_width="match_parent"        android:layout_height="40dp"        android:layout_marginTop="15dp"        android:layout_marginLeft="35dp"        android:layout_marginRight="35dp"        android:background="@drawable/register_selector"        android:text="保 存"/&gt;&lt;/LinearLayout&gt;</code></pre><p>生成activity文件，ModifyPswActivity.java<br>注意：在submit方法中，密码修改成功之后除了把当前页面关了，还要把设置界面也关了，所以用到instance</p><pre><code>package cn.edu.gdmec.android.boxuegu.activity;import android.app.Activity;import android.content.Intent;import android.content.SharedPreferences;import android.os.Bundle;import android.text.TextUtils;import android.util.Log;import android.view.View;import android.widget.Button;import android.widget.EditText;import android.widget.RelativeLayout;import android.widget.TextView;import android.widget.Toast;import cn.edu.gdmec.android.boxuegu.R;import cn.edu.gdmec.android.boxuegu.utils.AnalysisUtils;import cn.edu.gdmec.android.boxuegu.utils.MD5Utils;public class ModifyPswActivity extends Activity implements View.OnClickListener {    private TextView tv_back;    private TextView tv_main_title;    private TextView tv_save;    private RelativeLayout title_bar;    private EditText et_original_psw;    private EditText et_new_psw;    private EditText et_new_psw_again;    private Button btn_save;    private String userName;    @Override    protected void onCreate(Bundle savedInstanceState) {        super.onCreate(savedInstanceState);        setContentView(R.layout.activity_modify_psw);        initView();        userName = AnalysisUtils.readLoginUserName(this);    }    private void initView() {        tv_back=findViewById(R.id.tv_back);        tv_main_title=findViewById(R.id.tv_main_title);        tv_save=findViewById(R.id.tv_save);        title_bar=findViewById(R.id.title_bar);        et_original_psw=findViewById(R.id.et_original_psw);        et_new_psw=findViewById(R.id.et_new_psw);        et_new_psw_again=findViewById(R.id.et_new_psw_again);        btn_save=findViewById(R.id.btn_save);        tv_main_title.setText("修改密码");        btn_save.setOnClickListener(this);        tv_back.setOnClickListener(this);    }    @Override    public void onClick(View view) {        switch (view.getId()) {            case R.id.btn_save:                submit();                break;            case R.id.tv_back:                finish();                break;        }    }    private void submit() {        String psw=et_original_psw.getText().toString().trim();        String newPsw=et_new_psw.getText().toString().trim();        String again=et_new_psw_again.getText().toString().trim();        if (TextUtils.isEmpty(psw)){            Toast.makeText(this,"请输入原始密码",Toast.LENGTH_SHORT).show();            return;        }else if (!MD5Utils.md5(psw).equals(readPsw())){            Log.i("MD5Utils.md5(psw)",""+MD5Utils.md5(psw));            Log.i("readPsw",""+readPsw());            Toast.makeText(this,"输入的密码与原始密码不一致",Toast.LENGTH_SHORT).show();            return;        }else if (MD5Utils.md5(newPsw).equals(readPsw())){            Toast.makeText(this,"输入的新密码与原始密码不能一致",Toast.LENGTH_SHORT).show();            return;        }else if (TextUtils.isEmpty(psw)){            Toast.makeText(this,"请输入密码",Toast.LENGTH_SHORT).show();            return;        }else if (TextUtils.isEmpty(again)){            Toast.makeText(this,"请再次输入新密码",Toast.LENGTH_SHORT).show();        }else if (!newPsw.equals(again)){            Toast.makeText(this,"再次输入的新密码不一致",Toast.LENGTH_SHORT).show();            return;        }else {            Toast.makeText(this,"新密码设置成功", Toast.LENGTH_SHORT).show();            modifyPsw(newPsw);//            Intent intent=new Intent(ModifyPswActivity.this,LoginActivity.class);            startActivity(intent);            //关闭设置页面            //在submit方法中，密码修改成功之后除了把当前页面关了，还要把设置界面也关了，所以用到instance            SettingActivity.instance.finish();            //关闭修改密码页面            ModifyPswActivity.this.finish();        }    }    private void modifyPsw(String newPsw) {        String md5psw= MD5Utils.md5(newPsw);        SharedPreferences sharedPreferences=getSharedPreferences("loginInfo",MODE_PRIVATE);        SharedPreferences.Editor editor = sharedPreferences.edit();        editor.putString(userName,md5psw);        editor.commit();    }    private String readPsw() {        SharedPreferences sharedPreferences=getSharedPreferences("loginInfo",MODE_PRIVATE);        String spPsw=sharedPreferences.getString(userName,"");        Log.i("username",userName);        Log.i("spPsw",spPsw);        return spPsw;    }}</code></pre><p>注意：在submit方法中，密码修改成功之后除了把当前页面关了，还要把设置界面也关了，所以用到instance</p><p>SettingActivity.java，给它创个instance</p><p>SettingActivity.java </p><pre><code>public class SettingActivity extends Activity implements View.OnClickListener{    private TextView tv_back;    private TextView tv_main_title;    private TextView tv_save;    private RelativeLayout title_bar;    private RelativeLayout rl_modify_psw;    private RelativeLayout rl_security_setting;    private RelativeLayout rl_exit_login;    public static SettingActivity instance=null;    @Override    protected void onCreate(Bundle savedInstanceState) {        super.onCreate(savedInstanceState);        setContentView(R.layout.activity_setting);        instance=this;        initView();    }</code></pre><p>在onclick()中写上跳转方法。</p><p>SettingActivity.java</p><pre><code>    @Override    public void onClick(View v) {        switch (v.getId()){            case R.id.tv_back:                SettingActivity.this.finish();                break;            case R.id.rl_modify_psw:                //修改密码界面                Intent intent=new Intent(SettingActivity.this,ModifyPswActivity.class);                startActivity(intent);                break;            case R.id.rl_security_setting:                //设置密保界面                break;            case R.id.rl_exit_login:                //退出登录，即清除登录状态                Toast.makeText(this,"退出登录成功",Toast.LENGTH_SHORT).show();                AnalysisUtils.cleanLoginStatus(this);                Intent data=new Intent();                data.putExtra("isLogin",false);                setResult(RESULT_OK,data);                finish();                break;        }    }</code></pre><p>最后到AndroidManifest.xml声明下activity，运行程序，可看到效果</p><p>设置密保和找回密码<br>设置密保和找回密码页面需要用到的图片资源为<br>find_psw_icon.png </p><p>新建布局文件，名为activity_find_psw。</p><p>布局文件的代码：<br>activity_find_psw.xml </p><pre><code>&lt;?xml version="1.0" encoding="utf-8"?&gt;&lt;!--找回密码--&gt;&lt;LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"    android:layout_width="match_parent"    android:layout_height="match_parent"    android:background="@drawable/login_bg"    android:orientation="vertical"&gt;    &lt;!--找回密码需要设置标题栏--&gt;    &lt;include layout="@layout/main_title_bar" /&gt;    &lt;TextView        android:id="@+id/tv_user_name"        android:layout_width="match_parent"        android:layout_height="wrap_content"        android:layout_marginLeft="35dp"        android:layout_marginRight="35dp"        android:layout_marginTop="35dp"        android:text="您的用户名是？"        android:textColor="@android:color/white"        android:textSize="18sp"        android:visibility="gone" /&gt;    &lt;EditText        android:id="@+id/et_user_name"        android:layout_width="match_parent"        android:layout_height="wrap_content"        android:layout_marginLeft="35dp"        android:layout_marginRight="35dp"        android:layout_marginTop="10dp"        android:background="@drawable/find_psw_icon"        android:hint="请输入您的用户名"        android:inputType="text"        android:paddingLeft="8dp"        android:textColor="#000000"        android:textColorHint="#A3A3A3"        android:visibility="gone" /&gt;    &lt;TextView        android:layout_width="match_parent"        android:layout_height="wrap_content"        android:layout_marginLeft="35dp"        android:layout_marginRight="35dp"        android:layout_marginTop="15dp"        android:text="您的姓名是？"        android:textColor="@android:color/white"        android:textSize="18sp"/&gt;    &lt;EditText        android:id="@+id/et_validate_name"        android:layout_width="match_parent"        android:layout_height="48dp"        android:layout_marginLeft="35dp"        android:layout_marginRight="35dp"        android:layout_marginTop="10dp"        android:background="@drawable/find_psw_icon"        android:hint="请输入要验证的姓名"        android:inputType="text"        android:paddingLeft="8dp"        android:textColor="#000000"        android:textColorHint="#A3A3A3" /&gt;    &lt;TextView        android:id="@+id/tv_reset_psw"        android:layout_width="match_parent"        android:layout_height="wrap_content"        android:layout_marginLeft="35dp"        android:layout_marginRight="35dp"        android:layout_marginTop="15dp"        android:text="请输入新密码"        android:textColor="@android:color/white"        android:textSize="18sp"        android:visibility="gone"/&gt;    &lt;Button        android:id="@+id/btn_validate"        android:layout_width="match_parent"        android:layout_height="40dp"        android:layout_gravity="center_vertical"        android:layout_marginLeft="35dp"        android:layout_marginRight="35dp"        android:layout_marginTop="15dp"        android:background="@drawable/register_selector"        android:text="验 证"        android:textColor="@android:color/white"        android:textSize="18sp" /&gt;&lt;/LinearLayout&gt;</code></pre><p>生成Activity文件，FindPswActivity.java </p><p>FindPswActivity.java </p><pre><code>package cn.edu.gdmec.android.boxuegu.activity;import android.app.Activity;import android.content.SharedPreferences;import android.os.Bundle;import android.text.TextUtils;import android.view.View;import android.widget.Button;import android.widget.EditText;import android.widget.RelativeLayout;import android.widget.TextView;import android.widget.Toast;import cn.edu.gdmec.android.boxuegu.R;import cn.edu.gdmec.android.boxuegu.utils.AnalysisUtils;import cn.edu.gdmec.android.boxuegu.utils.MD5Utils;public class FindPswActivity extends Activity implements View.OnClickListener {    private TextView tv_back;    private TextView tv_main_title;    private RelativeLayout title_bar;    private TextView tv_user_name;    private EditText et_user_name;    private EditText et_validate_name;    private TextView tv_reset_psw;    private Button btn_validate;    private String from;    @Override    protected void onCreate(Bundle savedInstanceState) {        super.onCreate(savedInstanceState);        setContentView(R.layout.activity_find_psw);        from=getIntent().getStringExtra("from");        initView();    }    private void initView() {        tv_back=findViewById(R.id.tv_back);        tv_main_title=findViewById(R.id.tv_main_title);        title_bar=findViewById(R.id.title_bar);        tv_user_name=findViewById(R.id.tv_user_name);        et_user_name=findViewById(R.id.et_user_name);        et_validate_name=findViewById(R.id.et_validate_name);        tv_reset_psw=findViewById(R.id.tv_reset_psw);        btn_validate=findViewById(R.id.btn_validate);        if ("security".equals(from)){            tv_main_title.setText("设置密保");        }else{            tv_main_title.setText("找回密码");            tv_user_name.setVisibility(View.VISIBLE);            et_user_name.setVisibility(View.VISIBLE);        }        tv_back.setOnClickListener(new View.OnClickListener() {            @Override            public void onClick(View v) {                FindPswActivity.this.finish();            }        });        btn_validate.setOnClickListener(this);    }    @Override    public void onClick(View view) {        switch (view.getId()) {            case R.id.btn_validate:                submit();                break;        }    }    private void submit() {        // validate        String validateName = et_validate_name.getText().toString().trim();        if ("security".equals(from)) {  //设置密保            if (TextUtils.isEmpty(validateName)) {                Toast.makeText(this, "请输入要验证的姓名", Toast.LENGTH_SHORT).show();                return;            } else {                Toast.makeText(this, "密保设置成功", Toast.LENGTH_SHORT).show();                //保存到                saveSecurity(validateName);                FindPswActivity.this.finish();                return;            }        }else {            final String name=et_user_name.getText().toString().trim();            String sp_security=readSecurity(name);            if (TextUtils.isEmpty(name)){                Toast.makeText(this,"请输入您的用户名",Toast.LENGTH_SHORT).show();                return;            }else if (!isExistUserName(name)){                Toast.makeText(this,"您输入的用户名不存在",Toast.LENGTH_SHORT).show();                return;            }else if (TextUtils.isEmpty(validateName)){                Toast.makeText(this,"请输入要验证的姓名",Toast.LENGTH_SHORT).show();                return;            }else if (!validateName.equals(sp_security)){                Toast.makeText(this,"输入的密保不正确",Toast.LENGTH_SHORT).show();                return;            }else {                tv_reset_psw.setVisibility(View.VISIBLE);                tv_reset_psw.setText("初始密码：123456");                savePsw(name);            }        }    }    /**     * 保存初始化密码     **/    private void savePsw(String name) {        String md5Psw= MD5Utils.md5("123456");        SharedPreferences sharedPreferences = getSharedPreferences("loginInfo",MODE_PRIVATE);        SharedPreferences.Editor editor = sharedPreferences.edit();        editor.putString(name,md5Psw);        editor.commit();    }    private boolean isExistUserName(String name){        boolean hasUserName=false;        SharedPreferences sharedPreferences=getSharedPreferences("loginInfo",MODE_PRIVATE);        String spPsw=sharedPreferences.getString(name,"");        if (!TextUtils.isEmpty(spPsw)){            hasUserName=true;        }        return hasUserName;    }    /**     * 读取密保     **/    private String readSecurity(String name){        SharedPreferences sharedPreferences=getSharedPreferences("loginInfo",MODE_PRIVATE);        String security=sharedPreferences.getString(name+"_security","");        return security;    }    /**     * 保存密保名字     **/    private void saveSecurity(String validateName) {        SharedPreferences sharedPreferences=getSharedPreferences("loginInfo",MODE_PRIVATE);        SharedPreferences.Editor editor=sharedPreferences.edit();        editor.putString(AnalysisUtils.readLoginUserName(this)+"_security",validateName);        editor.commit();    }}</code></pre><p>把找回密码和设置密保都放在一个Activity里了，所以我们要到登录界面和设置界面添加跳转方法。<br>到LoginActivity的init()方法里找到tv_find_psw.setOnClickListener。</p><p>LoginActivity.java </p><pre><code>        //找回密码控件的点击事件        tv_find_psw.setOnClickListener(new View.OnClickListener() {            @Override            public void onClick(View v) {                //跳转到找回密码界面（此页面暂未创建）                Intent intent=new Intent(LoginActivity.this,FindPswActivity.class);                startActivity(intent);            }        });</code></pre><p>SettingActivity的onClick()方法里添加跳转代码</p><pre><code>    @Override    public void onClick(View v) {        switch (v.getId()){            case R.id.tv_back:                SettingActivity.this.finish();                break;            case R.id.rl_modify_psw:                //修改密码界面                Intent intent=new Intent(SettingActivity.this,ModifyPswActivity.class);                startActivity(intent);                break;            case R.id.rl_security_setting:                //设置密保界面                Intent intent1=new Intent(SettingActivity.this,FindPswActivity.class);                intent1.putExtra("from","security");                startActivity(intent1);                break;            case R.id.rl_exit_login:                //退出登录，即清除登录状态                Toast.makeText(this,"退出登录成功",Toast.LENGTH_SHORT).show();                AnalysisUtils.cleanLoginStatus(this);                Intent data=new Intent();                data.putExtra("isLogin",false);                setResult(RESULT_OK,data);                finish();                break;        }    }</code></pre><p>最后到AndroidManifest.xml声明下activity </p><p>AndroidManifest.xml </p><pre><code>&lt;?xml version="1.0" encoding="utf-8"?&gt;&lt;manifest xmlns:android="http://schemas.android.com/apk/res/android"    package="cn.edu.gdmec.android.boxuegu"&gt;    &lt;!--原为android:theme="@style/AppTheme"--&gt;    &lt;!--去除ActionBar标题栏--&gt;    &lt;!--添加应用图标，app_icon--&gt;    &lt;application        android:allowBackup="true"        android:icon="@drawable/app_icon"        android:label="@string/app_name"        android:roundIcon="@mipmap/ic_launcher_round"        android:supportsRtl="true"        android:theme="@style/Theme.AppCompat.NoActionBar"&gt;        &lt;activity android:name=".activity.SplashActivity"&gt;            &lt;intent-filter&gt;                &lt;action android:name="android.intent.action.MAIN" /&gt;                &lt;category android:name="android.intent.category.LAUNCHER" /&gt;            &lt;/intent-filter&gt;        &lt;/activity&gt;        &lt;!--添加实现类--&gt;        &lt;activity android:name=".activity.MainActivity"&gt;&lt;/activity&gt;        &lt;activity android:name=".activity.LoginActivity"&gt;&lt;/activity&gt;        &lt;activity android:name=".activity.RegisterActivity"&gt;&lt;/activity&gt;        &lt;activity android:name=".activity.SettingActivity"&gt;&lt;/activity&gt;        &lt;activity android:name=".activity.ModifyPswActivity"&gt;&lt;/activity&gt;        &lt;activity android:name=".activity.FindPswActivity"&gt;&lt;/activity&gt;    &lt;/application&gt;&lt;/manifest&gt;</code></pre><h2 id="任务实施"><a href="#任务实施" class="headerlink" title="任务实施"></a>任务实施</h2><p>修复fragment的小BUG<br>在未登录状态下，点击“点击登陆”，登陆完成后，应该显示“我”的界面，并且正常显示用户名。</p><p>在登陆状态下，点击“设置”-&gt;点击退出登录，应该继续显示“我”的界面，并且正常显示用户名。</p><p>修改密保设置页面<br>密保设置页面的按钮显示的是“验证”，这里应该是“设置”比较合理。<br>把按钮上的文字改成“设置”，要求修改密码界面按钮依然是“验证”。</p><p>优化找回密码<br>登陆界面的找回密码功能用的是初始化密码，要求改成设置新密码。<br>注意：显示设置新密码框时，按钮的文字也要变化哦！</p><p>更改后的效果：</p><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="/images/17.png" alt="17"></p><h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>这是走好Android的四步！</p><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
      
      
      <categories>
          
          <category> 教育系统APP </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 教育系统APP </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>教育系统APP(三)</title>
      <link href="/2018/04/23/1/"/>
      <url>/2018/04/23/1/</url>
      
        <content type="html"><![CDATA[<h2 id="挑战任务"><a href="#挑战任务" class="headerlink" title="挑战任务"></a>挑战任务</h2><p>回顾教育系统APP(二)以及教育系统APP(三)</p><p>检验登录和注册模块。<br>请修改MainActivity和LoginActivity，欢迎界面调转入主界面后，自动跳转入登录界面，登录成功后，返回主界面，在主界面的Hello World位置显示：用户名+“登录成功”。</p><p>解决方法</p><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="/images/12.jpg" alt="12"></p><a id="more"></a><h2 id="解决任务"><a href="#解决任务" class="headerlink" title="解决任务"></a>解决任务</h2><p>看看一下AndroidManifest.xml</p><pre><code>&lt;?xml version="1.0" encoding="utf-8"?&gt;&lt;manifest xmlns:android="http://schemas.android.com/apk/res/android"    package="cn.edu.gdmec.android.boxuegu"&gt;    &lt;!--原为android:theme="@style/AppTheme"--&gt;    &lt;!--去除ActionBar标题栏--&gt;    &lt;!--添加应用图标，app_icon--&gt;    &lt;application        android:allowBackup="true"        android:icon="@drawable/app_icon"        android:label="@string/app_name"        android:roundIcon="@mipmap/ic_launcher_round"        android:supportsRtl="true"        android:theme="@style/Theme.AppCompat.NoActionBar"&gt;        &lt;activity android:name=".activity.SplashActivity"&gt;            &lt;intent-filter&gt;                &lt;action android:name="android.intent.action.MAIN" /&gt;                &lt;category android:name="android.intent.category.LAUNCHER" /&gt;            &lt;/intent-filter&gt;        &lt;/activity&gt;        &lt;!--添加实现类--&gt;        &lt;activity android:name=".activity.MainActivity"&gt;&lt;/activity&gt;        &lt;activity android:name=".activity.LoginActivity"&gt;&lt;/activity&gt;        &lt;activity android:name=".activity.RegisterActivity"&gt;&lt;/activity&gt;    &lt;/application&gt;&lt;/manifest&gt;</code></pre><p>然后在MainActivity中编写代码，activity_main.xml添加一下显示,把helloWord改为显示账号：</p><pre><code>&lt;?xml version="1.0" encoding="utf-8"?&gt;&lt;!--任务：检验登录和注册模块--&gt;&lt;!--在主界面的Hello World位置显示：用户名+“登录成功”--&gt;&lt;LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"    android:layout_width="match_parent"    android:layout_height="match_parent"    android:orientation="vertical"    android:gravity="center"&gt;    &lt;TextView        android:id="@+id/et_user_name"        android:layout_width="wrap_content"        android:layout_height="wrap_content"        android:text="hello"        android:layout_gravity="center"/&gt;&lt;/LinearLayout&gt;</code></pre><pre><code>package cn.edu.gdmec.android.boxuegu.activity;import android.content.Intent;import android.support.v7.app.AppCompatActivity;import android.os.Bundle;import android.widget.TextView;import android.widget.Toast;import cn.edu.gdmec.android.boxuegu.R;/*任务在主界面的Hello World位置显示：用户名+“登录成功”*/public class MainActivity extends AppCompatActivity {    private TextView et_user_name;    @Override    protected void onCreate(Bundle savedInstanceState) {        super.onCreate(savedInstanceState);        setContentView(R.layout.activity_main);        et_user_name = findViewById(R.id.et_user_name);        Intent intent=new Intent(MainActivity.this,LoginActivity.class);        startActivityForResult(intent,1);    }    @Override    protected void onActivityResult(int requestCode, int resultCode, Intent data) {        super.onActivityResult(requestCode, resultCode, data);        if (data!=null){            String userName = data.getStringExtra("userName");            //if (!TextUtils.isEmpty(userName)){            Toast.makeText(MainActivity.this,"登陆成功："+userName, Toast.LENGTH_SHORT).show();            et_user_name.setText(userName);            //}        }    }}</code></pre><p>最后在LoginActivity下：</p><pre><code>data.putExtra("userName",userName);</code></pre><h2 id="教育系统APP-三-主界面"><a href="#教育系统APP-三-主界面" class="headerlink" title="教育系统APP(三) 主界面"></a>教育系统APP(三) 主界面</h2><p>学习目标:掌握注册和登录模块的开发，能够实现模块切换功能。</p><p>主页面,挑战任务</p><h2 id="学习目标"><a href="#学习目标" class="headerlink" title="学习目标"></a>学习目标</h2><p>主界面有三个模块，分别为课程模块、习题模块、用户模块。用户点击底部导航栏可以实现三个模块的跳转。<br>主界面用于做三个模块的切换。使用Fragment做为三个模块界面的载体。</p><p>任务实施<br>放置图片资源<br>本次实验要用到的图片资源有6个，分别为<br>main_exercises_icon.png、<br>main_course_icon.png、<br>main_my_icon.png<br>main_exercises_icon_selected.png、<br>main_course_icon_selected.png、<br>main_my_icon_selected.png<br>把要用到的图片资源放进drawrable文件夹中。</p><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="/images/13.png" alt="13"></p><h2 id="activity-main布局"><a href="#activity-main布局" class="headerlink" title="activity_main布局"></a>activity_main布局</h2><p>MainActivity页面主要包括两个区域：<br>放Fragment的main_body<br>底部导航栏main_bottom_bar<br>activity_main.xml的完整代码</p><pre><code>&lt;?xml version="1.0" encoding="utf-8"?&gt;&lt;RelativeLayout    xmlns:android="http://schemas.android.com/apk/res/android"    android:layout_width="match_parent"    android:layout_height="wrap_content"    android:orientation="vertical"&gt;    &lt;LinearLayout        android:orientation="vertical"        android:background="@android:color/white"        android:layout_width="match_parent"        android:layout_height="match_parent"&gt;        &lt;!--标题栏--&gt;        &lt;include layout="@layout/main_title_bar"/&gt;        &lt;!--放置Fragment的main_body--&gt;        &lt;RelativeLayout            android:id="@+id/main_body"            android:background="@android:color/white"            android:layout_width="match_parent"            android:layout_height="match_parent"&gt;        &lt;/RelativeLayout&gt;    &lt;/LinearLayout&gt;    &lt;LinearLayout        android:id="@+id/main_bottom_bar"        android:layout_alignParentBottom="true"        android:background="#F2F2F2"        android:orientation="horizontal"        android:layout_width="match_parent"        android:layout_height="55dp"&gt;        &lt;RelativeLayout            android:layout_weight="1"            android:id="@+id/bottom_bar_course_btn"            android:layout_width="0dp"            android:layout_height="match_parent"&gt;            &lt;TextView                android:id="@+id/bottom_bar_text_course"                android:layout_width="match_parent"                android:layout_height="wrap_content"                android:layout_alignParentBottom="true"                android:layout_centerHorizontal="true"                android:layout_marginBottom="3dp"                android:gravity="center"                android:singleLine="true"                android:text="课 程"                android:textColor="#666666"                android:textSize="14sp"/&gt;            &lt;ImageView                android:layout_width="27dp"                android:layout_height="27dp"                android:layout_above="@+id/bottom_bar_text_course"                android:layout_alignParentTop="true"                android:layout_centerHorizontal="true"                android:layout_marginTop="3dp"                android:id="@+id/bottom_bar_image_course"                android:src="@drawable/main_course_icon"/&gt;        &lt;/RelativeLayout&gt;        &lt;RelativeLayout            android:id="@+id/bottom_bar_exercises_btn"            android:layout_weight="1"            android:layout_width="0dp"            android:layout_height="match_parent"&gt;            &lt;TextView                android:id="@+id/bottom_bar_text_exercises"                android:layout_width="match_parent"                android:layout_height="wrap_content"                android:layout_alignParentBottom="true"                android:layout_centerHorizontal="true"                android:layout_marginBottom="3dp"                android:gravity="center"                android:singleLine="true"                android:text="习 题"                android:textColor="#666666"                android:textSize="14sp"/&gt;            &lt;ImageView                android:layout_width="27dp"                android:layout_height="27dp"                android:layout_above="@+id/bottom_bar_text_exercises"                android:layout_alignParentTop="true"                android:layout_centerHorizontal="true"                android:layout_marginTop="3dp"                android:id="@+id/bottom_bar_image_exercises"                android:src="@drawable/main_exercises_icon"/&gt;        &lt;/RelativeLayout&gt;        &lt;RelativeLayout            android:layout_weight="1"            android:id="@+id/bottom_bar_myinfo_btn"            android:layout_width="0dp"            android:layout_height="match_parent"&gt;            &lt;TextView                android:id="@+id/bottom_bar_text_myinfo"                android:layout_width="match_parent"                android:layout_height="wrap_content"                android:layout_alignParentBottom="true"                android:layout_centerHorizontal="true"                android:layout_marginBottom="3dp"                android:gravity="center"                android:singleLine="true"                android:text="我"                android:textColor="#666666"                android:textSize="14sp"/&gt;            &lt;ImageView                android:layout_width="27dp"                android:layout_height="27dp"                android:layout_above="@+id/bottom_bar_text_myinfo"                android:layout_alignParentTop="true"                android:layout_centerHorizontal="true"                android:layout_marginTop="3dp"                android:id="@+id/bottom_bar_image_myinfo"                android:src="@drawable/main_my_icon"/&gt;        &lt;/RelativeLayout&gt;    &lt;/LinearLayout&gt;&lt;/RelativeLayout&gt;</code></pre><h2 id="实例化控件"><a href="#实例化控件" class="headerlink" title="实例化控件"></a>实例化控件</h2><p>点一下MainActivity</p><pre><code>public class MainActivity extends AppCompatActivity {    private RelativeLayout main_body;    private TextView bottom_bar_text_course;    private ImageView bottom_bar_image_course;    private RelativeLayout bottom_bar_course_btn;    private TextView bottom_bar_text_exercises;    private ImageView bottom_bar_image_exercises;    private RelativeLayout bottom_bar_exercises_btn;    private TextView bottom_bar_text_myinfo;    private ImageView bottom_bar_image_myinfo;    private RelativeLayout bottom_bar_myinfo_btn;    private LinearLayout main_bottom_bar;    @Override    protected void onCreate(Bundle savedInstanceState) {        super.onCreate(savedInstanceState);        setContentView(R.layout.activity_main);        initView();        setRequestedOrientation(ActivityInfo.SCREEN_ORIENTATION_PORTRAIT);    }    private void initView() {        main_body = findViewById(R.id.main_body);        bottom_bar_text_course = findViewById(R.id.bottom_bar_text_course);        bottom_bar_image_course = findViewById(R.id.bottom_bar_image_course);        bottom_bar_course_btn = findViewById(R.id.bottom_bar_course_btn);        bottom_bar_text_exercises = findViewById(R.id.bottom_bar_text_exercises);        bottom_bar_image_exercises = findViewById(R.id.bottom_bar_image_exercises);        bottom_bar_exercises_btn = findViewById(R.id.bottom_bar_exercises_btn);        bottom_bar_text_myinfo = findViewById(R.id.bottom_bar_text_myinfo);        bottom_bar_image_myinfo = findViewById(R.id.bottom_bar_image_myinfo);        bottom_bar_myinfo_btn = findViewById(R.id.bottom_bar_myinfo_btn);        main_bottom_bar = findViewById(R.id.main_bottom_bar);    }}</code></pre><p>控件实例化的部分就完成啦。</p><h2 id="底部导航栏状态的切换方法"><a href="#底部导航栏状态的切换方法" class="headerlink" title="底部导航栏状态的切换方法"></a>底部导航栏状态的切换方法</h2><p>底部导航栏在点击切换时，会有变色的效果。</p><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="/images/14.png" alt="14"></p><p>给MainActivity加一个setSelectStatus（）方法。</p><pre><code>    private void setSelectStatus(int index) {        switch (index){            case 0:                bottom_bar_image_course.setImageResource(R.drawable.main_course_icon_selected);                bottom_bar_text_course.setTextColor(Color.parseColor("#0097F7"));                bottom_bar_text_exercises.setTextColor(Color.parseColor("#666666"));                bottom_bar_text_myinfo.setTextColor(Color.parseColor("#666666"));                bottom_bar_image_exercises.setImageResource(R.drawable.main_exercises_icon);                bottom_bar_image_myinfo.setImageResource(R.drawable.main_my_icon);                break;            case 1:                bottom_bar_image_exercises.setImageResource(R.drawable.main_exercises_icon_selected);                bottom_bar_text_exercises.setTextColor(Color.parseColor("#0097F7"));                bottom_bar_text_course.setTextColor(Color.parseColor("#666666"));                bottom_bar_text_myinfo.setTextColor(Color.parseColor("#666666"));                bottom_bar_image_course.setImageResource(R.drawable.main_course_icon);                bottom_bar_image_myinfo.setImageResource(R.drawable.main_my_icon);                break;            case 2:                bottom_bar_image_myinfo.setImageResource(R.drawable.main_my_icon_selected);                bottom_bar_text_myinfo.setTextColor(Color.parseColor("#0097F7"));                bottom_bar_text_course.setTextColor(Color.parseColor("#666666"));                bottom_bar_text_exercises.setTextColor(Color.parseColor("#666666"));                bottom_bar_image_exercises.setImageResource(R.drawable.main_exercises_icon);                bottom_bar_image_course.setImageResource(R.drawable.main_course_icon);                break;        }    }</code></pre><p>在setSelectStatus（）方法里用参数index来判断当前选的按钮。</p><h2 id="底部导航栏的响应"><a href="#底部导航栏的响应" class="headerlink" title="底部导航栏的响应"></a>底部导航栏的响应</h2><p>导航栏颜色切换效果的方法写好了，接下来是点击响应的方法。<br>先给MainActivity加上View.OnClickListener接口</p><pre><code>public class MainActivity extends AppCompatActivity implements View.OnClickListener{</code></pre><p>Alt+回车生成onClick() 方法<br>在生成的onClick（）方法中加上导航栏区域的响应。</p><pre><code>    @Override    public void onClick(View v) {        switch (v.getId()){            case R.id.bottom_bar_course_btn:                setSelectStatus(0);                break;            case R.id.bottom_bar_exercises_btn:                setSelectStatus(1);                break;            case R.id.bottom_bar_myinfo_btn:                setSelectStatus(2);                break;        }    }</code></pre><p>别忘了给三个RelativeLayout控件加上监听器，<br>我的习惯是在initView（）方法里加。</p><pre><code>        bottom_bar_course_btn.setOnClickListener(this);        bottom_bar_exercises_btn.setOnClickListener(this);        bottom_bar_myinfo_btn.setOnClickListener(this);</code></pre><p>至此，底部导航栏的代码就完成了。</p><pre><code>    private void initView() {        main_body = findViewById(R.id.main_body);        bottom_bar_text_course = findViewById(R.id.bottom_bar_text_course);        bottom_bar_image_course = findViewById(R.id.bottom_bar_image_course);        bottom_bar_course_btn = findViewById(R.id.bottom_bar_course_btn);        bottom_bar_text_exercises = findViewById(R.id.bottom_bar_text_exercises);        bottom_bar_image_exercises = findViewById(R.id.bottom_bar_image_exercises);        bottom_bar_exercises_btn = findViewById(R.id.bottom_bar_exercises_btn);        bottom_bar_text_myinfo = findViewById(R.id.bottom_bar_text_myinfo);        bottom_bar_image_myinfo = findViewById(R.id.bottom_bar_image_myinfo);        bottom_bar_myinfo_btn = findViewById(R.id.bottom_bar_myinfo_btn);        main_bottom_bar = findViewById(R.id.main_bottom_bar);        bottom_bar_course_btn.setOnClickListener(this);        bottom_bar_exercises_btn.setOnClickListener(this);        bottom_bar_myinfo_btn.setOnClickListener(this);    }</code></pre><h2 id="三个fragment的创建"><a href="#三个fragment的创建" class="headerlink" title="三个fragment的创建"></a>三个fragment的创建</h2><p>我们还是用Fragment的方法来做三个模块的界面吧。<br>首先新建3个布局文件。<br>fragment_course.xml<br>fragment_exercises.xml<br>fragment_myinfo.xml<br>布局文件的内容都相似，一个大大的TextView，里面写着Fragment_1/2/3。记得改背景颜色和字体颜色。</p><p>fragment_course.xml</p><pre><code>&lt;?xml version="1.0" encoding="utf-8"?&gt;&lt;LinearLayout    xmlns:android="http://schemas.android.com/apk/res/android"    android:layout_width="match_parent"    android:layout_height="match_parent"    android:background="@android:color/white"&gt;    &lt;TextView        android:layout_width="wrap_content"        android:layout_height="wrap_content"        android:text="Fragment_1"        android:textColor="@android:color/black"        android:textSize="50sp"/&gt;&lt;/LinearLayout&gt;</code></pre><p>fragment_exercises.xml </p><pre><code>&lt;?xml version="1.0" encoding="utf-8"?&gt;&lt;LinearLayout    xmlns:android="http://schemas.android.com/apk/res/android"    android:layout_width="match_parent"    android:layout_height="match_parent"    android:background="@android:color/white"&gt;    &lt;TextView        android:layout_width="wrap_content"        android:layout_height="wrap_content"        android:text="Fragment_2"        android:textColor="@android:color/black"        android:textSize="50sp"/&gt;&lt;/LinearLayout&gt;</code></pre><p>fragment_myinfo.xml </p><pre><code>&lt;?xml version="1.0" encoding="utf-8"?&gt;&lt;LinearLayout    xmlns:android="http://schemas.android.com/apk/res/android"    android:layout_width="match_parent"    android:layout_height="match_parent"    android:background="@android:color/white"&gt;    &lt;TextView        android:layout_width="wrap_content"        android:layout_height="wrap_content"        android:text="Fragment_3"        android:textColor="@android:color/black"        android:textSize="50sp"/&gt;&lt;/LinearLayout&gt;</code></pre><h2 id="建一个Fragment包，把三个Fragment放进去"><a href="#建一个Fragment包，把三个Fragment放进去" class="headerlink" title="建一个Fragment包，把三个Fragment放进去"></a>建一个Fragment包，把三个Fragment放进去</h2><p>CourseFragment.java</p><pre><code>package cn.edu.gdmec.android.boxuegu.fragment;import android.os.Bundle;import android.support.v4.app.Fragment;import android.view.LayoutInflater;import android.view.View;import android.view.ViewGroup;import cn.edu.gdmec.android.boxuegu.R;public class CourseFragment extends Fragment {    @Override    public View onCreateView(LayoutInflater inflater, ViewGroup container,                             Bundle savedInstanceState) {        return inflater.inflate(R.layout.fragment_course, null);    }    @Override    public void onViewCreated(View view, Bundle savedInstanceState) {        super.onViewCreated(view, savedInstanceState);    }}</code></pre><p>ExercisesFragment.java </p><pre><code>package cn.edu.gdmec.android.boxuegu.fragment;import android.os.Bundle;import android.support.v4.app.Fragment;import android.view.LayoutInflater;import android.view.View;import android.view.ViewGroup;import cn.edu.gdmec.android.boxuegu.R;public class ExercisesFragment extends Fragment {    @Override    public View onCreateView(LayoutInflater inflater, ViewGroup container,                             Bundle savedInstanceState) {        return inflater.inflate(R.layout.fragment_exercises, null);    }    @Override    public void onViewCreated(View view, Bundle savedInstanceState) {        super.onViewCreated(view, savedInstanceState);    }}</code></pre><p>MyinfoFragment.java </p><pre><code>package cn.edu.gdmec.android.boxuegu.fragment;import android.os.Bundle;import android.support.v4.app.Fragment;import android.view.LayoutInflater;import android.view.View;import android.view.ViewGroup;import cn.edu.gdmec.android.boxuegu.R;public class MyinfoFragment extends Fragment {    @Override    public View onCreateView(LayoutInflater inflater, ViewGroup container,                             Bundle savedInstanceState) {        return inflater.inflate(R.layout.fragment_myinfo, null);    }    @Override    public void onViewCreated(View view, Bundle savedInstanceState) {        super.onViewCreated(view, savedInstanceState);    }}</code></pre><h2 id="三个fragment的显示和切换"><a href="#三个fragment的显示和切换" class="headerlink" title="三个fragment的显示和切换"></a>三个fragment的显示和切换</h2><p>Fragment用的是android.support.v4.app.Fragment<br>接下来我们在MainActivity里把AppCompatActivity改为FragmentActivity。</p><pre><code>public class MainActivity extends FragmentActivity implements View.OnClickListener{</code></pre><p>把Fragment加到Activity里的代码如下</p><pre><code>FragmentManager manager = getSupportFragmentManager();FragmentTransaction transaction = manager.beginTransaction();transaction.add(R.id.main_body,new CourseFragment()).commit();</code></pre><p>我们写一个setMain（）方法，用于打开初始页面</p><pre><code>    private void setMain() {        this.getSupportFragmentManager().beginTransaction().add(R.id.main_body,new CourseFragment()).commit();        setSelectStatus(0);    }</code></pre><p>这里面用的是连写，跟上面Fragment加到Activity的代码是一样效果的，这个看个人习惯。</p><p>在onCreate()方法里调用</p><pre><code>    @Override    protected void onCreate(Bundle savedInstanceState) {        super.onCreate(savedInstanceState);        setContentView(R.layout.activity_main);        initView();        setRequestedOrientation(ActivityInfo.SCREEN_ORIENTATION_PORTRAIT);        setMain();    }</code></pre><p>点击底部导航栏时，要切换响应的fragment，我们在onClick()方法里加上Fragment切换的方法。</p><pre><code>    @Override    public void onClick(View v) {        switch (v.getId()){            case R.id.bottom_bar_course_btn:                getSupportFragmentManager().beginTransaction().add(R.id.main_body,new CourseFragment()).commit();                setSelectStatus(0);                break;            case R.id.bottom_bar_exercises_btn:                getSupportFragmentManager().beginTransaction().add(R.id.main_body,new ExercisesFragment()).commit();                setSelectStatus(1);                break;            case R.id.bottom_bar_myinfo_btn:                getSupportFragmentManager().beginTransaction().add(R.id.main_body,new MyinfoFragment()).commit();                setSelectStatus(2);                break;        }    }</code></pre><h2 id="完整的MainActivity-java"><a href="#完整的MainActivity-java" class="headerlink" title="完整的MainActivity.java"></a>完整的MainActivity.java</h2><pre><code>package cn.edu.gdmec.android.boxuegu.activity;import android.content.pm.ActivityInfo;import android.graphics.Color;import android.os.Bundle;import android.support.v4.app.FragmentActivity;import android.view.View;import android.widget.ImageView;import android.widget.LinearLayout;import android.widget.RelativeLayout;import android.widget.TextView;import cn.edu.gdmec.android.boxuegu.R;import cn.edu.gdmec.android.boxuegu.fragment.CourseFragment;import cn.edu.gdmec.android.boxuegu.fragment.ExercisesFragment;import cn.edu.gdmec.android.boxuegu.fragment.MyinfoFragment;/*任务在主界面的Hello World位置显示：用户名+“登录成功”*/public class MainActivity extends FragmentActivity implements View.OnClickListener{    private RelativeLayout main_body;    private TextView bottom_bar_text_course;    private ImageView bottom_bar_image_course;    private RelativeLayout bottom_bar_course_btn;    private TextView bottom_bar_text_exercises;    private ImageView bottom_bar_image_exercises;    private RelativeLayout bottom_bar_exercises_btn;    private TextView bottom_bar_text_myinfo;    private ImageView bottom_bar_image_myinfo;    private RelativeLayout bottom_bar_myinfo_btn;    private LinearLayout main_bottom_bar;    @Override    protected void onCreate(Bundle savedInstanceState) {        super.onCreate(savedInstanceState);        setContentView(R.layout.activity_main);        initView();        setRequestedOrientation(ActivityInfo.SCREEN_ORIENTATION_PORTRAIT);        //把Fragment加到Activity里的代码如下       /* FragmentManager manager = getSupportFragmentManager();        FragmentTransaction transaction = manager.beginTransaction();        transaction.add(R.id.main_body,new CourseFragment()).commit();*/       setMain();    }    private void setMain() {        this.getSupportFragmentManager().beginTransaction().add(R.id.main_body,new MyinfoFragment()).commit();        setSelectStatus(2);    }    private void setSelectStatus(int index) {        switch (index){            case 0:                bottom_bar_image_course.setImageResource(R.drawable.main_course_icon_selected);                bottom_bar_text_course.setTextColor(Color.parseColor("#0097F7"));                bottom_bar_text_exercises.setTextColor(Color.parseColor("#666666"));                bottom_bar_text_myinfo.setTextColor(Color.parseColor("#666666"));                bottom_bar_image_exercises.setImageResource(R.drawable.main_exercises_icon);                bottom_bar_image_myinfo.setImageResource(R.drawable.main_my_icon);                break;            case 1:                bottom_bar_image_exercises.setImageResource(R.drawable.main_exercises_icon_selected);                bottom_bar_text_exercises.setTextColor(Color.parseColor("#0097F7"));                bottom_bar_text_course.setTextColor(Color.parseColor("#666666"));                bottom_bar_text_myinfo.setTextColor(Color.parseColor("#666666"));                bottom_bar_image_course.setImageResource(R.drawable.main_course_icon);                bottom_bar_image_myinfo.setImageResource(R.drawable.main_my_icon);                break;            case 2:                bottom_bar_image_myinfo.setImageResource(R.drawable.main_my_icon_selected);                bottom_bar_text_myinfo.setTextColor(Color.parseColor("#0097F7"));                bottom_bar_text_course.setTextColor(Color.parseColor("#666666"));                bottom_bar_text_exercises.setTextColor(Color.parseColor("#666666"));                bottom_bar_image_exercises.setImageResource(R.drawable.main_exercises_icon);                bottom_bar_image_course.setImageResource(R.drawable.main_course_icon);                break;        }    }    private void initView() {        main_body = findViewById(R.id.main_body);        bottom_bar_text_course = findViewById(R.id.bottom_bar_text_course);        bottom_bar_image_course = findViewById(R.id.bottom_bar_image_course);        bottom_bar_course_btn = findViewById(R.id.bottom_bar_course_btn);        bottom_bar_text_exercises = findViewById(R.id.bottom_bar_text_exercises);        bottom_bar_image_exercises = findViewById(R.id.bottom_bar_image_exercises);        bottom_bar_exercises_btn = findViewById(R.id.bottom_bar_exercises_btn);        bottom_bar_text_myinfo = findViewById(R.id.bottom_bar_text_myinfo);        bottom_bar_image_myinfo = findViewById(R.id.bottom_bar_image_myinfo);        bottom_bar_myinfo_btn = findViewById(R.id.bottom_bar_myinfo_btn);        main_bottom_bar = findViewById(R.id.main_bottom_bar);        bottom_bar_course_btn.setOnClickListener(this);        bottom_bar_exercises_btn.setOnClickListener(this);        bottom_bar_myinfo_btn.setOnClickListener(this);    }    @Override    public void onClick(View v) {        switch (v.getId()){            case R.id.bottom_bar_course_btn:                getSupportFragmentManager().beginTransaction().add(R.id.main_body,new CourseFragment()).commit();                setSelectStatus(0);                break;            case R.id.bottom_bar_exercises_btn:                getSupportFragmentManager().beginTransaction().add(R.id.main_body,new ExercisesFragment()).commit();                setSelectStatus(1);                break;            case R.id.bottom_bar_myinfo_btn:                getSupportFragmentManager().beginTransaction().add(R.id.main_body,new MyinfoFragment()).commit();                setSelectStatus(2);                break;        }    }}</code></pre><p>好了，完成，这里没有新添加的activity的类。接下来进行挑战任务！</p><h2 id="挑战任务-1"><a href="#挑战任务-1" class="headerlink" title="挑战任务"></a>挑战任务</h2><p>初次打开页面都是Fragment_1，请修改相关代码，让初始打开的页面为Fragment_3，别忘了底部导航栏也要变颜色哦</p><h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>这是走好Android的三步！</p><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
      
      
      <categories>
          
          <category> 教育系统APP </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 教育系统APP </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>教育系统APP(二)</title>
      <link href="/2018/04/22/1/"/>
      <url>/2018/04/22/1/</url>
      
        <content type="html"><![CDATA[<h2 id="注册与登录界面"><a href="#注册与登录界面" class="headerlink" title="注册与登录界面"></a>注册与登录界面</h2><p><strong>设计思路</strong></p><p>当我们面临制作登录和注册功能的实现时，我们需要先设计登录界面的布局和注册界面的布局，做到有完整的思路时才开始实现其功能效果会更好。</p><p>我们需要做个标题栏，登陆界面，实现登陆界面的功能代码块，注册界面，实现测试界面的功能模块即可完成。</p><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="/images/6.jpg" alt="6"></p><a id="more"></a><h2 id="学习目标"><a href="#学习目标" class="headerlink" title="学习目标"></a>学习目标</h2><p>掌握注册和登录模块的开发，能够实现用户登录功能。    </p><h2 id="项目实操"><a href="#项目实操" class="headerlink" title="项目实操"></a>项目实操</h2><p>注册界面知识点    </p><p>标题栏的创建，ImageView、EditText、Button控件的使用，haredPreferences的使用，setResult（RESULT_OK，data）方法的使用，MD5加密算法    </p><h2 id="技能点"><a href="#技能点" class="headerlink" title="技能点"></a>技能点</h2><p>掌握注册界面的设计和逻辑构思，掌握标题栏的创建以及常用控件的使用</p><p>通过SharedPreferences实现数据的存取功能，通过setResult(RESULT_OK,data)方法实现界面间数据的回传，通过MD5加密算法实现密码加密功能，实现注册功能    </p><h2 id="任务实施"><a href="#任务实施" class="headerlink" title="任务实施"></a>任务实施</h2><p>标题栏，创建标题栏界面布局文件，创建背景选择器，注册界面，创建注册界面Activity    ，导入图片资源到drawable中，编写布局文件 activity_register.xml，创建背景选择器register_selector.xml，MD5加密算法，创建utils包，创建MDUtils类</p><h2 id="注册界面逻辑代码"><a href="#注册界面逻辑代码" class="headerlink" title="注册界面逻辑代码"></a>注册界面逻辑代码</h2><p>声明用于操作控件的Activity私有属性，获取界面控件，保存注册信息到SharedPreferences中，Activity的onCreate中调用init()</p><h2 id="登录界面"><a href="#登录界面" class="headerlink" title="登录界面"></a>登录界面</h2><p>标题栏的引用<br>EditText、Button控件<br>SharedPreferences的使用<br>setResult(RESULT_OK,data)使用<br>Intent使用</p><h2 id="技能点-1"><a href="#技能点-1" class="headerlink" title="技能点"></a>技能点</h2><p>掌握登录界面的设计和逻辑构思<br>通过SharedPreferences实现数据的存取功能<br>通过setResult(RESULT_DATA,data)方法实现界面间数据传递<br>通过Intent实现Actitivty间跳转    </p><h2 id="挑战任务"><a href="#挑战任务" class="headerlink" title="挑战任务"></a>挑战任务</h2><h2 id="展示一下包结构"><a href="#展示一下包结构" class="headerlink" title="展示一下包结构"></a>展示一下包结构</h2><p>绿色表示新的添加哦~</p><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="/images/10.png" alt="10"></p><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="/images/11.png" alt="11"></p><h1 id="项目实操-1"><a href="#项目实操-1" class="headerlink" title="项目实操"></a>项目实操</h1><p>注册界面主要用于输入用户注册信息，在注册界面中用户需要输入用户名、密码、再次输入密码，当点击“注册”按钮时进行注册。使用本地数据存储用户信息，注册成功后将用户名和密码保存在SharedPrefereces中，以便于后续用户登录。为保证账户的安全，在保存密码时采用MD5加密算法，这种算法不可逆，具有一定的安全性。</p><h2 id="标题栏"><a href="#标题栏" class="headerlink" title="标题栏"></a>标题栏</h2><p>鼠标右键点击res/layout，new-&gt;xml-layout XML file，创建main_title_bar.xml</p><pre><code>&lt;?xml version="1.0" encoding="utf-8"?&gt;&lt;!--标题栏与返回键的创建，独立在main_title_bar.xml中--&gt;&lt;!--标题栏设置高度为50dp，宽度为match_parent,设置背景颜色为通明为@android:color/transparent--&gt;&lt;!--RelativeLayout为相对布局--&gt;&lt;RelativeLayout    xmlns:android="http://schemas.android.com/apk/res/android"    android:id="@+id/title_bar"    android:layout_width="match_parent"    android:layout_height="50dp"    android:background="@android:color/transparent"&gt;    &lt;!--设置返回键TextView为高度50dp,宽度为50dp;id为android:id="@+id/tv_back"--&gt;    &lt;!--layout_alignParentLeft为与父控件左对齐--&gt;    &lt;!--layout_centerVertical为控件垂直居中--&gt;    &lt;!--标题栏界面中的返回键在按下与弹起时，返回键会有明显的区别，这种效果通过背景选择器进行实现--&gt;    &lt;TextView        android:id="@+id/tv_back"        android:layout_width="50dp"        android:layout_height="50dp"        android:layout_alignParentLeft="true"        android:layout_centerVertical="true"        android:background="@drawable/go_back_selector"/&gt;    &lt;!--设置id为android:id="@+id/tv_main_title--&gt;    &lt;!--该TextView为显示文本--&gt;    &lt;!--layout_centerInparent为居中显示--&gt;    &lt;TextView        android:id="@+id/tv_main_title"        android:layout_width="wrap_content"        android:layout_height="wrap_content"        android:textColor="@android:color/white"        android:textSize="20sp"        android:layout_centerInParent="true"/&gt;    &lt;!--到main_title_bar.xml中tv_main_title按钮的下方，加个“保存”--&gt;    &lt;TextView        android:id="@+id/tv_save"        android:layout_width="wrap_content"        android:layout_height="30dp"        android:layout_centerVertical="true"        android:layout_marginRight="20dp"        android:layout_marginTop="20dp"        android:layout_alignParentRight="true"        android:visibility="gone"        android:text="保存"        android:textColor="@android:color/white"        android:textSize="16sp"/&gt;&lt;/RelativeLayout&gt;</code></pre><p>将图片iv_back_selected.png和iv_back.png    粘贴到drawable中<br>鼠标右键drawable，new-&gt;drawable resource file，创建go_back_selector.xml。</p><pre><code>&lt;?xml version="1.0" encoding="utf-8"?&gt;&lt;!--建立go_back_selector.xml背景选择器--&gt;&lt;selector xmlns:android="http://schemas.android.com/apk/res/android"&gt;&lt;!--android:state_pressed="true"为是否按下，如一个按钮触摸或者点击--&gt;    &lt;!--当按下时显示灰色图片（iv_back_selected.png），当按钮弹起时显示白色图片（iv_back.png）--&gt;    &lt;item android:drawable="@drawable/iv_back_selected" android:state_pressed="true"/&gt;    &lt;item android:drawable="@drawable/iv_back"/&gt;&lt;/selector&gt;</code></pre><h2 id="注册界面"><a href="#注册界面" class="headerlink" title="注册界面"></a>注册界面</h2><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="/images/7.png" alt="7"></p><p>创建注册界面Activity </p><p>鼠标右键activity包，new-&gt;activity-&gt;Empty Activity，创建RegisterActivity</p><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="/images/8.png" alt="8"></p><p><strong>导入图片资源到drawable中</strong><br>register_bg.png<br>default_icon.png<br>user_name_icon.png<br>psw_icon.png<br>register_user_name_bg.png<br>register_psw_bg.png<br>register_psw_again_bg.png</p><h2 id="编写布局文件-activity-register-xml"><a href="#编写布局文件-activity-register-xml" class="headerlink" title="编写布局文件 activity_register.xml"></a>编写布局文件 activity_register.xml</h2><pre><code>&lt;?xml version="1.0" encoding="utf-8"?&gt;&lt;!--注册界面--&gt;&lt;!--这里的布局是放置 1 个 ImageView 控件，用于显示用户头像；3 个 EditText 控件，用于输入用户名、密码、再次输入密码；1 个 Button 控件作为注册按钮--&gt;&lt;!--修改 activity_register.xml 为 LinearLayout 布局--&gt;&lt;LinearLayout    xmlns:android="http://schemas.android.com/apk/res/android"    android:id="@+id/activity_register"    android:layout_width="match_parent"    android:layout_height="match_parent"    android:background="@drawable/register_bg"    android:orientation="vertical"&gt;    &lt;include layout="@layout/main_title_bar"&gt;&lt;/include&gt;&lt;!--引入标题栏--&gt;    &lt;ImageView        android:layout_width="70dp"        android:layout_height="70dp"        android:layout_gravity="center_horizontal"        android:layout_marginTop="25dp"        android:src="@drawable/default_icon"/&gt;    &lt;!--三个编辑框--&gt;    &lt;EditText        android:id="@+id/et_user_name"        android:layout_width="fill_parent"        android:layout_height="48dp"        android:layout_gravity="center_horizontal"        android:layout_marginLeft="35dp"        android:layout_marginRight="35dp"        android:layout_marginTop="35dp"        android:background="@drawable/register_user_name_bg"        android:drawableLeft="@drawable/user_name_icon"        android:drawablePadding="10dp"        android:gravity="center_vertical"        android:hint="请输入用户名"        android:paddingLeft="8dp"        android:singleLine="true"        android:textColor="#000000"        android:textColorHint="#a3a3a3"        android:textSize="14sp"/&gt;    &lt;EditText        android:id="@+id/et_psw"        android:layout_width="fill_parent"        android:layout_gravity="center_horizontal"        android:layout_height="48dp"        android:layout_marginLeft="35dp"        android:layout_marginRight="35dp"        android:background="@drawable/register_psw_bg"        android:drawableLeft="@drawable/psw_icon"        android:drawablePadding="10dp"        android:hint="请输入密码"        android:inputType="textPassword"        android:paddingLeft="8dp"        android:singleLine="true"        android:textColor="#000000"        android:textColorHint="#a3a3a3"        android:textSize="14sp"/&gt;    &lt;EditText        android:id="@+id/et_psw_again"        android:layout_width="fill_parent"        android:layout_height="48dp"        android:layout_gravity="center_horizontal"        android:layout_marginLeft="35dp"        android:layout_marginRight="35dp"        android:background="@drawable/register_psw_again_bg"        android:drawableLeft="@drawable/psw_icon"        android:drawablePadding="10dp"        android:hint="请再次输入密码"        android:inputType="textPassword"        android:paddingLeft="8dp"        android:singleLine="true"        android:textColor="#000000"        android:textColorHint="#a3a3a3"        android:textSize="14sp"/&gt;    &lt;Button        android:id="@+id/btn_register"        android:layout_width="fill_parent"        android:layout_height="40dp"        android:layout_gravity="center_horizontal"        android:layout_marginLeft="35dp"        android:layout_marginRight="35dp"        android:layout_marginTop="15dp"        android:background="@drawable/register_selector"        android:text="注 册"        android:textColor="@android:color/white"        android:textSize="18sp"/&gt;&lt;/LinearLayout&gt;</code></pre><h2 id="创建背景选择器register-selector-xml"><a href="#创建背景选择器register-selector-xml" class="headerlink" title="创建背景选择器register_selector.xml"></a>创建背景选择器register_selector.xml</h2><p>将register_icon_normal.png,register_icon_selected.png贴入drawable中<br>在drawable创建register_selector.xml </p><pre><code>&lt;?xml version="1.0" encoding="utf-8"?&gt;&lt;selector xmlns:android="http://schemas.android.com/apk/res/android"&gt;&lt;!--register_icon_normal.png为按钮不点击的样式，点击显示灰色图片register_icon_selected.png--&gt;    &lt;item android:drawable="@drawable/register_icon_selected" android:state_pressed="true"/&gt;    &lt;item android:drawable="@drawable/register_icon_normal"/&gt;&lt;/selector&gt;</code></pre><h2 id="MD5加密算法"><a href="#MD5加密算法" class="headerlink" title="MD5加密算法"></a>MD5加密算法</h2><p>MD5的全称是Message_Digest Algorithm 5（信息-摘要算法第5版），MD5简单来说就是吧任意长度的字符串变成固定长度（通常是128位）的十六进制字符串。</p><h2 id="创建utils包"><a href="#创建utils包" class="headerlink" title="创建utils包"></a>创建utils包</h2><p>鼠标右键utils包，new-&gt;java class，创建MD5Utils类</p><pre><code>package cn.edu.gdmec.android.boxuegu.utils;import java.security.MessageDigest;import java.security.NoSuchAlgorithmException;/** * Created by Jack on 2018/3/27. * 创建一个md5()方法 * 过 MessageDigest 的 getInstance()方法 * 获取数据加密对象 digest，然后通过该对象的 digest()方法对密码进行加密 * 由于注册登录涉及密码 * 我们需要对用户的密码进行 MD5 算法加密 * MD5 的全称是 Message-Digest Algorithm 5（信息--摘要算法） * MD5 算法简单来说就是把任意长度的字符串变换成固定长度（通常是128位）的16进制字符串 * 且此算法不可逆 */public class MD5Utils {    // md5 加密的算法    public static String md5(String text){        MessageDigest digest = null;        try {            //获取数据指纹对象            digest = MessageDigest.getInstance("md5");            //字节数组            byte[] result = digest.digest(text.getBytes());            //16进制转换            StringBuffer sb = new StringBuffer();            //获取所有字节进行转换            for (byte b: result){                //使用『与算法』，java使用unicode字符，所以每个字符占位两个                // 需要与两位16进制最大值进行与运算，获取number值                int number = b &amp; 0xff;                //number值转换字符串                String hex = Integer.toHexString(number);                if (hex.length() == 1){                    //若转换后的字符长度等于1则进行字符串拼接                    sb.append("0"+hex);                }else {                    sb.append(hex);                }            }            return sb.toString();        } catch (NoSuchAlgorithmException e) {            e.printStackTrace();            //发送异常return空字符串            return "";        }    }}</code></pre><h2 id="注册界面逻辑代码-1"><a href="#注册界面逻辑代码-1" class="headerlink" title="注册界面逻辑代码"></a>注册界面逻辑代码</h2><p>声明用于操作控件的Activity私有属性</p><pre><code>//标题private TextView tv_main_title;//返回按钮private TextView tv_back;//注册按钮private Button btn_register;//用户名，密码，再次输入的密码的控件private EditText et_user_name,et_psw,et_psw_again;//用户名，密码，再次输入的密码的控件的获取值private String userName,psw,pswAgain;//标题布局private RelativeLayout rl_title_bar;</code></pre><h2 id="获取界面控件"><a href="#获取界面控件" class="headerlink" title="获取界面控件"></a>获取界面控件</h2><p>在RegisterAcitivity中创建界面控件的初始化方法init()，用于获取注册界面锁要用到的控件以及实现控件的点击事件。注意有两个私有类方法getEditString()和isExistUserName(String userName)写在init()后面的。</p><pre><code>private void init() {        //从main_title_bar.xml 页面布局中获取对应的UI控件        tv_main_title=findViewById(R.id.tv_main_title);        tv_main_title.setText("注册");        tv_back=findViewById(R.id.tv_back);        //布局根元素        rl_title_bar=findViewById(R.id.title_bar);        rl_title_bar.setBackgroundColor(Color.TRANSPARENT);        //从activity_register.xml 页面中获取对应的UI控件        btn_register=findViewById(R.id.btn_register);        et_user_name=findViewById(R.id.et_user_name);        et_psw=findViewById(R.id.et_psw);        et_psw_again=findViewById(R.id.et_psw_again);        tv_back.setOnClickListener(new View.OnClickListener() {            @Override            public void onClick(View v) {                //返回键                RegisterActivity.this.finish();            }        });        //注册按钮        btn_register.setOnClickListener(new View.OnClickListener() {            @Override            public void onClick(View v) {                //获取输入在相应控件中的字符串                getEditString();                //判断输入框内容                if(TextUtils.isEmpty(userName)){                    Toast.makeText(RegisterActivity.this, "请输入用户名", Toast.LENGTH_SHORT).show();                    return;                }else if(TextUtils.isEmpty(psw)){                    Toast.makeText(RegisterActivity.this, "请输入密码", Toast.LENGTH_SHORT).show();                    return;                }else if(TextUtils.isEmpty(pswAgain)){                    Toast.makeText(RegisterActivity.this, "请再次输入密码", Toast.LENGTH_SHORT).show();                    return;                }else if(!psw.equals(pswAgain)){                    Toast.makeText(RegisterActivity.this, "输入两次的密码不一样", Toast.LENGTH_SHORT).show();                    return;                    /**                     *从SharedPreferences中读取输入的用户名，判断SharedPreferences中是否有此用户名                     */                }else if(isExistUserName(userName)){                    Toast.makeText(RegisterActivity.this, "此账户名已经存在", Toast.LENGTH_SHORT).show();                    return;                }else{                    Toast.makeText(RegisterActivity.this, "注册成功", Toast.LENGTH_SHORT).show();                    //把账号、密码和账号标识保存到sp里面                    /**                     * 保存账号和密码到SharedPreferences中                     */                    saveRegisterInfo(userName, psw);                    //注册成功后把账号传递到LoginActivity.java中                    // 返回值到loginActivity显示                    Intent data = new Intent();                    data.putExtra("userName", userName);                    setResult(RESULT_OK, data);                    //RESULT_OK为Activity系统常量，状态码为-1，                    //表示此页面下的内容操作成功将data返回到上一页面，如果是用back返回过去的则不存在用setResult传递data值                    RegisterActivity.this.finish();                }            }        });    }    /**     * 获取控件中的字符串     */    private void getEditString(){        userName=et_user_name.getText().toString().trim();        psw=et_psw.getText().toString().trim();        pswAgain=et_psw_again.getText().toString().trim();    }    /**     * 从SharedPreferences中读取输入的用户名，判断SharedPreferences中是否有此用户名     */    private boolean isExistUserName(String userName){        boolean has_userName=false;        //mode_private SharedPreferences sp = getSharedPreferences( );        // "loginInfo", MODE_PRIVATE        SharedPreferences sp=getSharedPreferences("loginInfo", MODE_PRIVATE);        //获取密码        String spPsw=sp.getString(userName, "");//传入用户名获取密码        //如果密码不为空则确实保存过这个用户名        if(!TextUtils.isEmpty(spPsw)) {            has_userName=true;        }        return has_userName;    }</code></pre><h2 id="保存注册信息到SharedPreferences中"><a href="#保存注册信息到SharedPreferences中" class="headerlink" title="保存注册信息到SharedPreferences中"></a>保存注册信息到SharedPreferences中</h2><p>在REgisterActivity中创建一个saveRegisterInfo()方法，讲注册成功的用户名和密码(经过MD5加密)保存到SharedPreferences中。</p><pre><code>    private void saveRegisterInfo(String userName,String psw){        String md5Psw = MD5Utils.md5(psw);//把密码用MD5加密        //loginInfo表示文件名, mode_private SharedPreferences sp = getSharedPreferences( );        SharedPreferences sp=getSharedPreferences("loginInfo", MODE_PRIVATE);        //获取编辑器， SharedPreferences.Editor  editor -&gt; sp.edit();        SharedPreferences.Editor editor=sp.edit();        //以用户名为key，密码为value保存在SharedPreferences中        //key,value,如键值对，editor.putString(用户名，密码）;        editor.putString(userName, md5Psw);        //提交修改 editor.commit();        editor.commit();    }</code></pre><h2 id="Activity的onCreate中调用init"><a href="#Activity的onCreate中调用init" class="headerlink" title="Activity的onCreate中调用init()"></a>Activity的onCreate中调用init()</h2><pre><code>    @Override    protected void onCreate(Bundle savedInstanceState) {        super.onCreate(savedInstanceState);        //设置页面布局 ,注册界面        setContentView(R.layout.activity_register);        //设置此界面为竖屏        setRequestedOrientation(ActivityInfo.SCREEN_ORIENTATION_PORTRAIT);        init();    }</code></pre><h2 id="RegisterActivity-完整代码如下"><a href="#RegisterActivity-完整代码如下" class="headerlink" title="RegisterActivity 完整代码如下"></a>RegisterActivity 完整代码如下</h2><pre><code>package cn.edu.gdmec.android.boxuegu.activity;import android.content.Intent;import android.content.SharedPreferences;import android.content.pm.ActivityInfo;import android.graphics.Color;import android.os.Bundle;import android.support.v7.app.AppCompatActivity;import android.text.TextUtils;import android.view.View;import android.widget.Button;import android.widget.EditText;import android.widget.RelativeLayout;import android.widget.TextView;import android.widget.Toast;import cn.edu.gdmec.android.boxuegu.R;import cn.edu.gdmec.android.boxuegu.utils.MD5Utils;public class RegisterActivity extends AppCompatActivity {    //标题    private TextView tv_main_title;    //返回按钮    private TextView tv_back;    //注册按钮    private Button btn_register;    //用户名，密码，再次输入的密码的控件    private EditText et_user_name,et_psw,et_psw_again;    //用户名，密码，再次输入的密码的控件的获取值    private String userName,psw,pswAgain;    //标题布局    private RelativeLayout rl_title_bar;    @Override    protected void onCreate(Bundle savedInstanceState) {        super.onCreate(savedInstanceState);        //设置页面布局 ,注册界面        setContentView(R.layout.activity_register);        //设置此界面为竖屏        setRequestedOrientation(ActivityInfo.SCREEN_ORIENTATION_PORTRAIT);        init();    }    private void init() {        //从main_title_bar.xml 页面布局中获取对应的UI控件        tv_main_title=findViewById(R.id.tv_main_title);        tv_main_title.setText("注册");        tv_back=findViewById(R.id.tv_back);        //布局根元素        rl_title_bar=findViewById(R.id.title_bar);        rl_title_bar.setBackgroundColor(Color.TRANSPARENT);        //从activity_register.xml 页面中获取对应的UI控件        btn_register=findViewById(R.id.btn_register);        et_user_name=findViewById(R.id.et_user_name);        et_psw=findViewById(R.id.et_psw);        et_psw_again=findViewById(R.id.et_psw_again);        tv_back.setOnClickListener(new View.OnClickListener() {            @Override            public void onClick(View v) {                //返回键                RegisterActivity.this.finish();            }        });        //注册按钮        btn_register.setOnClickListener(new View.OnClickListener() {            @Override            public void onClick(View v) {                //获取输入在相应控件中的字符串                getEditString();                //判断输入框内容                if(TextUtils.isEmpty(userName)){                    Toast.makeText(RegisterActivity.this, "请输入用户名", Toast.LENGTH_SHORT).show();                    return;                }else if(TextUtils.isEmpty(psw)){                    Toast.makeText(RegisterActivity.this, "请输入密码", Toast.LENGTH_SHORT).show();                    return;                }else if(TextUtils.isEmpty(pswAgain)){                    Toast.makeText(RegisterActivity.this, "请再次输入密码", Toast.LENGTH_SHORT).show();                    return;                }else if(!psw.equals(pswAgain)){                    Toast.makeText(RegisterActivity.this, "输入两次的密码不一样", Toast.LENGTH_SHORT).show();                    return;                    /**                     *从SharedPreferences中读取输入的用户名，判断SharedPreferences中是否有此用户名                     */                }else if(isExistUserName(userName)){                    Toast.makeText(RegisterActivity.this, "此账户名已经存在", Toast.LENGTH_SHORT).show();                    return;                }else{                    Toast.makeText(RegisterActivity.this, "注册成功", Toast.LENGTH_SHORT).show();                    //把账号、密码和账号标识保存到sp里面                    /**                     * 保存账号和密码到SharedPreferences中                     */                    saveRegisterInfo(userName, psw);                    //注册成功后把账号传递到LoginActivity.java中                    // 返回值到loginActivity显示                    Intent data = new Intent();                    data.putExtra("userName", userName);                    setResult(RESULT_OK, data);                    //RESULT_OK为Activity系统常量，状态码为-1，                    //表示此页面下的内容操作成功将data返回到上一页面，如果是用back返回过去的则不存在用setResult传递data值                    RegisterActivity.this.finish();                }            }        });    }    /**     * 获取控件中的字符串     */    private void getEditString(){        userName=et_user_name.getText().toString().trim();        psw=et_psw.getText().toString().trim();        pswAgain=et_psw_again.getText().toString().trim();    }    /**     * 从SharedPreferences中读取输入的用户名，判断SharedPreferences中是否有此用户名     */    private boolean isExistUserName(String userName){        boolean has_userName=false;        //mode_private SharedPreferences sp = getSharedPreferences( );        // "loginInfo", MODE_PRIVATE        SharedPreferences sp=getSharedPreferences("loginInfo", MODE_PRIVATE);        //获取密码        String spPsw=sp.getString(userName, "");//传入用户名获取密码        //如果密码不为空则确实保存过这个用户名        if(!TextUtils.isEmpty(spPsw)) {            has_userName=true;        }        return has_userName;    }    /**     * 保存账号和密码到SharedPreferences中SharedPreferences     */    private void saveRegisterInfo(String userName,String psw){        String md5Psw = MD5Utils.md5(psw);//把密码用MD5加密        //loginInfo表示文件名, mode_private SharedPreferences sp = getSharedPreferences( );        SharedPreferences sp=getSharedPreferences("loginInfo", MODE_PRIVATE);        //获取编辑器， SharedPreferences.Editor  editor -&gt; sp.edit();        SharedPreferences.Editor editor=sp.edit();        //以用户名为key，密码为value保存在SharedPreferences中        //key,value,如键值对，editor.putString(用户名，密码）;        editor.putString(userName, md5Psw);        //提交修改 editor.commit();        editor.commit();    }}</code></pre><h2 id="登录界面-1"><a href="#登录界面-1" class="headerlink" title="登录界面"></a>登录界面</h2><p>登录界面主要用输入登录信息，当点击“登录”按钮时需要在ShatredPreferences中查询输入的用户名是否有对应的密码，如果有则用此密码与当前输入的密码(需要MD5加密)进行比对，如果信息一致，则登录成功，并吧登录成功的状态和用户名保存到SharedPreferences中，便于后续判断登录状态和获取用户名。</p><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="/images/9.png" alt="9"></p><h2 id="创建登录界面"><a href="#创建登录界面" class="headerlink" title="创建登录界面"></a>创建登录界面</h2><p>鼠标右键activity包，new-&gt;activity-&gt;Empty Activity，创建LoginAcitivity<br>导入图片资源到drawable中<br>login_bg.png<br>login_user_name_bg.png<br>login_psw_bg.png </p><h2 id="编写界面布局-activity-login-xml"><a href="#编写界面布局-activity-login-xml" class="headerlink" title="编写界面布局 activity_login.xml"></a>编写界面布局 activity_login.xml</h2><pre><code>&lt;?xml version="1.0" encoding="utf-8"?&gt;&lt;!--登录界面--&gt;&lt;LinearLayout    xmlns:android="http://schemas.android.com/apk/res/android"    android:layout_width="match_parent"    android:layout_height="match_parent"    android:background="@drawable/login_bg"    android:orientation="vertical"&gt;    &lt;!--标题栏--&gt;    &lt;include layout="@layout/main_title_bar"&gt;&lt;/include&gt;    &lt;ImageView        android:id="@+id/iv_head"        android:layout_width="70dp"        android:layout_height="70dp"        android:layout_marginTop="25dp"        android:layout_gravity="center_horizontal"        android:background="@drawable/default_icon"/&gt;    &lt;EditText        android:id="@+id/et_user_name"        android:layout_width="fill_parent"        android:layout_height="48dp"        android:layout_marginTop="35dp"        android:layout_marginLeft="35dp"        android:layout_marginRight="35dp"        android:layout_gravity="center_horizontal"        android:background="@drawable/login_user_name_bg"        android:drawableLeft="@drawable/user_name_icon"        android:drawablePadding="10dp"        android:paddingLeft="8dp"        android:gravity="center_vertical"        android:hint="请输入用户名"        android:singleLine="true"        android:textColor="#000000"        android:textColorHint="#a3a3a3"        android:textSize="14sp"/&gt;    &lt;EditText        android:id="@+id/et_psw"        android:layout_width="fill_parent"        android:layout_height="48dp"        android:layout_gravity="center_horizontal"        android:layout_marginLeft="35dp"        android:layout_marginRight="35dp"        android:background="@drawable/login_psw_bg"        android:drawableLeft="@drawable/psw_icon"        android:drawablePadding="10dp"        android:paddingLeft="8dp"        android:gravity="center_vertical"        android:hint="请输入密码"        android:inputType="textPassword"        android:singleLine="true"        android:textColor="#000000"        android:textColorHint="#a3a3a3"        android:textSize="14sp"/&gt;    &lt;Button        android:id="@+id/btn_login"        android:layout_width="fill_parent"        android:layout_height="40dp"        android:layout_marginTop="15dp"        android:layout_marginLeft="35dp"        android:layout_marginRight="35dp"        android:layout_gravity="center_horizontal"        android:background="@drawable/register_selector"        android:text="登 录"        android:textColor="@android:color/white"        android:textSize="18sp"/&gt;    &lt;LinearLayout        android:layout_width="fill_parent"        android:layout_height="fill_parent"        android:layout_marginTop="8dp"        android:layout_marginLeft="35dp"        android:layout_marginRight="35dp"        android:gravity="center_horizontal"        android:orientation="horizontal"&gt;        &lt;TextView            android:id="@+id/tv_register"            android:layout_width="0dp"            android:layout_height="wrap_content"            android:layout_weight="1"            android:gravity="center_horizontal"            android:padding="8dp"            android:text="立即注册"            android:textColor="@android:color/white"            android:textSize="14sp" /&gt;        &lt;!--layout_weight="1" layout_width="0dp"实现均分效果--&gt;        &lt;TextView            android:id="@+id/tv_find_psw"            android:layout_width="0dp"            android:layout_height="wrap_content"            android:layout_weight="1"            android:gravity="center_horizontal"            android:padding="8dp"            android:text="找回密码?"            android:textColor="@android:color/white"            android:textSize="14sp" /&gt;    &lt;/LinearLayout&gt;&lt;/LinearLayout&gt;</code></pre><h2 id="登录界面的逻辑代码"><a href="#登录界面的逻辑代码" class="headerlink" title="登录界面的逻辑代码"></a>登录界面的逻辑代码</h2><p>声明用于操作控件的Activity私有属性</p><pre><code>//标题    private TextView tv_main_title;    //返回键,显示的注册，找回密码    private TextView tv_back,tv_register,tv_find_psw;    //登录按钮    private Button btn_login;    //获取的用户名，密码，加密密码    private String userName,psw,spPsw;    //用户名和密码的输入框    private EditText et_user_name,et_psw;</code></pre><h2 id="获取界面控件-1"><a href="#获取界面控件-1" class="headerlink" title="获取界面控件"></a>获取界面控件</h2><p>创建初始化方法init()，用于获取登录界面所要用的空间，并设置登录按钮、返回按钮、立刻注册、找回密码点击事件</p><pre><code>//获取界面控件    private void init() {        //从main_title_bar中获取的id        tv_main_title=findViewById(R.id.tv_main_title);        tv_main_title.setText("登录");        tv_back=findViewById(R.id.tv_back);        //从activity_login.xml中获取的        tv_register=findViewById(R.id.tv_register);        tv_find_psw=findViewById(R.id.tv_find_psw);        btn_login=findViewById(R.id.btn_login);        et_user_name=findViewById(R.id.et_user_name);        et_psw=findViewById(R.id.et_psw);        //返回键的点击事件        tv_back.setOnClickListener(new View.OnClickListener() {            @Override            public void onClick(View v) {                //登录界面销毁                LoginActivity.this.finish();            }        });        //立即注册控件的点击事件        tv_register.setOnClickListener(new View.OnClickListener() {            @Override            public void onClick(View v) {                //为了跳转到注册界面，并实现注册功能                Intent intent=new Intent(LoginActivity.this,RegisterActivity.class);                startActivityForResult(intent, 1);            }        });        //找回密码控件的点击事件        tv_find_psw.setOnClickListener(new View.OnClickListener() {            @Override            public void onClick(View v) {                //跳转到找回密码界面（此页面暂未创建）                /*Intent intent=new Intent(LoginActivity.this,FindPwdActivity.class);                startActivity(intent);*/            }        });        //登录按钮的点击事件        btn_login.setOnClickListener(new View.OnClickListener() {            @Override            public void onClick(View v) {                //开始登录，获取用户名和密码 getText().toString().trim();                userName=et_user_name.getText().toString().trim();                psw=et_psw.getText().toString().trim();                //对当前用户输入的密码进行MD5加密再进行比对判断, MD5Utils.md5( ); psw 进行加密判断是否一致                String md5Psw= MD5Utils.md5(psw);                // md5Psw ; spPsw 为 根据从SharedPreferences中用户名读取密码                // 定义方法 readPsw为了读取用户名，得到密码                spPsw=readPsw(userName);                // TextUtils.isEmpty                if(TextUtils.isEmpty(userName)){                    Toast.makeText(LoginActivity.this, "请输入用户名", Toast.LENGTH_SHORT).show();                    return;                }else if(TextUtils.isEmpty(psw)){                    Toast.makeText(LoginActivity.this, "请输入密码", Toast.LENGTH_SHORT).show();                    return;                    // md5Psw.equals(); 判断，输入的密码加密后，是否与保存在SharedPreferences中一致                }else if(md5Psw.equals(spPsw)){                    //一致登录成功                    Toast.makeText(LoginActivity.this, "登录成功", Toast.LENGTH_SHORT).show();                    //保存登录状态，在界面保存登录的用户名 定义个方法 saveLoginStatus boolean 状态 , userName 用户名;                    saveLoginStatus(true, userName);                    //登录成功后关闭此页面进入主页                    Intent data=new Intent();                    //datad.putExtra( ); name , value ;                    data.putExtra("isLogin",true);                    data.putExtra("userName",userName);                    //RESULT_OK为Activity系统常量，状态码为-1                    // 表示此页面下的内容操作成功将data返回到上一页面，如果是用back返回过去的则不存在用setResult传递data值                    setResult(RESULT_OK,data);                    //销毁登录界面                    LoginActivity.this.finish();                    //跳转到主界面，登录成功的状态传递到 MainActivity 中                    //startActivity(new Intent(LoginActivity.this, MainActivity.class));                    return;                }else if((spPsw!=null&amp;&amp;!TextUtils.isEmpty(spPsw)&amp;&amp;!md5Psw.equals(spPsw))){                    Toast.makeText(LoginActivity.this, "输入的用户名和密码不一致", Toast.LENGTH_SHORT).show();                    return;                }else{                    Toast.makeText(LoginActivity.this, "此用户名不存在", Toast.LENGTH_SHORT).show();                }            }        });    }</code></pre><h2 id="从SharedPreferences中根据用户名读取密码"><a href="#从SharedPreferences中根据用户名读取密码" class="headerlink" title="从SharedPreferences中根据用户名读取密码"></a>从SharedPreferences中根据用户名读取密码</h2><pre><code>/**     *从SharedPreferences中根据用户名读取密码     */    private String readPsw(String userName){        //getSharedPreferences("loginInfo",MODE_PRIVATE);        //"loginInfo",mode_private; MODE_PRIVATE表示可以继续写入        SharedPreferences sp=getSharedPreferences("loginInfo", MODE_PRIVATE);        //sp.getString() userName, "";        return sp.getString(userName , "");    }</code></pre><h2 id="保存登录状态到SharedPreferences中"><a href="#保存登录状态到SharedPreferences中" class="headerlink" title="保存登录状态到SharedPreferences中"></a>保存登录状态到SharedPreferences中</h2><p>由于在后续创建主界面时，需要根据登录状态来设置界面的图标和用户名，因此需要创建saveLogiinStatus()方法，在登录成功后吧登录状态和用户名保存到SharedPrefereces中。</p><pre><code>private void saveLoginStatus(boolean status,String userName){        //saveLoginStatus(true, userName);        //loginInfo表示文件名  SharedPreferences sp=getSharedPreferences("loginInfo", MODE_PRIVATE);        SharedPreferences sp=getSharedPreferences("loginInfo", MODE_PRIVATE);        //获取编辑器        SharedPreferences.Editor editor=sp.edit();        //存入boolean类型的登录状态        editor.putBoolean("isLogin", status);        //存入登录状态时的用户名        editor.putString("loginUserName", userName);        //提交修改        editor.commit();    }</code></pre><h2 id="获取回传数据"><a href="#获取回传数据" class="headerlink" title="获取回传数据"></a>获取回传数据</h2><p>重写onActivityResult()方法，通过data.getStringExtra()方法获取注册成功的一个用户名，并将其显示在用户名控件上。</p><p>重写类方法的便捷操作：</p><p>选择菜单Code-&gt;Override Methods 或者按快捷键Ctrl+o，然后输入方法名onActivityResult，Android Studio会智能查找到，按回车自动把冲写代码加入。</p><pre><code>/**     * 注册成功的数据返回至此     * @param requestCode 请求码     * @param resultCode 结果码     * @param data 数据     */    @Override    //显示数据， onActivityResult    //startActivityForResult(intent, 1); 从注册界面中获取数据    //int requestCode , int resultCode , Intent data    // LoginActivity -&gt; startActivityForResult -&gt; onActivityResult();    protected void onActivityResult(int requestCode, int resultCode, Intent data) {        //super.onActivityResult(requestCode, resultCode, data);        super.onActivityResult(requestCode, resultCode, data);        if(data!=null){            //是获取注册界面回传过来的用户名            // getExtra().getString("***");            String userName=data.getStringExtra("userName");            if(!TextUtils.isEmpty(userName)){                //设置用户名到 et_user_name 控件                et_user_name.setText(userName);                //et_user_name控件的setSelection()方法来设置光标位置                et_user_name.setSelection(userName.length());            }        }    }</code></pre><h2 id="LoginActivity-完整代码如下"><a href="#LoginActivity-完整代码如下" class="headerlink" title="LoginActivity 完整代码如下"></a>LoginActivity 完整代码如下</h2><pre><code>package cn.edu.gdmec.android.boxuegu.activity;import android.content.Intent;import android.content.SharedPreferences;import android.content.pm.ActivityInfo;import android.os.Bundle;import android.support.v7.app.AppCompatActivity;import android.text.TextUtils;import android.view.View;import android.widget.Button;import android.widget.EditText;import android.widget.TextView;import android.widget.Toast;import cn.edu.gdmec.android.boxuegu.R;import cn.edu.gdmec.android.boxuegu.utils.MD5Utils;public class LoginActivity extends AppCompatActivity {    //标题    private TextView tv_main_title;    //返回键,显示的注册，找回密码    private TextView tv_back,tv_register,tv_find_psw;    //登录按钮    private Button btn_login;    //获取的用户名，密码，加密密码    private String userName,psw,spPsw;    //用户名和密码的输入框    private EditText et_user_name,et_psw;    @Override    protected void onCreate(Bundle savedInstanceState){        super.onCreate(savedInstanceState);        setContentView(R.layout.activity_login);        //设置此界面为竖屏        setRequestedOrientation(ActivityInfo.SCREEN_ORIENTATION_PORTRAIT);        init();    }    //获取界面控件    private void init() {        //从main_title_bar中获取的id        tv_main_title=findViewById(R.id.tv_main_title);        tv_main_title.setText("登录");        tv_back=findViewById(R.id.tv_back);        //从activity_login.xml中获取的        tv_register=findViewById(R.id.tv_register);        tv_find_psw=findViewById(R.id.tv_find_psw);        btn_login=findViewById(R.id.btn_login);        et_user_name=findViewById(R.id.et_user_name);        et_psw=findViewById(R.id.et_psw);        //返回键的点击事件        tv_back.setOnClickListener(new View.OnClickListener() {            @Override            public void onClick(View v) {                //登录界面销毁                LoginActivity.this.finish();            }        });        //立即注册控件的点击事件        tv_register.setOnClickListener(new View.OnClickListener() {            @Override            public void onClick(View v) {                //为了跳转到注册界面，并实现注册功能                Intent intent=new Intent(LoginActivity.this,RegisterActivity.class);                startActivityForResult(intent, 1);            }        });        //找回密码控件的点击事件        tv_find_psw.setOnClickListener(new View.OnClickListener() {            @Override            public void onClick(View v) {                //跳转到找回密码界面（此页面暂未创建）                /*Intent intent=new Intent(LoginActivity.this,FindPwdActivity.class);                startActivity(intent);*/            }        });        //登录按钮的点击事件        btn_login.setOnClickListener(new View.OnClickListener() {            @Override            public void onClick(View v) {                //开始登录，获取用户名和密码 getText().toString().trim();                userName=et_user_name.getText().toString().trim();                psw=et_psw.getText().toString().trim();                //对当前用户输入的密码进行MD5加密再进行比对判断, MD5Utils.md5( ); psw 进行加密判断是否一致                String md5Psw= MD5Utils.md5(psw);                // md5Psw ; spPsw 为 根据从SharedPreferences中用户名读取密码                // 定义方法 readPsw为了读取用户名，得到密码                spPsw=readPsw(userName);                // TextUtils.isEmpty                if(TextUtils.isEmpty(userName)){                    Toast.makeText(LoginActivity.this, "请输入用户名", Toast.LENGTH_SHORT).show();                    return;                }else if(TextUtils.isEmpty(psw)){                    Toast.makeText(LoginActivity.this, "请输入密码", Toast.LENGTH_SHORT).show();                    return;                    // md5Psw.equals(); 判断，输入的密码加密后，是否与保存在SharedPreferences中一致                }else if(md5Psw.equals(spPsw)){                    //一致登录成功                    Toast.makeText(LoginActivity.this, "登录成功", Toast.LENGTH_SHORT).show();                    //保存登录状态，在界面保存登录的用户名 定义个方法 saveLoginStatus boolean 状态 , userName 用户名;                    saveLoginStatus(true, userName);                    //登录成功后关闭此页面进入主页                    Intent data=new Intent();                    //datad.putExtra( ); name , value ;                    data.putExtra("isLogin",true);                    data.putExtra("userName",userName);                    //RESULT_OK为Activity系统常量，状态码为-1                    // 表示此页面下的内容操作成功将data返回到上一页面，如果是用back返回过去的则不存在用setResult传递data值                    setResult(RESULT_OK,data);                    //销毁登录界面                    LoginActivity.this.finish();                    //跳转到主界面，登录成功的状态传递到 MainActivity 中                    //startActivity(new Intent(LoginActivity.this, MainActivity.class));                    return;                }else if((spPsw!=null&amp;&amp;!TextUtils.isEmpty(spPsw)&amp;&amp;!md5Psw.equals(spPsw))){                    Toast.makeText(LoginActivity.this, "输入的用户名和密码不一致", Toast.LENGTH_SHORT).show();                    return;                }else{                    Toast.makeText(LoginActivity.this, "此用户名不存在", Toast.LENGTH_SHORT).show();                }            }        });    }    /**     *从SharedPreferences中根据用户名读取密码     */    private String readPsw(String userName){        //getSharedPreferences("loginInfo",MODE_PRIVATE);        //"loginInfo",mode_private; MODE_PRIVATE表示可以继续写入        SharedPreferences sp=getSharedPreferences("loginInfo", MODE_PRIVATE);        //sp.getString() userName, "";        return sp.getString(userName , "");    }    /**     *保存登录状态和登录用户名到SharedPreferences中     */    private void saveLoginStatus(boolean status,String userName){        //saveLoginStatus(true, userName);        //loginInfo表示文件名  SharedPreferences sp=getSharedPreferences("loginInfo", MODE_PRIVATE);        SharedPreferences sp=getSharedPreferences("loginInfo", MODE_PRIVATE);        //获取编辑器        SharedPreferences.Editor editor=sp.edit();        //存入boolean类型的登录状态        editor.putBoolean("isLogin", status);        //存入登录状态时的用户名        editor.putString("loginUserName", userName);        //提交修改        editor.commit();    }    /**     * 注册成功的数据返回至此     * @param requestCode 请求码     * @param resultCode 结果码     * @param data 数据     */    @Override    //显示数据， onActivityResult    //startActivityForResult(intent, 1); 从注册界面中获取数据    //int requestCode , int resultCode , Intent data    // LoginActivity -&gt; startActivityForResult -&gt; onActivityResult();    protected void onActivityResult(int requestCode, int resultCode, Intent data) {        //super.onActivityResult(requestCode, resultCode, data);        super.onActivityResult(requestCode, resultCode, data);        if(data!=null){            //是获取注册界面回传过来的用户名            // getExtra().getString("***");            String userName=data.getStringExtra("userName");            if(!TextUtils.isEmpty(userName)){                //设置用户名到 et_user_name 控件                et_user_name.setText(userName);                //et_user_name控件的setSelection()方法来设置光标位置                et_user_name.setSelection(userName.length());            }        }    }}</code></pre><p>回顾包结构哦~</p><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="/images/10.png" alt="10"></p><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="/images/11.png" alt="11"></p><h2 id="挑战任务-1"><a href="#挑战任务-1" class="headerlink" title="挑战任务"></a>挑战任务</h2><p>检验登录和注册模块。<br>请修改MainActivity和LoginActivity，欢迎界面调转入主界面后，自动跳转入登录界面，登录成功后，返回主界面，在主界面的Hello World位置显示：用户名+“登录成功”。</p><h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>这是走好Android的第二步！</p><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
      
      
      <categories>
          
          <category> 教育系统APP </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 教育系统APP </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>教育系统APP(一)</title>
      <link href="/2018/04/21/1/"/>
      <url>/2018/04/21/1/</url>
      
        <content type="html"><![CDATA[<h2 id="AndroidStudio制作欢迎界面与应用图标-amp-Android-如何显示版本号并制作3秒跳转页"><a href="#AndroidStudio制作欢迎界面与应用图标-amp-Android-如何显示版本号并制作3秒跳转页" class="headerlink" title="AndroidStudio制作欢迎界面与应用图标 &amp; Android-如何显示版本号并制作3秒跳转页"></a>AndroidStudio制作欢迎界面与应用图标 &amp; Android-如何显示版本号并制作3秒跳转页</h2><p>本项目使用Android Studio 3.0.1作为开发工具，完成第一个任务。今天做点击APP，进入欢迎界面，三秒后跳转主页，显示Helloworld，即可大功告成。点击APP的应用图标需要更换，不许使用系统默认图标。</p><a id="more"></a><h2 id="欢迎界面与应用图标，显示版本号并制作3秒跳转页"><a href="#欢迎界面与应用图标，显示版本号并制作3秒跳转页" class="headerlink" title="欢迎界面与应用图标，显示版本号并制作3秒跳转页"></a>欢迎界面与应用图标，显示版本号并制作3秒跳转页</h2><ol><li>学习目标<br>掌握欢迎界面与应用图标以及显示版本号并制作3秒跳转页的效果功能。</li></ol><p>包结构：</p><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="/images/5.png" alt="5"></p><p>需要创建一个 SplashActivity.java 的类，和一个 activity_splash.xml 的布局文件。</p><p>需要两种图片 app_icon.png 以及 launch_bg.png ,把它们放入到 drawable 文件夹中。</p><h2 id="activity-splash-xml"><a href="#activity-splash-xml" class="headerlink" title="activity_splash.xml"></a>activity_splash.xml</h2><p>创建了一个activity_splash.xml布局文件，为欢迎界面布局，首先修改为 RelativeLayout 布局</p><pre><code>&lt;?xml version="1.0" encoding="utf-8"?&gt;&lt;!--添加一张欢迎界面的背景--&gt;&lt;RelativeLayout    xmlns:android="http://schemas.android.com/apk/res/android"    android:layout_width = "match_parent"    android:layout_height="match_parent"    android:background="@drawable/launch_bg"&gt;    &lt;!--显示版本号--&gt;    &lt;TextView        android:id="@+id/tv_version"        android:layout_width="wrap_content"        android:layout_height="wrap_content"        android:textColor="@android:color/white"        android:textSize="14sp"        android:layout_centerInParent="true"/&gt;&lt;/RelativeLayout&gt;</code></pre><h2 id="SplashActivity-java"><a href="#SplashActivity-java" class="headerlink" title="SplashActivity.java"></a>SplashActivity.java</h2><p>创建 SplashActivity.java 类，欢迎界面实现类</p><pre><code>package cn.edu.gdmec.android.boxuegu;import android.content.Intent;import android.content.pm.ActivityInfo;import android.content.pm.PackageInfo;import android.content.pm.PackageManager;import android.os.Bundle;import android.support.v7.app.AppCompatActivity;import android.widget.TextView;import java.util.Timer;import java.util.TimerTask;public class SplashActivity extends AppCompatActivity {    @Override    protected void onCreate(Bundle savedInstanceState) {        super.onCreate(savedInstanceState);        setContentView(R.layout.activity_splash);        //设置此界面为        // 竖屏        setRequestedOrientation(ActivityInfo.SCREEN_ORIENTATION_PORTRAIT);        init();    }    private void init() {        TextView tv_version = findViewById(R.id.tv_version);        try {            PackageInfo packageInfo = getPackageManager().getPackageInfo(getPackageName(),0);            tv_version.setText("version:"+packageInfo.versionName);        } catch (PackageManager.NameNotFoundException e) {            e.printStackTrace();            tv_version.setText("version");        }        //利用timer让此界面延迟3秒后跳转，timer有一个线程，该线程不断执行task        Timer timer = new Timer();        TimerTask timerTask = new TimerTask() {            @Override            public void run() {                //发送intent实现页面跳转，第一个参数为当前页面的context，第二个参数为要跳转的主页                Intent intent = new Intent(SplashActivity.this,MainActivity.class);                startActivity(intent);                //跳转后关闭当前欢迎页面                SplashActivity.this.finish();            }        };        //调度执行timerTask，第二个参数传入延迟时间（毫秒）        timer.schedule(timerTask,3000);    }}</code></pre><h2 id="AndroidManifest-xml"><a href="#AndroidManifest-xml" class="headerlink" title="AndroidManifest.xml"></a>AndroidManifest.xml</h2><p>在清单文件 AndroidManifest.xml 中配置欢迎界面，将应用入口修改为欢迎界面，再去除 ActionBar 效果</p><pre><code>&lt;?xml version="1.0" encoding="utf-8"?&gt;&lt;manifest xmlns:android="http://schemas.android.com/apk/res/android"    package="cn.edu.gdmec.android.boxuegu"&gt;    &lt;!--原为android:theme="@style/AppTheme"--&gt;    &lt;!--去除ActionBar标题栏--&gt;    &lt;!--添加应用图标，app_icon--&gt;    &lt;application        android:allowBackup="true"        android:icon="@drawable/app_icon"        android:label="@string/app_name"        android:roundIcon="@mipmap/ic_launcher_round"        android:supportsRtl="true"        android:theme="@style/Theme.AppCompat.NoActionBar"&gt;        &lt;activity android:name=".SplashActivity"&gt;            &lt;intent-filter&gt;                &lt;action android:name="android.intent.action.MAIN" /&gt;                &lt;category android:name="android.intent.category.LAUNCHER" /&gt;            &lt;/intent-filter&gt;        &lt;/activity&gt;        &lt;!--添加实现类--&gt;        &lt;activity android:name=".MainActivity"&gt;&lt;/activity&gt;    &lt;/application&gt;&lt;/manifest&gt;</code></pre><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
      
      
      <categories>
          
          <category> 教育系统APP </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 教育系统APP </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Android开发工程师文集-Android知识点讲解</title>
      <link href="/2018/04/18/1/"/>
      <url>/2018/04/18/1/</url>
      
        <content type="html"><![CDATA[<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>Android开发工程师文集-Android知识点讲解-记录美好生活</p><a id="more"></a><h2 id="WebView讲解"><a href="#WebView讲解" class="headerlink" title="WebView讲解"></a>WebView讲解</h2><p>一般通过Intent调用系统的浏览器：</p><pre><code>Uri uri = Uri.parse(url);Intent intent = new Intent(Intent.ACTION_VIEW,uri);startActivity(intent);</code></pre><p>什么是WebView，其实单词的字面理解就可以了，可以知道Android中提供了这个元素来显示页面。</p><p>接下来，需要你创建布局文件，关于WebView的即可：</p><pre><code>&lt;WebView android:id="@+id/WebView" android:layout_width="match_parent" android:layout_height="match_parent"&lt;/WebView&gt;</code></pre><p>如果用到WebView，就要用到loadUrl()的方法来进行调用，加载我们所需的页面。这个方法可以调用web资源，也可以调用本地我们直接写好的资源。</p><pre><code>1. webView.loadUrl("http://janshu.com");2. webView.loadUrl("本地资源");3. webView.requestFocus();</code></pre><p>这个是什么意思呢，表示直接打开</p><blockquote><p>webView.setWebViewClient(new WebViewClient());</p></blockquote><pre><code>public boolean shouldOverrideUrlLoading(WebView view,String url){ view.loadUrl(url); return true;}</code></pre><p>使用Javascript打开</p><pre><code>WebView webView = findViewById(R.id.webview);WebSttings webSettings = webView.getSettings();webSettings.setJavaScriptEnabled(true);</code></pre><p>了解一下onKeyDown()的方法,进行退出程序：</p><pre><code>public boolean onKeyDown(int keyCode, keyEvent event){ if(keyCode==KeyEvent.KEYCODE_BACK){  if(webView.canGoBack()){   webView.goBack();   return true;  }  else  {    System.exit(0);//退出程序   }  } return super.onKeyDown(keyCode, event);}</code></pre><p>用下面的来显示加载过程：</p><blockquote><p>setWebChromeClient()-&gt;new WebChromeClient()</p></blockquote><h2 id="ProgressDialog"><a href="#ProgressDialog" class="headerlink" title="ProgressDialog"></a>ProgressDialog</h2><p>开启进度条的显示：</p><pre><code>private void openDialog(int newProgress){ if(dialog==null){  dialog=new ProgressDialog(MainActivity.this);  dialog.setProgressStyle(ProgressDialog.STYLE_HORIZONTL);  dialog.setProgress(newProgress);  dialog.show();  }   else{    dialog.setProgress(newProgress);}</code></pre><p>关闭进度条：</p><pre><code>private void closeDialog(){ if(dialog!=null&amp;&amp;dialog.isShowing()){  dialog.dismiss();  dialog=null;  }}</code></pre><h2 id="Fragment"><a href="#Fragment" class="headerlink" title="Fragment"></a>Fragment</h2><pre><code>FragmentManager fragmentManager = getFragmentManager();FragementTransaction beginTransaction = fragmentManager.beginTransaction();</code></pre><p>动态是最常用的，可以通过add(),remove(),replace(),commit(),addToBackStack()的方法处理Fragment</p><h2 id="Fragment的生命周期"><a href="#Fragment的生命周期" class="headerlink" title="Fragment的生命周期"></a>Fragment的生命周期</h2><p>它的生命周期会受到Activity的影响</p><p>启动Fragment:</p><blockquote><p>onAttach()-&gt;onCreate()-&gt;onCreateView()-&gt;onActivityCreated()-&gt;onStart()-&gt;onResume()</p></blockquote><p>关掉：</p><blockquote><p>onAttach()-&gt;onCreate()-&gt;onCreateView()-&gt;onActivityCreated()-&gt;onStart()-&gt;onResume()<br>onPause()-&gt;onStop()</p></blockquote><p>重启：</p><blockquote><p>onAttach()-&gt;onCreate()-&gt;onCreateView()-&gt;onActivityCreated()-&gt;onStart()-&gt;onResume()<br>onPause()-&gt;onStop()<br>onStart()-&gt;onResume()</p></blockquote><p>启动第二个Fragment:</p><blockquote><p>onPause()-&gt;onStop()-&gt;onDestroyView()-&gt;onDestroy()-&gt;onDetach()-&gt;onAttach()-&gt;onCreate()-&gt;onCreateView()-&gt;onActivityCreated()-&gt;onStart()-&gt;onResume()</p></blockquote><h2 id="顶部导航"><a href="#顶部导航" class="headerlink" title="顶部导航"></a>顶部导航</h2><p>ViewPager</p><pre><code>&lt;android.support.v4.view.ViewPager  android:id="@+id/pager" android:layout_height="wrap_content" android:layout_width="wrap_content" android:layout_gravity="center"/&gt;</code></pre><p>如果觉得不错，那就点个赞吧！❤️</p><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
      
      
      <categories>
          
          <category> Android开发工程师文集 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Android开发工程师文集 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Android开发工程师文集-Activity生命周期，启动方式，Intent相关介绍，Activity详细讲解</title>
      <link href="/2018/04/11/1/"/>
      <url>/2018/04/11/1/</url>
      
        <content type="html"><![CDATA[<p>作为一个Activity，就是一个界面，当我们在手机上打开一个APP时，你看到的页面就是基于Activity生成的。</p><a id="more"></a><h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><h2 id="Activity是什么"><a href="#Activity是什么" class="headerlink" title="Activity是什么"></a>Activity是什么</h2><p>作为一个Activity，就是一个界面，当我们在手机上打开一个APP时，你看到的页面就是基于Activity生成的。</p><p>那么你再点击一个按钮跳转到另一个界面时，就是又一个Activity界面，由Activity可以分出很多的知识点。</p><p>如，Activity的生命周期，activity的启动方式，还有如果两个activity的数据交互，就是页面和页面之间的数据交互，如，你在另一个界面上输入的数据，保存到另一个页面上，进行显示效果；activity的启动相关知识。</p><h2 id="activity生命周期逻辑"><a href="#activity生命周期逻辑" class="headerlink" title="activity生命周期逻辑"></a>activity生命周期逻辑</h2><p>首先调用onCreate()的方法来创建一个Activity，然后调用onStart()的方法和onResume()的方法，我们才能看到创建的界面。<br>如：activity -&gt; onCreate()-onStart()-onResume()<br>凡是调用完这三个方法，才能看见页面即是activity。</p><pre><code>@Overrideprotected void onCreate(Bundle savedInstanceState){ super.onCreate(savedInstanceState); setContentView(R.layout.activity_main);}@Overrideprotected void onStart(){ super.onStart();}@Overrideprotected void onResume(){ super.onResume();}</code></pre><pre><code>@Overrideprotected void onRestart(){ super.onRestart();}@Overrideprotected void onPause(){ super.onPause();}@Overrideprotected void onStop(){ super.onStop();}@Overrideprotected void onDestroy(){ super.onDestroy();}</code></pre><p>如果点击back，就是手机上有个返回键，回退，那么会启动那些方法呢，答，会启动 onPause()-&gt;onStop()-&gt;onDestroy()方法。然后你打开的界面就会退回你打开界面时之前的效果，就是返回到你没点击APP手机页面效果。</p><p><strong>整个启动到退回(从创建到销毁)：</strong><br>onCreate()-&gt;Created-&gt;onStart()-&gt;Started-&gt;onResume()-&gt;Resumed-&gt;onPause()-&gt;Paused-&gt;onStop()-&gt;Stopped-&gt;onDestroy()-&gt;Destroyed</p><blockquote><p>onCreate()-&gt;onStart()-&gt;onResume()-&gt;onPause()-&gt;onStop()-&gt;onDestory()</p></blockquote><ul><li>可见状态：onCreate()-&gt;onStart()-&gt;onResume()</li><li>不可见状态：onPause()-&gt;onStop()</li><li>销毁状态：onDestory()</li></ul><h2 id="从一个页面跳转到另一个页面"><a href="#从一个页面跳转到另一个页面" class="headerlink" title="从一个页面跳转到另一个页面"></a>从一个页面跳转到另一个页面</h2><p>两个activity进行交互，周期是怎么样的呢，交互就是一个页面跳转到另一个页面效果。</p><p><strong>调用了哪些方法：</strong><br>MainActivity onCreate()-&gt;MainActivity onStart()-&gt;MainActivity onResume()-&gt;MainActivity() onPause()-&gt;SecondActivity onCreate()-&gt;SecondActivity onStart()-&gt;SecondActivity onReume()-&gt;MainActivity onStop()</p><p><strong>这样更看得懂了哦~</strong><br>MainActivity onCreate()-&gt;MainActivity onStart()-&gt;MainActivity onResume()<br>MainActivity() onPause()<br>SecondActivity onCreate()-&gt;SecondActivity onStart()-&gt;SecondActivity onReume()<br>MainActivity onStop()</p><blockquote><p>如果显示第二个页面，再点击back，那么就会回到第一个界面了。</p></blockquote><p><strong>那么这个过程调用了什么方法：</strong><br>SecondActivity onPause()-&gt;MainActivity onRestart()-&gt;MainActivity onStart()-&gt;MainActivity onResume()-&gt;SecondActivity onStop()-&gt;SecondActivity onDestroy()</p><p><strong>这样更看得懂了哦~</strong><br>MainActivity onCreate()-&gt;MainActivity onStart()-&gt;MainActivity onResume()<br>MainActivity() onPause()<br>SecondActivity onCreate()-&gt;SecondActivity onStart()-&gt;SecondActivity onReume()<br>MainActivity onStop()<br>SecondActivity onPause()<br>MainActivity onRestart()-&gt;MainActivity onStart()-&gt;MainActivity onResume()<br>SecondActivity onStop()-&gt;SecondActivity onDestroy()</p><p>在这里你会注意到 onPause() 这个方法，当跳转到别的界面的时候，会先调用onPause()的方法，MainActivity跳转到SecondActivity时会先调用 MainActivity onPause()的方法，那么SecondActivity跳转到MainActivity的时候回用 SecondActivity onPause()的方法。</p><p>问：如果在这里你会问 onRestart()的这个方法，你这个靠英语理解一下就可知道的，重新启动，那么会问为什么不onCreate()的方法，因为MainActivity()的这个已经创建了，所以就不用而用onRestart()的方法。</p><blockquote><p>onPause()这个方法是代表停止状态，如果第一个界面跳转另一个界面，先停止第一个界面的状态，这样另一个界面的打开，就会保证了没有第一个界面的如何效果，因为被暂停了嘛。</p></blockquote><blockquote><p>MainActivity onStop()放在 SecondActivity onCreate() 之前会导致什么呢，会出现闪退效果的。onStop()调用，后台运行，不会销毁。</p></blockquote><h2 id="竖屏与横屏周期"><a href="#竖屏与横屏周期" class="headerlink" title="竖屏与横屏周期"></a>竖屏与横屏周期</h2><p>什么是竖屏与横屏周期，就是手机上有横屏看，和竖屏看的效果，周期也是有不一样的。</p><p><strong>调用的方法，由竖屏变化横屏：</strong><br>onCreate()-&gt;onStart()-&gt;onResume()-&gt;onPause()-&gt;onStop()-&gt;onDestory()<br>onCreate()-&gt;onStart()-&gt;onResume()</p><p>竖屏与横屏切换会闪屏效果，这是创建到销毁到创建的效果。</p><h2 id="Activity的启动方式"><a href="#Activity的启动方式" class="headerlink" title="Activity的启动方式"></a>Activity的启动方式</h2><p>一种是直接，一种是匿名。不同的启动方式有什么不同的效果呢。</p><p><strong>直接启动方式：</strong></p><pre><code>Intent intent = new Intent(MainActivity.this,SecondActivity.class):startActivity(intent);</code></pre><p>当使用隐式时，我们需要知道如何处理它。<br> setComponent(ComponentName)</p><h2 id="跳转浏览器"><a href="#跳转浏览器" class="headerlink" title="跳转浏览器"></a>跳转浏览器</h2><pre><code>Intent intent = new Intent();intent.setAction(Intent.ACTION_VIEW);Uri url = Uril.parse("http://jianshu.com");intent.setData(url);startActivity(intent);</code></pre><h2 id="跳转相册"><a href="#跳转相册" class="headerlink" title="跳转相册"></a>跳转相册</h2><pre><code>Intent intent = new Intent();intent.setAction(Intent.ACTION_GET_CONTENT);intent.setType("image/*");startActivity(intent);</code></pre><h2 id="发送信息"><a href="#发送信息" class="headerlink" title="发送信息"></a>发送信息</h2><pre><code>Intent intent = new Intent();intent.setAction(Intent.ACTION_SEND);intent.setType("text/plain");intent.putExtra(Intent.EXTRA_TEXT,"I am a vic"):startActivity(intent);</code></pre><h2 id="打开电话"><a href="#打开电话" class="headerlink" title="打开电话"></a>打开电话</h2><pre><code>Intent intent = new Intent();intent.setAction(Intent.ACTION_VIEW);Uri url=Uri.parse("tel:123456789");intent.setData(url):startActivity(intent);</code></pre><h2 id="Intent相关介绍"><a href="#Intent相关介绍" class="headerlink" title="Intent相关介绍"></a>Intent相关介绍</h2><p>Intent是要执行的操作的抽象描述。</p><p>ACTION_VIEW：显示关于标识符为“1”的人的信息<br>tel：123 - 显示填入给定号码的电话拨号程序<br>type ：数据的显式类型<br>ACTION_ANSWER：处理来电<br>ACTION_BATTERY_LOW：设备电池电量不足<br>ACTION_GET_CONTENT：允许用户选择特定类型的数据并将其返回<br>ACTION_HEADSET_PLUG：插入有线耳机或拔下插头<br>setData：设置数据<br>setAction ：设置要执行的一般操作等。</p><p>如果觉得不错，那就点个赞吧！❤️</p><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
      
      
      <categories>
          
          <category> Android开发工程师文集 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Android开发工程师文集 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Android开发工程师文集-1小时学会Widget小组件开发</title>
      <link href="/2018/04/10/1/"/>
      <url>/2018/04/10/1/</url>
      
        <content type="html"><![CDATA[<p>Web Widget,中文译名被称作是微件,是一小块可以在任意一个基于HTML的Web页面上执行的代码，它的表现形式可能是视频，地图，新闻，小游戏等等。它的根本思想来源于代码复用，通常情况下，Widget的代码形式包含了DHTML,JavaScript以及Adobe Flash。</p><a id="more"></a><h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><h2 id="学会用Widget-小组件"><a href="#学会用Widget-小组件" class="headerlink" title="学会用Widget (小组件)"></a>学会用Widget (小组件)</h2><p>Widget小组件很方便，很快捷，可以个性化，自己定制，相关功能，可以实时更新最新内容。</p><ul><li>Widget布局，Widget配置，AppWidgetProvider与Configuration Activity</li><li>Android Widget</li><li>xml布局类型：AppWidget Provider<pre><code>&lt;appwidget-provider xmlns:android="http://schemas.android.com/apk/res/android"//引用的布局文件android:initialLayout="@layout/widget"android:minHeight="50dp"android:minWidth="100dp"//设置更新时间android:updatePerioMillis="66666666"&gt;&lt;/appwidget-provide&gt;</code></pre><pre><code>public class WidgetProvider extends AppWidgetProvider {@Overridepublic void onDeleted(Context context,int[] appWidgetIds){super.onDeleted(context,appWidgetIds);}@Overridepublic void onDisabled(Context context){super.onDisabled(context);}@Overridepublic void onEnabled(Context context){super.onEnabled(context);}@Overridepublic void onReceive(Context context,Intent intent){super.onReceive(context,intent);}@Overridepublic void onUpdate(Context context,AppWidgetManager appWidgetManager,int[] appWidgetIds){super.onUpdate(context,appWidgetManager,appWidgetIds);}}</code></pre><pre><code>//TimerService extends ServiceTimer timer=new Timer();timer.shedule(new TimerTask(){@Overridepublic void run(){ updateTime();}},0,1000);}//onDestroypublic void onDestroy(){super.onDestroy();timer=null;}//updateTime();private void updateTime(){String time = simpletime.format(new Date());}</code></pre>Widget就是个桌面小组件，有了Widget，我们可以直接在桌面上进行各种操作。</li></ul><h2 id="Widget使用"><a href="#Widget使用" class="headerlink" title="Widget使用"></a>Widget使用</h2><ul><li>AndroidManifest中声明AppWidget</li><li>xml中定义AppWidget配置文件</li><li>layout中定义Widget布局文件</li><li>创建类继承AppWidgetProvider类</li></ul><pre><code>//清单文件中&lt;meta-data   android:name="android.appwidget.provider"   android:resource="@layout/widget_setting"/&gt;</code></pre><pre><code>//onUpdate()重点@Overridepublic void onUpdate(Context context, AppWidgetManager appWidgetManager, int[] appWidgetIds) { super.onUpdate(context, appWidgetManager, appWidgetIds); RemoteViews remoteViews = new RemoteViews(context.getPackageName(), R.layout.layout_widget); //Intent intent = new Intent(); Intent intent = new Intent(); intent.setClass(context, TestWidget.class);  intent.setAction(WIDGET_BTN_ACTION); PendingIntent pendingIntent = PendingIntent.getBroadcast(context, 0, intent, 0); remoteViews.setOnClickPendingIntent(R.id.widget_btn, pendingIntent); appWidgetManager.updateAppWidget(appWidgetIds, remoteViews); } </code></pre><pre><code>//清单文件 &lt;intent-filter&gt;         &lt;action android:name="android.appwidget.action.APPWIDGET_UPDATE" /&gt;         &lt;/intent-filter&gt;         &lt;meta-data android:name="android.appwidget.provider"            android:resource="@xml/widget_provider"/&gt;      </code></pre><h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><ul><li>本文讲了Android开发工程师文集-1 小时学会Widget小组件开发，如果您还有更好地理解，欢迎沟通</li></ul><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
      
      
      <categories>
          
          <category> Android开发工程师文集 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Android开发工程师文集 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>AndroidStudio制作“我”的界面，设置，修改密码，设置密保和找回密码</title>
      <link href="/2018/04/07/1/"/>
      <url>/2018/04/07/1/</url>
      
        <content type="html"><![CDATA[<h2 id="学习目标"><a href="#学习目标" class="headerlink" title="学习目标"></a>学习目标</h2><ol><li>掌握修改密码功能的开发，和实现用户密码的修改；</li><li>掌握设置密保的功能开发，通过密保我们可以找回用户的密码，来保证用户的安全。</li><li>具体布局将不在展示，只说明一些功能模块的实现。<a id="more"></a><h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1>大家好，今天给大家带来<code>AndroidStudio制作“我”的界面，设置，修改密码，设置密保和找回密码</code>的概述，希望你们喜欢<h2 id="学习目标-1"><a href="#学习目标-1" class="headerlink" title="学习目标"></a>学习目标</h2></li><li>掌握修改密码功能的开发，和实现用户密码的修改；</li><li>掌握设置密保的功能开发，通过密保我们可以找回用户的密码，来保证用户的安全。</li><li>具体布局将不在展示，只说明一些功能模块的实现。</li></ol><h2 id="工具类"><a href="#工具类" class="headerlink" title="工具类"></a>工具类</h2><p>对于一个项目来说，项目中将多次用到sharedPreferences共享参数，去存储用户的登录状态或清除登录状态，“我”的界面也要求用到读取用户姓名的方法，所以我们干脆把这三个方法都扔到AnalysisUtils里面吧。</p><p>在Utils包中新建一个Java类，名为AnalysisUtils。</p><pre><code>public class AnalysisUtils {    //读取用户名    public static String readLoginUserName(Context context){        SharedPreferences sharedPreferences = context.getSharedPreferences("loginInfo",Context.MODE_PRIVATE);        String userName=sharedPreferences.getString("loginUserName","");        return userName;    }    //读取登录状态    public static boolean readLoginStatus(Context context){        SharedPreferences sharedPreferences = context.getSharedPreferences("loginInfo",Context.MODE_PRIVATE);        boolean isLogin=sharedPreferences.getBoolean("isLogin",false);        return isLogin;    }    //清除登录状态    public static void cleanLoginStatus(Context context){        SharedPreferences sharedPreferences = context.getSharedPreferences("loginInfo",Context.MODE_PRIVATE);        SharedPreferences.Editor editor = sharedPreferences.edit();        editor.putBoolean("isLogin",false);        editor.putString("loginUserName","");        editor.commit();    }}</code></pre><h2 id="我的界面"><a href="#我的界面" class="headerlink" title="我的界面"></a>我的界面</h2><p>我的界面的头像部分，要实现两个功能：</p><ol><li><p>打开“我”的界面后，要进行判断是否已登录，已登录显示用户名，未登录显示“点击登陆”。</p></li><li><p>头像点击后，会判断是否登录，如果登录了，则跳转到个人资料界面，如果没登录，则跳转到login登录的页面。</p></li></ol><h2 id="完成第一个功能"><a href="#完成第一个功能" class="headerlink" title="完成第一个功能"></a>完成第一个功能</h2><p>onViewCreate()里写个if else判断语句，根据当前登录状态来显示同像下相应的文本。</p><pre><code>if (AnalysisUtils.readLoginStatus(getActivity())){        tv_user_name.setText(AnalysisUtils.readLoginUserName(getActivity()));     }else {        tv_user_name.setText("点击登录");}</code></pre><h2 id="登陆"><a href="#登陆" class="headerlink" title="登陆"></a>登陆</h2><p>未登录时，点击登陆,打开登陆页面后，需要MainActivity更新状态并显示，所以用startActivityForResult()方法打开。</p><p>老样子，用startActivityForResult（）打开，MainActivity就要加上onActivityForResult()方法来执行响应。</p><p>接下来看看相关代码：</p><pre><code>//onActivityResult();    @Override    protected void onActivityResult(int requestCode, int resultCode, Intent data) {        super.onActivityResult(requestCode, resultCode, data);        //判断从LoginActivity传过来登陆状态，并执行响应动作。        if (data!=null){            boolean isLogin=data.getBooleanExtra("isLogin",false);            //从登录活动获得isLogin==true,从设置活动获得isLogin==false，他们的请求码都是1            //之后还可以根据请求码和结果码完成更多需求            if (isLogin){                //0                setSelectStatus(0);            }else {                //我                setSelectStatus(2);            }        }}</code></pre><h2 id="退出清除登陆状态"><a href="#退出清除登陆状态" class="headerlink" title="退出清除登陆状态"></a>退出清除登陆状态</h2><p>连续点击返回两次则退出，两次点击间隔超过2秒则提示再按一次退出。</p><pre><code> protected long exitTime;    //给MainActivity加上退出清除登陆状态的方法。    // 连续点击返回两次则退出，两次点击间隔超过2秒则提示再按一次退出。    @Override    public boolean onKeyDown(int keyCode,KeyEvent event){        if (keyCode == KeyEvent.KEYCODE_BACK &amp;&amp; event.getAction() == KeyEvent.ACTION_DOWN){            if ((System.currentTimeMillis()-exitTime) &gt; 2000){                Toast.makeText(MainActivity.this,"再按一次退出博学谷",Toast.LENGTH_SHORT).show();                exitTime=System.currentTimeMillis();            }else {                this.finish();                if (AnalysisUtils.readLoginStatus(this)){                    AnalysisUtils.cleanLoginStatus(this);                }                System.exit(0);            }            return true;        }        return super.onKeyDown(keyCode,event);}</code></pre><h2 id="设置页面功能模块"><a href="#设置页面功能模块" class="headerlink" title="设置页面功能模块"></a>设置页面功能模块</h2><p>实例化：</p><pre><code>private void initView(){        rl_modify_psw=findViewById(R.id.rl_modify_psw);        rl_security_setting=findViewById(R.id.rl_security_setting);        rl_exit_login=findViewById(R.id.rl_exit_login);        //标题栏        title_bar=findViewById(R.id.title_bar);        tv_back=findViewById(R.id.tv_back);        tv_main_title=findViewById(R.id.tv_main_title);        //给tv_main_title设置个文本，给title_bar加个背景        tv_main_title.setText("设置");        title_bar.setBackgroundColor(Color.parseColor("#30B4FF"));        //添加监听器        tv_back.setOnClickListener(this);        rl_modify_psw.setOnClickListener(this);        rl_security_setting.setOnClickListener(this);        rl_exit_login.setOnClickListener(this);}</code></pre><h2 id="修改密码"><a href="#修改密码" class="headerlink" title="修改密码"></a>修改密码</h2><pre><code>private void initView() {        //标题栏        title_bar=findViewById(R.id.title_bar);        tv_back=findViewById(R.id.tv_back);        tv_main_title=findViewById(R.id.tv_main_title);        //modify        et_original_psw=findViewById(R.id.et_original_psw);        et_new_psw=findViewById(R.id.et_new_psw);        et_new_psw_again=findViewById(R.id.et_new_psw_again);        btn_save=findViewById(R.id.btn_save);        //tv_main_title 修改密码        tv_main_title.setText("修改密码");        //响应        btn_save.setOnClickListener(this);        tv_back.setOnClickListener(this);}</code></pre><pre><code>private void submit() {        String psw=et_original_psw.getText().toString().trim();        String newPsw=et_new_psw.getText().toString().trim();        String again=et_new_psw_again.getText().toString().trim();        if (TextUtils.isEmpty(psw)){            Toast.makeText(this,"请输入原始密码",Toast.LENGTH_SHORT).show();            return;        }else if (!MD5Utils.md5(psw).equals(readPsw())){            Log.i("MD5Utils.md5(psw)",""+MD5Utils.md5(psw));            Log.i("readPsw",""+readPsw());            Toast.makeText(this,"输入的密码与原始密码不一致",Toast.LENGTH_SHORT).show();            return;        }else if (MD5Utils.md5(newPsw).equals(readPsw())){            Toast.makeText(this,"输入的新密码与原始密码不能一致",Toast.LENGTH_SHORT).show();            return;        }else if (TextUtils.isEmpty(psw)){            Toast.makeText(this,"请输入密码",Toast.LENGTH_SHORT).show();            return;        }else if (TextUtils.isEmpty(again)){            Toast.makeText(this,"请再次输入新密码",Toast.LENGTH_SHORT).show();        }else if (!newPsw.equals(again)){            Toast.makeText(this,"再次输入的新密码不一致",Toast.LENGTH_SHORT).show();            return;        }else {            Toast.makeText(this,"新密码设置成功", Toast.LENGTH_SHORT).show();            modifyPsw(newPsw);//            Intent intent=new Intent(ModifyPswActivity.this,LoginActivity.class);            startActivity(intent);            //关闭设置页面            //在submit方法中，密码修改成功之后除了把当前页面关了，还要把设置界面也关了，所以用到instance            SettingActivity.instance.finish();            //关闭修改密码页面            ModifyPswActivity.this.finish();        }}</code></pre><pre><code>//modifypswString md5psw=MD5Utils.md5(newPsw);SharedPreferences sharedPreferences=getSharedPreferences("loginInfo",MODE_PRIVATE);SharedPreferences.Editor editor = sharedPreferences.edit();editor.putString(userName,md5psw);editor.commit();</code></pre><pre><code>//readPswSharedPreferences sharedPreferences=getSharedPreferences("loginInfo",MODE_PRIVATE);String spPsw=sharedPreferences.getString(userName,"");Log.i("username",userName);Log.i("spPsw",spPsw);return spPsw;</code></pre><h2 id="设置密保和找回密码"><a href="#设置密保和找回密码" class="headerlink" title="设置密保和找回密码"></a>设置密保和找回密码</h2><p>主要功能代码：</p><pre><code>  /**     * 保存初始化密码     **/    private void savePsw(String name, String resetPsw){        /*String md5Psw= MD5Utils.md5("123456");        SharedPreferences sharedPreferences = getSharedPreferences("loginInfo",MODE_PRIVATE);        SharedPreferences.Editor editor = sharedPreferences.edit();        editor.putString(name,md5Psw);        editor.commit();*/        String md5Psw = MD5Utils.md5(resetPsw);        SharedPreferences sp = getSharedPreferences("loginInfo", MODE_PRIVATE);        SharedPreferences.Editor editor = sp.edit();        editor.putString(name, md5Psw);        editor.commit();    }    private boolean isExistUserName(String name){        boolean hasUserName=false;        SharedPreferences sharedPreferences=getSharedPreferences("loginInfo",MODE_PRIVATE);        String spPsw=sharedPreferences.getString(name,"");        if (!TextUtils.isEmpty(spPsw)){            hasUserName=true;        }        return hasUserName;    }    /**     * 读取密保     **/    private String readSecurity(String name){        SharedPreferences sharedPreferences=getSharedPreferences("loginInfo",MODE_PRIVATE);        String security=sharedPreferences.getString(name+"_security","");        return security;    }    /**     * 保存密保名字     **/    private void saveSecurity(String validateName) {        SharedPreferences sharedPreferences=getSharedPreferences("loginInfo",MODE_PRIVATE);        SharedPreferences.Editor editor=sharedPreferences.edit();        editor.putString(AnalysisUtils.readLoginUserName(this)+"_security",validateName);        editor.commit();    }</code></pre><p>保存功能代码：</p><pre><code>private void submit() {        // validate        String validateName = et_validate_name.getText().toString().trim();        if ("security".equals(from)) {  //设置密保            if (TextUtils.isEmpty(validateName)) {                Toast.makeText(this, "请输入要验证的姓名", Toast.LENGTH_SHORT).show();                return;            } else {                Toast.makeText(this, "密保设置成功", Toast.LENGTH_SHORT).show();                //保存到                saveSecurity(validateName);                FindPwdActivity.this.finish();                return;            }        }else {            final String name=et_user_name.getText().toString().trim();            String sp_security=readSecurity(name);            if (TextUtils.isEmpty(name)){                Toast.makeText(this,"请输入您的用户名",Toast.LENGTH_SHORT).show();                return;            }else if (!isExistUserName(name)){                Toast.makeText(this,"您输入的用户名不存在",Toast.LENGTH_SHORT).show();                return;            }else if (TextUtils.isEmpty(validateName)){                Toast.makeText(this,"请输入要验证的姓名",Toast.LENGTH_SHORT).show();                return;            }else if (!validateName.equals(sp_security)){                Toast.makeText(this,"输入的密保不正确",Toast.LENGTH_SHORT).show();                return;            }else {                //输入密保正确，重新给用户设置一个密码                tv_reset_psw.setVisibility(View.VISIBLE);                et_reset_psw.setVisibility(View.VISIBLE);                btn_validate.setText("确认");                btn_validate.setOnClickListener(new View.OnClickListener() {                    @Override                    public void onClick(View v) {                        String resetPsw = et_reset_psw.getText().toString().trim();                        //暂时仅验证不为空                        if (!TextUtils.isEmpty(resetPsw)) {                            savePsw(name, resetPsw);                            FindPwdActivity.this.finish();                        } else {                            Toast.makeText(FindPwdActivity.this, "请输入要设置的新密码", Toast.LENGTH_SHORT).show();                        }                    }                });            }        }    }</code></pre><h2 id="修复fragment"><a href="#修复fragment" class="headerlink" title="修复fragment"></a>修复fragment</h2><p>在未登录状态下，点击“点击登录”按钮，登录完成后，应该显示“我”的界面，并且正常显示用户名。</p><pre><code>getSupportFragmentManager().beginTransaction().replace(R.id.main_body,new CourseFragment()).commit();</code></pre><p>把该代码放入到fragment刷新中。</p><p>如果觉得不错，那就点个赞吧！❤️</p><h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><ul><li>本文讲了AndroidStudio制作“我”的界面，设置，修改密码，设置密保和找回密码，界面的布局介绍，如果您还有更好地理解，欢迎沟通</li></ul><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
      
      
      <categories>
          
          <category> Android Studio实战练习V2 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Android Studio实战练习V2 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Android开发工程师文集-layout_weight讲解</title>
      <link href="/2018/04/04/1/"/>
      <url>/2018/04/04/1/</url>
      
        <content type="html"><![CDATA[<p>LinearLayout中的layout_weight属性，先分配控件的尺寸，再分配weight的，如果给控件设置文本信息，那么如果该控件宽度为 <code>wrap_content</code>, 就先排这个文本信息，然后再按weight分配。</p><a id="more"></a><h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><h2 id="Layout-weight的相关代码展示"><a href="#Layout-weight的相关代码展示" class="headerlink" title="Layout_weight的相关代码展示"></a>Layout_weight的相关代码展示</h2><pre><code>&lt;TextView android:layout_width="0dp" android:layout_height="25dp" android:layout_weight="1" android:gravity="center" android:background="#000000"/&gt;&lt;TextView android:layout_width="0dp" android:layout_height="25dp" android:layout_weight="2" android:gravity="center" android:background="#f0f0f0"/&gt;&lt;TextView android:layout_width="0dp" android:layout_height="25dp" android:layout_weight="3" android:gravity="center" android:background="#a3a3a3"/&gt;</code></pre><p>控件占格比例为1:2:3</p><pre><code>android:baselineAligned="false"</code></pre><p>这个属性，表示不基于同一水平面上。</p><h2 id="特性"><a href="#特性" class="headerlink" title="特性"></a>特性</h2><p>LinearLayout中的layout_weight属性，先分配控件的尺寸，再分配weight的，如果给控件设置文本信息，那么如果该控件宽度为 <code>wrap_content</code>, 就先排这个文本信息，然后再按weight分配。</p><p>如果宽度为 <code>match_parent</code> 的话，分配和上述差不多，只是它的比例算法不一样。</p><p><code>weightSum</code> 这个可以设置整个父控件的比例，<code>android:weightSum="3"</code> , 表示为3个分配，那么下面的布局就是分3分，可1:2,2:1等。</p><p>要点：总的宽度减去设置的宽度，进行分配。</p><p>如果觉得不错，那就点个赞吧！❤️</p><h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><ul><li>本文讲了<strong>Android开发工程师文集-layout_weight讲解</strong>，如果您还有更好地理解，欢迎沟通</li></ul><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
      
      
      <categories>
          
          <category> Android开发工程师文集 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Android开发工程师文集 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Android开发工程师文集-相关控件的讲解，五大布局</title>
      <link href="/2018/04/03/1/"/>
      <url>/2018/04/03/1/</url>
      
        <content type="html"><![CDATA[<h2 id="目录"><a href="#目录" class="headerlink" title="目录"></a>目录</h2><ul><li>TextView </li><li>EditText </li><li>AutoCompleteTextView为控件自动显示输入文本时出现的提示信息。</li><li>MultiAutoCompleteTextView</li><li>ToggleButton</li><li>Intent跳转</li><li>四大组件</li><li>CheckBox与RadioButton</li><li>五大布局<a id="more"></a><h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1></li></ul><h2 id="TextView控件"><a href="#TextView控件" class="headerlink" title="TextView控件"></a>TextView控件</h2><p><strong>TextView控件有哪些属性：</strong></p><pre><code>android:id-&gt;控件的idandroid:layout_width-&gt;控件的宽度android:layout_height-&gt;控件的高度android:text-&gt;文本内容android:textSize-&gt;文本的大小android:textColor-&gt;文本的颜色android:background-&gt;控件的背景，可设置颜色或图片</code></pre><h2 id="EditText控件"><a href="#EditText控件" class="headerlink" title="EditText控件"></a>EditText控件</h2><p><strong>EditText控件有哪些属性：</strong></p><pre><code>android:id-&gt;android:layout_width:android:layout_height:android:text:android:textSize:android:textColor:android:background://android:hint-&gt;输入提示android:inputType-&gt;输入的类型</code></pre><h2 id="设置颜色"><a href="#设置颜色" class="headerlink" title="设置颜色"></a>设置颜色</h2><ol><li>在xml中是android:textColor</li><li>在Activity中是setTextColor</li></ol><h2 id="AutoCompleteTextView"><a href="#AutoCompleteTextView" class="headerlink" title="AutoCompleteTextView"></a>AutoCompleteTextView</h2><p>AutoCompleteTextView为控件自动显示输入文本时出现的提示信息。<br>相关属性：<code>android:completionThreshold="2"</code></p><p><strong>示例代码：</strong></p><pre><code>private String[] strings={ "数据1","数据2",....};//初始化控件//需要适配器//初始化数据源//adpter-autocompleteTextViewautocompleteTextView = findViewById(R.id.autocompleteTextView);ArrayAdapter&lt;String&gt; adapter=new ArrayAdapter&lt;String&gt;(this,android.R.layout.simple_list_item_1,strings);autocompleteTextView.setAdapter(adapter);</code></pre><h2 id="MultiAutoCompleteTextView"><a href="#MultiAutoCompleteTextView" class="headerlink" title="MultiAutoCompleteTextView"></a>MultiAutoCompleteTextView</h2><p>主要为可多选择值而已。<br>这里主要用分隔符，可输入多个值</p><pre><code>multiAutoCompleteTextView = findViewById(R.id.multiAutoCompleteTextView);multiAutoCompleteTextView.setAdapter(adapter);</code></pre><p>注意要设置分隔符</p><pre><code>multiAutoCompleteTextView.setTokenizer(new multiAutoCompleteTextView.CommaTokenizer());</code></pre><h2 id="ToggleButton"><a href="#ToggleButton" class="headerlink" title="ToggleButton"></a>ToggleButton</h2><p>这个ToggleButton有两种状态，一种是被选中，一种是没有被选中。</p><p>可以理解为是电灯的开关效果，该属性有：</p><pre><code>android:checked="true"android:textOff="off"android:textOn="on"</code></pre><p>主要实现的方法：</p><pre><code>@Overridepublic void onCheckedChanged(CompoundButton, buttonView, boolean isChecked){ //图片的切换 imgpicture.setBackgroundResource(isChecked?R.drawable.one:R.drawable.two);}</code></pre><h2 id="Intent跳转"><a href="#Intent跳转" class="headerlink" title="Intent跳转"></a>Intent跳转</h2><pre><code>1. startActivity(intent);2. startActivityForResult(intent,requestCode);onActivityResult();//MainActivityonResult();</code></pre><p>接下来只学startActivityForresult():</p><pre><code>Intent intent = new Intent(MainActivity.this,SecondActivity.class);startActivityForResult(intent,1);</code></pre><p>同在MainActivity中创建onActivityResult()方法：<br>接收返回来的数据</p><pre><code>@Overrideprotected void onActivityResult(int requestCode, int resultCode, Intent data){ super.onActivityResult(requestCode, resultCode, data);}</code></pre><p>那么在SecondActivity中创建onResult()的方法：<br>回传Intent的对象，回传数据</p><pre><code>Intent data=new Intent();data.putExtra("data",name);setResult(2,data);</code></pre><p>在MainActivity中的onActivityResult():</p><pre><code>@Overrideprotected void onActivityResult(int requestCode, int resultCode, Intent data){ super.onActivityResult(requestCode, resultCode, data);  if(requestCode == 1 &amp;&amp; resultCode == 2){  String name = data.getStringExtra("data");  tv.setText(name);}</code></pre><h2 id="四大组件"><a href="#四大组件" class="headerlink" title="四大组件"></a>四大组件</h2><p>Android的四大组件</p><ul><li>Activity</li><li>Service</li><li>BroadcastReceiver</li><li>Content Provider</li></ul><p>再次学习一下activity的生命周期</p><ul><li>onCreate();</li><li>onStart();</li><li>onResume();</li><li>onPause();</li><li>onStop();</li><li>onDestroy();</li><li>onRestart();</li></ul><p>activity的四种状态：</p><ol><li>活动状态</li><li>暂停状态</li><li>停止状态</li><li>销毁状态</li></ol><p>一个activity的一生：</p><blockquote><p>onCreate()-&gt;onStart()-&gt;onResume()-&gt;onPause()-&gt;onStop()-&gt;onDestroy()</p></blockquote><p>启动到后台再前台：</p><blockquote><p>onCreate()-&gt;onStart()-&gt;onResume()-&gt;onPause()-&gt;onStop()-&gt;onRestart()-&gt;onStart()-&gt;onResume()</p></blockquote><p>设置个小窗口的启动模式周期：</p><blockquote><p>onResume()为获取焦点<br>onPause()为失去焦点</p></blockquote><blockquote><p>onCreate()-&gt;onStart()-&gt;onResume()-&gt;onPause()-&gt;onResume()</p></blockquote><h2 id="CheckBox与RadioButton"><a href="#CheckBox与RadioButton" class="headerlink" title="CheckBox与RadioButton"></a>CheckBox与RadioButton</h2><pre><code>//核心if(isChecked){ String text = checkBox.getText().toString();}</code></pre><p>这里讲RadioButton,注意RadioGroup就行。</p><pre><code>//核心@Overridepublic void onCheckedChanged(RadioGroup group, int checkedId){ switch(checkedId){ case R.id.button1: break; case R.id.button2: break; default: }}</code></pre><p>当然这里你也可以用RadioButton来监听，但是个人认为RadioGroup比较方便吧！</p><h2 id="五大布局"><a href="#五大布局" class="headerlink" title="五大布局"></a>五大布局</h2><p><strong>LinearLayout：</strong></p><pre><code>android:orientation=""1. vertical2. horizontalandroid:gravity=""center,bottom,left,rightandroid:layout_gravity=""android:layout_weight=""//android:layout_height="match_parent"的比例为反，用android:layout_weight=""的话</code></pre><blockquote><ol><li>layout_gravity调整该布局相对父布局的位置</li><li>gravity是调整该布局中子布局的位置</li><li>水平的LinearLayout要从左边开始依次放置布局</li><li>layout_gravity只有在LinearLayout布局中</li></ol></blockquote><p><strong>RelativeLayout：</strong><br>相对布局，我们只要知道相应的属性就行：</p><pre><code>android:layout_alignParentLeft="true"android:layout_alignParentTop="true"</code></pre><pre><code>android:layout_centerInParent="true"android:layout_centerHorizontal="true"android:layout_centerVertical="true"</code></pre><pre><code>android:layout_marginLeft="50dp"android:layout_marginBottom="50dp"</code></pre><pre><code>android:layout_toRightOf="@+id/button1"android:layout_toLeftOf="@+id/button2"android:layout_below="@+id/button1"//android:layout_alignBaseline="@+id/button1"</code></pre><pre><code>android:gravity=""</code></pre><p>这些根据英文意思就了解了。</p><p><strong>FrameLayout：</strong><br>先放的在下面，都在左上方。</p><p><strong>AbsoluteLayout：</strong></p><blockquote><p>android:layout_x=”50dip”<br>android:layout_y=”50dip”</p></blockquote><p><strong>TableLayout：</strong></p><blockquote><p>TableRow-View</p></blockquote><p>重要的属性：</p><pre><code>//都是从0开始的索引列android:collapseColumns="1,2"//隐藏android:shrinkColumns="1,2"//收缩android:strechColumns="1,2"//拉伸</code></pre><pre><code>android:layout_column="1"//显示在第二列android:layout_span="2"//这个表示一个空间占据两列</code></pre><p>如果觉得不错，那就点个赞吧！❤️</p><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
      
      
      <categories>
          
          <category> Android开发工程师文集 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Android开发工程师文集 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Android开发工程师文集-1 小时学会各种Drawable</title>
      <link href="/2018/03/17/1/"/>
      <url>/2018/03/17/1/</url>
      
        <content type="html"><![CDATA[<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><h2 id="Drawable介绍"><a href="#Drawable介绍" class="headerlink" title="Drawable介绍"></a>Drawable介绍</h2><p>Drawable为抽象类，drawable与view有区别的地方，主要是体现事件和交互性上面。</p><p>view是面向用户的，是可见的控件，能给它添加点击事件。drawable则相反，不能面向，也不可见，也不能添加点击事件。</p><p>drawable有好多子类，drawable为抽象类，所以有很多子类来继承它。</p><h2 id="主要原理方法"><a href="#主要原理方法" class="headerlink" title="主要原理方法"></a>主要原理方法</h2><ul><li>draw()</li><li>setBounds()</li></ul><h2 id="BitmapDrawable-巴特美drawable"><a href="#BitmapDrawable-巴特美drawable" class="headerlink" title="BitmapDrawable 巴特美drawable"></a>BitmapDrawable 巴特美drawable</h2><p>该子类为bitmap的包装，可以保持原图片大小，填充，拉伸。</p><pre><code>&lt;bitmap xmlns:android="http://schemas.android.com/apk/res/android" android:src="@drawable/ic_launcher" android:tileMode="mirror"//平铺 android:antialias="true"//消除锯齿 android:dither="true"&gt;&lt;/bitmap&gt;</code></pre><h2 id="LayerDrawable-勒儿drawable"><a href="#LayerDrawable-勒儿drawable" class="headerlink" title="LayerDrawable 勒儿drawable"></a>LayerDrawable 勒儿drawable</h2><p>该子类就是来管理一组drawable的，第一张图片的放置，那么第二张图片会在第一张图片上，由此依次放置。</p><pre><code>&lt;?xml version="1.0" encoding="utf-8"?&gt;&lt;layer-list xmlns:android="http://schemas.android.com/apk/res/android"&gt; &lt;item android:top="40dp" android:left="40dp" android:src="@drawable/picture_1" android:gravity="center"&gt; &lt;/item&gt; &lt;item android:top="40dp" android:left="40dp" android:src="@drawable/picture_2" android:gravity="center"&gt; &lt;/item&gt;&lt;/layer-list&gt;</code></pre><h2 id="StateListDrawable"><a href="#StateListDrawable" class="headerlink" title="StateListDrawable"></a>StateListDrawable</h2><p>该类StateListDrawable根据不同状态提供不同图片。</p><pre><code>&lt;?xml version="1.0" encoding="utr-8"?&gt;&lt;selector xmlns:android="http://schemas.android.com/apk/res/android"&gt; &lt;item android:state_focused="true" android:drawable="@drawable/botton_1"/&gt; &lt;item android:state_pressed="true" android:drawable="@drawable/botton_2"/&gt; &lt;item android:state_selected="true" android="@drawable/botton_3"/&gt; &lt;item android:drawable="@drawable/botton_4"/&gt;&lt;/selector&gt;</code></pre><h2 id="LevelListDrawable"><a href="#LevelListDrawable" class="headerlink" title="LevelListDrawable"></a>LevelListDrawable</h2><p>该子类有不同的item -setlevel();</p><pre><code>&lt;level-list xmlns:android="http://schemas.android.om/apk/res/android"&gt; &lt;item  android:drawable="@drawable/off"  android:minLevel="5"  android:maxLevel="10"&gt; &lt;/item&gt; &lt;item  android:drawable="@drawable/on"  android:minLevel="10"  android:maxLevel="20"&gt; &lt;/item&gt;&lt;/level-list&gt;</code></pre><pre><code>public void On(View v){ iv.setImageLevel( //int );}</code></pre><h2 id="TransitionDrawable-—-transi-tion-drawable"><a href="#TransitionDrawable-—-transi-tion-drawable" class="headerlink" title="TransitionDrawable — transi tion drawable"></a>TransitionDrawable — transi tion drawable</h2><p>为LayerDrawable的子类，只有两张图片的变化，没有多个图片，LayerDrawable可以有多个item，而transitiondrawable只有两个item。</p><pre><code>&lt;transition xmlns:android="http://schemas.android.com/apk/res/android"&gt; &lt;item android:drawable="@drawable/off"&gt; &lt;/item&gt; &lt;item android:drawable="@drawable/on"&gt; &lt;/item&gt;&lt;/transition&gt;</code></pre><pre><code>public void On(View v){ TransitionDrawable drawable=iv.getDrawable(); //开启 startTransition(); drawable.startTransition(2000);}public void Off(View v){ TranstionDrawable drawable=iv.getDrawable(); //关闭 reverseTransition(); drawable.reverseTransition(2000);}</code></pre><h2 id="InsertDrawable"><a href="#InsertDrawable" class="headerlink" title="InsertDrawable"></a>InsertDrawable</h2><p>InsertDrawable表示嵌入图片==padding</p><pre><code>&lt;inset  xmlns:android="http://schemas.android.com/apk/res/android" android:drawable="@drawable/background" android:insetLeft="50dp" android:insetRight="50dp" android:insetTop="50dp" android:insetBottom="50dp"&gt;&lt;/inset&gt;</code></pre><h2 id="ClipDrawable-可累drawable"><a href="#ClipDrawable-可累drawable" class="headerlink" title="ClipDrawable 可累drawable"></a>ClipDrawable 可累drawable</h2><p>该ClipDrawabel是一种裁剪的形式，如同进度条。</p><pre><code>&lt;clip xmlns:android="http://schemas.android.com/apk/res/android" android:drawable="@drawable/picture" android:clipOrientation="horizontal" android:gravity="left"/&gt;</code></pre><pre><code>ClipDrawable drawable=iv.getDrawable();drawable.setLevel(5000);//范围0-10000；</code></pre><h2 id="DIY的Drawable"><a href="#DIY的Drawable" class="headerlink" title="DIY的Drawable"></a>DIY的Drawable</h2><p>自己动手试试吧<br>梳理：<br>BitmapDrawable,<br>LayerDrawable,<br>StateListDreawable,<br>LevelListDrawable,<br>TransitionDrawable,<br>InsertDrawable,<br>ClipDrawable.</p><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
      
      
      <categories>
          
          <category> Android开发工程师文集 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Android开发工程师文集 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Android开发工程师文集-1 小时学会SQLite</title>
      <link href="/2018/03/16/1/"/>
      <url>/2018/03/16/1/</url>
      
        <content type="html"><![CDATA[<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><h2 id="内容"><a href="#内容" class="headerlink" title="内容"></a>内容</h2><ul><li>什么是Sqlite：<br>效率高，开源，小型，程序驱动，支持事务操作，无数据类型，可嵌入的关系型数据库<br>独立的，跨平台的，代码量少，简单易用</li></ul><p><strong>创建表语句</strong></p><pre><code>create table student(_id Integer primary key, name varchar(10), age Integer not null);</code></pre><p><strong>删除表</strong></p><pre><code>drop table student;</code></pre><p><strong>插入数据</strong></p><pre><code>Insert into 表名(字段列表) values (值列表);insert into student(_id,age) values(1,17);insert into student values(1,"vic",17);</code></pre><p><strong>修改数据</strong></p><pre><code>update student set name="vic",age=17 where _id=1;</code></pre><p><strong>更新数据</strong></p><pre><code>Update 表名 set 字段=值 列表 更新的条件</code></pre><p><strong>删除数据</strong></p><pre><code>delete from 表名 [删除条件];delete from student where _id=1;</code></pre><p><strong>查询语句</strong></p><pre><code>select 字段名 from 表名称 [查询条件];select 列名称 from 表名称 where 条件;group by 分组的字段 having 筛选条件 order by 排序字段;select * from student;select _id from student;select * from student where _id=1;select * from student where _id=1 and age&gt;17;select * from student where age like "%1%";select * from student where age&gt;17 order by _id=1;</code></pre><h2 id="内容-1"><a href="#内容-1" class="headerlink" title="内容"></a>内容</h2><ul><li>创建数据库</li><li>实现数据库中的增删改查</li></ul><h2 id="要点"><a href="#要点" class="headerlink" title="要点"></a>要点</h2><p><code>SQLiteOpenHelper</code>,<code>onCreate()</code>,<code>onUpgrade()</code>,<code>onOpen()</code></p><pre><code>&lt;?xml version="1.0" encoding="utf-8"?&gt;&lt;LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"    android:layout_width="match_parent"    android:layout_height="match_parent"    android:background="@drawable/login_bg"    android:orientation="vertical"&gt; &lt;Button  android:layout_width="wrap_content"  android:layout_height="wrap_content"  android:text="创建"  android:onClick="create"  android:background="#000000"/&gt;&lt;/LinearLayout&gt;</code></pre><pre><code>//MainActivity.javapublic class MainActivity extends AppCompatActivity {  private MySqliteHelper helper; @Override protected void onCreate(Bundle savedInstanceState){ super.onCreate(savedInstanceState); setContentView(R.layout.activity_main); helper = DbManger.getIntance(this); } public void createdb(View view){  SQLiteDatabase db=helper.getWritableDatable(); }}</code></pre><pre><code>//创建一个类//sqliteOpenHelper//提供了onCreate()和onUpgrade()与onOpen()public class MySqliteHelper extends SQLiteOpenHelper{ public MySqliteHelper(Context context, String name, SQLitebase.CursorFactory factory, int version){ super(context,name,factory,version); } public MySqliteHelper(Context context){  super(context,Constant.DATABASE_NAME,null,Constant.DATABASE_VERSION);} //数据库创建时回调 @Override public void onCreate(SQLiteDatabase db){  Log.i("tag","--onCreate--");  //String sql="create table student(_id Integer primary key,name verchar(10),age Integer)";  String sql = "create table "+Constant.TABLE_NAME+"("+Constant._ID+" Integer primary key,"+Constant.NAME+" varchar(10),"+Constant.AGE+" Integer)";  db.execSQL(sql);//执行数据库语句 } //数据库更新 @Override public void onUpgrade(SQLiteDatabase db,int oldVersion, int newVersion){  Log.i("tag","--onUpgrade--"); } //数据库打开 @Override public void onOpen(SQLiteDatabase db){  super.onOpen(db);  Log.i("tag","--onOpen--"); }}</code></pre><pre><code>//创建库表public class Contant{ public static final String DATABASE_NAME=“info.db”;//数据库名称 public static final int DATABASE_VERSION=1;//数据库的版本号 public static final String TABLE_NAME="student";//表名  //用这里表示 public static final String _ID="_id"; public static final String _NAME="name"; public static final String AGE="age";</code></pre><pre><code>public class DbManger{ private static MySqliteHelper helper; public static MySqliteHelper getIntance(Context context){   if(helper == null){     helper=new MySqliteHelper(content);   }   return hepler; }}</code></pre><pre><code>&lt;?xml version="1.0" encoding="utf-8"?&gt;&lt;LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"    android:layout_width="match_parent"    android:layout_height="match_parent"    android:background="@drawable/login_bg"    android:orientation="vertical"&gt; &lt;Button  android:layout_width="wrap_content"  android:layout_height="wrap_content"  android:text="创建"  android:onClick="create"  android:background="#000000"/&gt;&lt;Button  android:id="@+id/btn_insert"  android:layout_width="wrap_content"  android:layout_height="wrap_content"  android:text="插入数据"  android:onClick="click"  android:layout_marginTop="15dp"  android:background="#000000"/&gt;&lt;/LinearLayout&gt;</code></pre><pre><code>//MainActivity.javapublic class MainActivity extends AppCompatActivity {  private MySqliteHelper helper; @Override protected void onCreate(Bundle savedInstanceState){ super.onCreate(savedInstanceState); setContentView(R.layout.activity_main); helper = DbManger.getIntance(this); } public void createdb(View view){  SQLiteDatabase db=helper.getWritableDatable(); } public void click(View view){  switch(view.getId()){   case R.id.btn_insert:    SQLiteDatabase db=helper.getWritableDatabase();    String sql="insert into "+Constant.TABLE_NAME+" values(1,'vic',17)";    DbManger.execSQL(db,sql);    String sql2="insert into "+Constant.TABLE_NAME+" values(2,'vic',23)";    DbManger.execSQL(db,sql2);    db.close();    break; }}</code></pre><pre><code>public class DbManger{ private static MySqliteHelper helper; public static MySqliteHelper getIntance(Context context){   if(helper == null){     helper=new MySqliteHelper(content);   }   return hepler; } public static void execSQL(SQLiteDatabase db,String sql){  if(db!=null){   if(sql!=null &amp;&amp; !"".equals(sql)){     db.execSQL(sql);  } }}</code></pre><pre><code>&lt;?xml version="1.0" encoding="utf-8"?&gt;&lt;LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"    android:layout_width="match_parent"    android:layout_height="match_parent"    android:background="@drawable/login_bg"    android:orientation="vertical"&gt; &lt;Button  android:layout_width="wrap_content"  android:layout_height="wrap_content"  android:text="创建"  android:onClick="create"  android:background="#000000"/&gt;&lt;Button  android:id="@+id/btn_insert"  android:layout_width="wrap_content"  android:layout_height="wrap_content"  android:text="插入数据"  android:onClick="click"  android:layout_marginTop="15dp"  android:background="#000000"/&gt;&lt;Button  android:id="@+id/btn_update"  android:layout_width="wrap_content"  android:layout_height="wrap_content"  android:text="修改数据"  android:onClick="click"  android:layout_marginTop="15dp"  android:background="#000000"/&gt;&lt;/LinearLayout&gt;</code></pre><pre><code>//MainActivity.javapublic class MainActivity extends AppCompatActivity {  private MySqliteHelper helper; @Override protected void onCreate(Bundle savedInstanceState){ super.onCreate(savedInstanceState); setContentView(R.layout.activity_main); helper = DbManger.getIntance(this); } public void createdb(View view){  SQLiteDatabase db=helper.getWritableDatable(); } public void click(View view){  switch(view.getId()){   case R.id.btn_insert:    SQLiteDatabase db=helper.getWritableDatabase();    String sql="insert into "+Constant.TABLE_NAME+" values(1,'vic',17)";    DbManger.execSQL(db,sql);    String sql2="insert into "+Constant.TABLE_NAME+" values(2,'vic',23)";    DbManger.execSQL(db,sql2);    db.close();    break;   case R.id.btn_update:    db=helper.getWritableDatabase();    String updateSql="update "+Constant.TABLE_NAME"+" set "+Contant.NAME+"='vic2' where "+Contant._ID+"=1";    DbManger.execSQL(db,updateSql);    db.close();    break; }}</code></pre><pre><code>&lt;?xml version="1.0" encoding="utf-8"?&gt;&lt;LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"    android:layout_width="match_parent"    android:layout_height="match_parent"    android:background="@drawable/login_bg"    android:orientation="vertical"&gt; &lt;Button  android:layout_width="wrap_content"  android:layout_height="wrap_content"  android:text="创建"  android:onClick="create"  android:background="#000000"/&gt;&lt;Button  android:id="@+id/btn_insert"  android:layout_width="wrap_content"  android:layout_height="wrap_content"  android:text="插入数据"  android:onClick="click"  android:layout_marginTop="15dp"  android:background="#000000"/&gt;&lt;Button  android:id="@+id/btn_update"  android:layout_width="wrap_content"  android:layout_height="wrap_content"  android:text="修改数据"  android:onClick="click"  android:layout_marginTop="15dp"  android:background="#000000"/&gt;&lt;Button  android:id="@+id/btn_delete"  android:layout_width="wrap_content"  android:layout_height="wrap_content"  android:text="删除数据"  android:onClick="click"  android:layout_marginTop="15dp"  android:background="#000000"/&gt;&lt;/LinearLayout&gt;</code></pre><pre><code>//MainActivity.javapublic class MainActivity extends AppCompatActivity {  private MySqliteHelper helper; @Override protected void onCreate(Bundle savedInstanceState){ super.onCreate(savedInstanceState); setContentView(R.layout.activity_main); helper = DbManger.getIntance(this); } public void createdb(View view){  SQLiteDatabase db=helper.getWritableDatable(); } public void click(View view){  switch(view.getId()){   case R.id.btn_insert:    SQLiteDatabase db=helper.getWritableDatabase();    String sql="insert into "+Constant.TABLE_NAME+" values(1,'vic',17)";    DbManger.execSQL(db,sql);    String sql2="insert into "+Constant.TABLE_NAME+" values(2,'vic',23)";    DbManger.execSQL(db,sql2);    db.close();    break;   case R.id.btn_update:    db=helper.getWritableDatabase();    String updateSql="update "+Constant.TABLE_NAME"+" set "+Contant.NAME+"='vic2' where "+Contant._ID+"=1";    DbManger.execSQL(db,updateSql);    db.close();    break;   case R.id.btn_delete:    db=helper.getWritableDatabase();    String delSql="delete from "+Constant.TABLE_NAME+" where "+Constant._ID+"=2";    DbManger.execSQL(db,delSql);    db.close();    break; }}</code></pre><pre><code>&lt;?xml version="1.0" encoding="utf-8"?&gt;&lt;LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"    android:layout_width="match_parent"    android:layout_height="match_parent"    android:background="@drawable/login_bg"    android:orientation="vertical"&gt; &lt;Button  android:layout_width="wrap_content"  android:layout_height="wrap_content"  android:text="创建"  android:onClick="create"  android:background="#000000"/&gt;&lt;Button  android:id="@+id/btn_insert"  android:layout_width="wrap_content"  android:layout_height="wrap_content"  android:text="插入数据"  android:onClick="click"  android:layout_marginTop="15dp"  android:background="#000000"/&gt;&lt;Button  android:id="@+id/btn_update"  android:layout_width="wrap_content"  android:layout_height="wrap_content"  android:text="修改数据"  android:onClick="click"  android:layout_marginTop="15dp"  android:background="#000000"/&gt;&lt;Button  android:id="@+id/btn_delete"  android:layout_width="wrap_content"  android:layout_height="wrap_content"  android:text="删除数据"  android:onClick="click"  android:layout_marginTop="15dp"  android:background="#000000"/&gt;&lt;Button  android:id="@+id/btn_insertApi"  android:layout_width="wrap_content"  android:layout_height="wrap_content"  android:text="插入数据"  android:onClick="onclick"  android:layout_marginTop="15dp"  android:background="#000000"/&gt;&lt;/LinearLayout&gt;</code></pre><pre><code>//MainActivity.javapublic class MainActivity extends AppCompatActivity {  private MySqliteHelper helper; @Override protected void onCreate(Bundle savedInstanceState){ super.onCreate(savedInstanceState); setContentView(R.layout.activity_main); helper = DbManger.getIntance(this); } public void createdb(View view){  SQLiteDatabase db=helper.getWritableDatable(); } public void onClick(View view){  switch(view.getId()){   case R.id.btn_insertApi:    SQLiteDatabase db=helper.getWritableDatabase();    ContentValues values=new ContentValues();    values.put(Constant._ID,3);    values.put(Constant.NAME,"vic");    values.put(Constant.AGE,17);    long result=db.insert(Constant.TABLE_NAME,null,values);    if(result&gt;0){     Toast.makeText(MainActivity.this,"插入数据成功!",Toast.LENGTH_LONG).show();    }else{      Toast.makeText(MainActivity.this,"插入数据失败!",Toast.LENGTH_LONG).show();    }    db.close();    break;   }} public void click(View view){  switch(view.getId()){   case R.id.btn_insert:    SQLiteDatabase db=helper.getWritableDatabase();    String sql="insert into "+Constant.TABLE_NAME+" values(1,'vic',17)";    DbManger.execSQL(db,sql);    String sql2="insert into "+Constant.TABLE_NAME+" values(2,'vic',23)";    DbManger.execSQL(db,sql2);    db.close();    break;   case R.id.btn_update:    db=helper.getWritableDatabase();    String updateSql="update "+Constant.TABLE_NAME"+" set "+Contant.NAME+"='vic2' where "+Contant._ID+"=1";    DbManger.execSQL(db,updateSql);    db.close();    break;   case R.id.btn_delete:    db=helper.getWritableDatabase();    String delSql="delete from "+Constant.TABLE_NAME+" where "+Constant._ID+"=2";    DbManger.execSQL(db,delSql);    db.close();    break; }}</code></pre><pre><code>&lt;Button  android:id="@+id/btn_insertApi"  android:layout_width="wrap_content"  android:layout_height="wrap_content"  android:text="插入数据"  android:onClick="onclick"  android:layout_marginTop="15dp"  android:background="#000000"/&gt;&lt;Button  android:id="@+id/btn_updateApi"  android:layout_width="wrap_content"  android:layout_height="wrap_content"  android:text="更新数据"  android:onClick="onclick"  android:layout_marginTop="15dp"  android:background="#000000"/&gt;</code></pre><pre><code>public void onClick(View view){  switch(view.getId()){   case R.id.btn_insertApi:    SQLiteDatabase db=helper.getWritableDatabase();    ContentValues values=new ContentValues();    values.put(Constant._ID,3);    values.put(Constant.NAME,"vic");    values.put(Constant.AGE,17);    long result=db.insert(Constant.TABLE_NAME,null,values);    if(result&gt;0){     Toast.makeText(MainActivity.this,"插入数据成功!",Toast.LENGTH_LONG).show();    }else{      Toast.makeText(MainActivity.this,"插入数据失败!",Toast.LENGTH_LONG).show();    }    db.close();    break;   case R.id.btn_updateApi:    //String table 修改的数据表的名称,ContentValues values,String whereClause 表示修改条件,String[] whereArgs    db=helper.getWritableDatabase();    //db.update(String table,ContentValues values,String whereClause,String[] whereArgs);    ContentValues cv=new ContentValues();    cv.put(Contant.NAME,"vic3");    int count=db.update(Constant.TABLE_NAME,cv,Contant.TABLE_NAME,cv,Constant._ID+"=?",new String[]{"3"});    if(count&gt;0){     Toast.makeText(MainActivity.this,"插入数据成功!",Toast.LENGTH_LONG).show();    }else{      Toast.makeText(MainActivity.this,"插入数据失败!",Toast.LENGTH_LONG).show();    }    db.close();    break;   }}</code></pre><pre><code>&lt;Button  android:id="@+id/btn_updateApi"  android:layout_width="wrap_content"  android:layout_height="wrap_content"  android:text="更新数据"  android:onClick="onclick"  android:layout_marginTop="15dp"  android:background="#000000"/&gt;</code></pre><pre><code>public void onClick(View view){  switch(view.getId()){   case R.id.btn_insertApi:    SQLiteDatabase db=helper.getWritableDatabase();    ContentValues values=new ContentValues();    values.put(Constant._ID,3);    values.put(Constant.NAME,"vic");    values.put(Constant.AGE,17);    long result=db.insert(Constant.TABLE_NAME,null,values);    if(result&gt;0){     Toast.makeText(MainActivity.this,"插入数据成功!",Toast.LENGTH_LONG).show();    }else{      Toast.makeText(MainActivity.this,"插入数据失败!",Toast.LENGTH_LONG).show();    }    db.close();    break;   case R.id.btn_updateApi:    //String table 修改的数据表的名称,ContentValues values,String whereClause 表示修改条件,String[] whereArgs    db=helper.getWritableDatabase();    //db.update(String table,ContentValues values,String whereClause,String[] whereArgs);    ContentValues cv=new ContentValues();    cv.put(Contant.NAME,"vic3");    int count=db.update(Constant.TABLE_NAME,cv,Contant.TABLE_NAME,cv,Constant._ID+"=?",new String[]{"3"});    if(count&gt;0){     Toast.makeText(MainActivity.this,"插入数据成功!",Toast.LENGTH_LONG).show();    }else{      Toast.makeText(MainActivity.this,"插入数据失败!",Toast.LENGTH_LONG).show();    }    db.close();    break;  case R.id.btn_deleteApi:  db=helper.getWritableDatabase();  //int count2=db.delete(String table,StringwhereClause,String[] whereArgs);  int count2=db.delete(Constant.TABLE_NAME,Constant._ID+"=?",new String[]{"1"});  if(count2&gt;0){     Toast.makeText(MainActivity.this,"插入数据成功!",Toast.LENGTH_LONG).show();    }else{      Toast.makeText(MainActivity.this,"插入数据失败!",Toast.LENGTH_LONG).show();    }  db.close();  break;}</code></pre><pre><code> public int delete(String table,String whereClause,String[] whereArgs){  acquireReference();  try{   SQLiteStatement statement = new SQLiteStatement(this,"DELETE FROM "+table+(!TextUtils.isEmpty(whereClause) ? " WHERE "+whereClause : ""), whereArgs; try{  return statement.executeUpdateDelete();  }finally{   statement.close();  }  }finally{  releaseReference();}</code></pre><h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><ul><li>本文讲了Android开发工程师文集-1 小时学会SQLite，如果您还有更好地理解，欢迎沟通</li></ul><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
      
      
      <categories>
          
          <category> Android开发工程师文集 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Android开发工程师文集 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Android开发的插件Code Generator与LayoutCreator的安装与使用,提升你的开发效率</title>
      <link href="/2018/03/15/1/"/>
      <url>/2018/03/15/1/</url>
      
        <content type="html"><![CDATA[<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>大家好，今天给大家带来<code>Android开发的插件Code Generator与LayoutCreator的安装与使用，提升你的开发效率</code>的概述，希望你们喜欢</p><h2 id="学习目标"><a href="#学习目标" class="headerlink" title="学习目标"></a>学习目标</h2><p>掌握两个插件的安装和使用，能够实现代码生成功能。</p><p>Android Code Generator是一款代码生成的插件，帮助提高app的开发速度，只要打好布局XML文件，就能帮你把Activity/Fragment/Adapter文件生成好。</p><p>而LayoutCreator可以让你在Activity/Fragment中自动生成findViewById等布局相关初始化代码。</p><h2 id="Android-Studio安装插件的方法"><a href="#Android-Studio安装插件的方法" class="headerlink" title="Android Studio安装插件的方法"></a>Android Studio安装插件的方法</h2><p>点击File-&gt;Settings-&gt;plugins，在settings中的Plugins，通过Plugins下载安装，安装完成后要重新启动Android Studio。</p><p>Search in respositories/Browse respositories可以查找到本地没有安装的插件，选择想要安装的插件install，重启Android Studio即可完成安装插件过程，然后如果你还要继续下载就进行查询，最后重新启动Android Studio就行了。</p><h2 id="补充"><a href="#补充" class="headerlink" title="补充"></a>补充</h2><p>Code Generator只会帮你声明带id的控件，当XML中出现文字符时，会报错，我们可以先把encoding改成gbk格式，等生成activity后再把gbk改回utf-8就好了。</p><p>以上就是比较实用的几个插件，如果大家有更好的解决方法，欢迎讨论。</p><h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><ul><li>本文讲了Android开发的插件Code Generator与LayoutCreator的安装与使用，提升你的开发效率，如果您还有更好地理解，欢迎沟通</li></ul><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
      
      
      <categories>
          
          <category> 随笔 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 随笔 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>AndroidStudio制作欢迎界面与应用图标</title>
      <link href="/2018/03/13/1/"/>
      <url>/2018/03/13/1/</url>
      
        <content type="html"><![CDATA[<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>大家好，今天给大家带来<code>AndroidStudio制作欢迎界面与应用图标</code>的概述，希望你们喜欢</p><h2 id="欢迎界面与应用图标"><a href="#欢迎界面与应用图标" class="headerlink" title="欢迎界面与应用图标"></a>欢迎界面与应用图标</h2><p>本项目使用Android Studio 3.0.1作为开发工具</p><h2 id="activity-splash-xml"><a href="#activity-splash-xml" class="headerlink" title="activity_splash.xml"></a>activity_splash.xml</h2><p>创建了一个activity_splash.xml布局文件，为欢迎界面布局，首先修改为 RelativeLayout 布局</p><pre><code>&lt;?xml version="1.0" encoding="utf-8"?&gt;&lt;!--添加一张欢迎界面的背景--&gt;&lt;RelativeLayout    xmlns:android="http://schemas.android.com/apk/res/android"    android:layout_width = "match_parent"    android:layout_height="match_parent"    android:background="@drawable/launch_bg"&gt;    &lt;!--显示版本号--&gt;    &lt;TextView        android:id="@+id/tv_version"        android:layout_width="wrap_content"        android:layout_height="wrap_content"        android:textColor="@android:color/white"        android:textSize="14sp"        android:layout_centerInParent="true"/&gt;&lt;/RelativeLayout&gt;</code></pre><h2 id="SplashActivity-java"><a href="#SplashActivity-java" class="headerlink" title="SplashActivity.java"></a>SplashActivity.java</h2><p>创建 SplashActivity.java 类，欢迎界面实现类</p><pre><code>package cn.edu.gdmec.android.androidstudiodemo;import android.content.Intent;import android.content.pm.ActivityInfo;import android.content.pm.PackageInfo;import android.content.pm.PackageManager;import android.os.Bundle;import android.support.v7.app.AppCompatActivity;import android.widget.TextView;import java.util.Timer;import java.util.TimerTask;public class SplashActivity extends AppCompatActivity{    @Override    protected void onCreate(Bundle savedInstanceState) {        super.onCreate(savedInstanceState);        setContentView(R.layout.activity_splash);        //设置此界面为        // 竖屏        setRequestedOrientation(ActivityInfo.SCREEN_ORIENTATION_PORTRAIT);        init();    }    private void init() {        TextView tv_version = findViewById(R.id.tv_version);        try {            PackageInfo packageInfo = getPackageManager().getPackageInfo(getPackageName(),0);            tv_version.setText("version:"+packageInfo.versionName);        } catch (PackageManager.NameNotFoundException e) {            e.printStackTrace();            tv_version.setText("version");        }        //利用timer让此界面延迟3秒后跳转，timer有一个线程，该线程不断执行task        Timer timer = new Timer();        TimerTask timerTask = new TimerTask() {            @Override            public void run() {                //发送intent实现页面跳转，第一个参数为当前页面的context，第二个参数为要跳转的主页                Intent intent = new Intent(SplashActivity.this,MainActivity.class);                startActivity(intent);                //跳转后关闭当前欢迎页面                SplashActivity.this.finish();            }        };        //调度执行timerTask，第二个参数传入延迟时间（毫秒）        timer.schedule(timerTask,3000);    }}</code></pre><h2 id="AndroidManifest-xml"><a href="#AndroidManifest-xml" class="headerlink" title="AndroidManifest.xml"></a>AndroidManifest.xml</h2><p>在清单文件 AndroidManifest.xml 中配置欢迎界面，将应用入口修改为欢迎界面，再去除 ActionBar 效果</p><pre><code>&lt;?xml version="1.0" encoding="utf-8"?&gt;&lt;manifest xmlns:android="http://schemas.android.com/apk/res/android"    package="cn.edu.gdmec.android.androidstudiodemo"&gt;    &lt;!--原为android:theme="@style/AppTheme"--&gt;    &lt;!--去除ActionBar标题栏--&gt;    &lt;!--添加应用图标，app_icon--&gt;    &lt;application        android:allowBackup="true"        android:icon="@drawable/app_icon"        android:label="@string/app_name"        android:roundIcon="@mipmap/ic_launcher_round"        android:supportsRtl="true"        android:theme="@style/Theme.AppCompat.NoActionBar"&gt;        &lt;activity android:name=".SplashActivity"&gt;            &lt;intent-filter&gt;                &lt;action android:name="android.intent.action.MAIN" /&gt;                &lt;category android:name="android.intent.category.LAUNCHER" /&gt;            &lt;/intent-filter&gt;        &lt;/activity&gt;        &lt;!--添加实现类--&gt;        &lt;activity android:name=".MainActivity"&gt;&lt;/activity&gt;    &lt;/application&gt;&lt;/manifest&gt;</code></pre><h2 id="补充"><a href="#补充" class="headerlink" title="补充"></a>补充</h2><p>该制作过程中有如背景图片的加入，可以自行找相关图片的加入或者独自DIY。其中MainActivity.java和activity_main.xml未做过任何改变。</p><h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><ul><li>本文讲了AndroidStudio制作欢迎界面与应用图标，如果您还有更好地理解，欢迎沟通</li></ul><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
      
      
      <categories>
          
          <category> Android Studio实战练习V2 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Android Studio实战练习V2 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>AndroidStudio制作底部导航栏以及用Fragment实现切换功能</title>
      <link href="/2018/03/12/1/"/>
      <url>/2018/03/12/1/</url>
      
        <content type="html"><![CDATA[<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>大家好，今天给大家带来<code>AndroidStudio制作底部导航栏以及用Fragment实现切换功能</code>的概述，希望你们喜欢</p><h2 id="学习目标"><a href="#学习目标" class="headerlink" title="学习目标"></a>学习目标</h2><p>AndroidStudio制作底部导航栏以及用Fragment实现切换功能，用户点击底部导航栏可以实现三个模块的跳转。</p><h2 id="图片资源"><a href="#图片资源" class="headerlink" title="图片资源"></a>图片资源</h2><p>需要底部导航栏三个点击按钮的图片资源<br>main_button_1.png,main_button_2.png,main_button_3.png</p><p>以及点击变换的图片资源<br>main_button_1_selected.png,<br>main_button_2_selected.png,<br>main_button_3_selected.png.</p><p>以上图片资源都放进drawable文件夹中</p><h2 id="activity-main-布局"><a href="#activity-main-布局" class="headerlink" title="activity_main 布局"></a>activity_main 布局</h2><p>在 MainActivity 页面中主要有两个区域：</p><ul><li>一个是放 Fragment 的 main_body</li><li>一个是放底部导航栏的 main_bottom_bar</li></ul><p>主要的Fragment代码块：</p><pre><code>&lt;LinearLayout        android:orientation="vertical"        android:background="@android:color/white"        android:layout_width="match_parent"        android:layout_height="match_parent"&gt;        &lt;!--标题栏--&gt;        &lt;include layout="@layout/main_title_bar" /&gt;        &lt;!--放置Fragment的main_body--&gt;        &lt;RelativeLayout            android:id="@+id/main_body"            android:background="@android:color/white"            android:layout_width="match_parent"            android:layout_height="match_parent"&gt;        &lt;/RelativeLayout&gt;&lt;/LinearLayout&gt;</code></pre><p>主要的底部导航栏的代码块：</p><pre><code>&lt;!--实现在底部，水平排列按钮--&gt;&lt;LinearLayout     android:id="@+id/main_bottom_bar"     android:layout_alignParentBottom="true"     android:background="#F2F2F2"     android:orientation="horizontal"     android:layout_width="match_parent"     android:layout_height="55dp"&gt;    &lt;RelativeLayout         android:layout_weight="1"         android:id="@+id/bottom_bar_1_btn"         android:layout_width="0dp"         android:layout_height="match_parent"&gt;         &lt;TextView             android:id="@+id/bottom_bar_text_1"             android:layout_width="match_parent"             android:layout_height="wrap_content"             android:layout_alignParentBottom="true"             android:layout_centerHorizontal="true"             android:layout_marginBottom="3dp"             android:gravity="center"             android:singleLine="true"             android:text="button_1"             android:textColor="#666666"             android:textSize="14sp"/&gt;         &lt;ImageView             android:layout_width="27dp"             android:layout_height="27dp"             android:layout_above="@+id/bottom_bar_text_1"             android:layout_alignParentTop="true"             android:layout_centerHorizontal="true"             android:layout_marginTop="3dp"             android:id="@+id/bottom_bar_image_1"             android:src="@drawable/main_button_1"/&gt;     &lt;/RelativeLayout&gt;    ....&lt;!--布局的代码总是繁琐又无聊的，记得要自己补全--&gt;&lt;/LinearLayout&gt;</code></pre><h2 id="实例化控件"><a href="#实例化控件" class="headerlink" title="实例化控件"></a>实例化控件</h2><p>实例化控件一些琐碎的代码：</p><pre><code>//先实例化控件，那我给出自己打的实例化代码//来自main_title_bar.xml    private TextView tv_main_title;//标题    private TextView tv_back;//返回按钮    private RelativeLayout title_bar;//来自activity_main.xml    private RelativeLayout main_body;    private TextView bottom_bar_text_1;    private ImageView bottom_bar_image_1;    ...    private LinearLayout main_bottom_bar;    private RelativeLayout bottom_bar_1_btn;    private RelativeLayout ...;</code></pre><p>然后</p><pre><code>initView();//实例化private void initView(){        //标题显示        tv_back=findViewById(R.id.tv_back);        tv_main_title=findViewById(R.id.tv_main_title);        title_bar=findViewById(R.id.title_bar);        //底部导航栏        main_body=findViewById(R.id.main_body);        bottom_bar_text_1=findViewById(R.id.bottom_bar_text_1);        bottom_bar_image_1=findViewById(R.id.bottom_bar_image_1);        ...        //包含底部 android:id="@+id/main_bottom_bar"        main_bottom_bar=findViewById(R.id.main_bottom_bar);        //private RelativeLayout bottom_bar_1_btn;        bottom_bar_1_btn=findViewById(R.id.bottom_bar_1_btn);        //添加点击事件       bottom_bar_1_btn.setOnClickListener(this);       ...       //技巧       //tv_back.setVisibility(View.GONE);        tv_main_title.setText("课程");        title_bar.setBackgroundColor(Color.parseColor("#30B4FF"));}</code></pre><h2 id="底部导航栏状态的切换方法"><a href="#底部导航栏状态的切换方法" class="headerlink" title="底部导航栏状态的切换方法"></a>底部导航栏状态的切换方法</h2><p>给MainActivity加一个setSelectStatus() 方法，方法里用参数index来判断当前选的按钮</p><p>示例代码</p><pre><code>private void setSelectStatus(int index) {        switch (index){            case 0:              //图片点击选择变换图片，颜色的改变，其他变为原来的颜色，并保持原有的图片              bottom_bar_image_1.setImageResource(R.drawable.main_button_1_selected);              bottom_bar_text_1.setTextColor(Color.parseColor("#0097F7"));              //其他的文本颜色不变              bottom_bar_text_2.setTextColor(Color.parseColor("#666666"));              bottom_bar_text_3.setTextColor(Color.parseColor("#666666"));              //图片也不变              bottom_bar_image_2.setImageResource(R.drawable.main_button_2);              bottom_bar_image_3.setImageResource(R.drawable.main_button_3);             break;            case 1://同理如上             ...             break;            case 2://同理如上             ...             break;  }}</code></pre><h2 id="实现底部导航栏的响应"><a href="#实现底部导航栏的响应" class="headerlink" title="实现底部导航栏的响应"></a>实现底部导航栏的响应</h2><p>导航栏文本颜色和图片切换效果的方法写好了，接下来是点击响应的方法</p><p>给MainActivity加上View.OnClickListener接口</p><p>在生成的 onClick() 方法中加上导航栏区域的响应</p><pre><code>@Override    public void onClick(View v) {        switch (v.getId()){          case R.id.bottom_bar_1_btn:                setSelectStatus(0);                break;          case R.id.bottom_bar_2_btn:                setSelectStatus(1);                break;          case R.id.bottom_bar_3_btn:                setSelectStatus(2);                break;        }}</code></pre><p>别忘了在initView() 中添加监听器</p><pre><code>bottom_bar_1_btn.setOnClickListener(this);</code></pre><h2 id="三个-fragment-的创建"><a href="#三个-fragment-的创建" class="headerlink" title="三个 fragment 的创建"></a>三个 fragment 的创建</h2><p>就是简单的创建三个布局，展现Fragment_1/2/3 即可</p><p>示例代码块</p><pre><code>&lt;?xml version="1.0" encoding="utf-8"?&gt;&lt;LinearLayout    xmlns:android="http://schemas.android.com/apk/res/android"    android:layout_width="match_parent"    android:layout_height="match_parent"    android:background="@android:color/white"&gt;    &lt;TextView        android:text="Fragment_1"        android:textColor="@android:color/black"        android:textSize="50sp"        android:layout_width="wrap_content"        android:layout_height="wrap_content" /&gt;&lt;/LinearLayout&gt;</code></pre><p>然后通过我之前写的插件自动生成三个Fragemnt ，就可以了不用管生成的Fragement_1/2/3.java文件了，<br>插件文章<br>《 <a href="https://www.jianshu.com/p/9d2bf0513443" target="_blank" rel="noopener">Android开发的插件Code Generator与LayoutCreator的安装与使用，提升你的开发效率</a> 》</p><h2 id="三个fragment的显示和切换"><a href="#三个fragment的显示和切换" class="headerlink" title="三个fragment的显示和切换"></a>三个fragment的显示和切换</h2><p>在MainActivity里把AppCompatActivity改为FragmentActivity</p><p>把Fragment加到Activity里的代码<br>通常用这个来展示，但是代码过长，我们来简化一下</p><pre><code>/** FragmentManager manager = getSupportFragmentManager();* FragmentTransaction transaction = manager.beginTransaction();* transaction.add(R.id.main_body,new CourseFragment()).commit();* */</code></pre><p>我们先来添加一个setMain() 方法，来显示打开界面时，显示的初始页面</p><pre><code>/用于打开初始页面 private void setMain() {      //getSupportFragmentManager() -&gt; beginTransaction() -&gt; add -&gt; (R.id.main_boy,显示课程 new CourseFragment()      this.getSupportFragmentManager().beginTransaction().add(R.id.main_body,new CourseFragment()).commit(); }</code></pre><p>上面的代码中可以看到相对来说比较少，那我们就用这个，然后我们来实现点击底部导航栏来切换响应的fragment,我们在onClick()中添加即可。</p><pre><code>case R.id.bottom_bar_1_btn:                //添加                getSupportFragmentManager().beginTransaction().replace(R.id.main_body,new Button_1Fragment()).commit();                setSelectStatus(0);                break;</code></pre><p>如果觉得不错，那就点个赞吧！❤️</p><h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><ul><li>本文讲了AndroidStudio制作底部导航栏以及用Fragment实现切换功能，界面的布局介绍，如果您还有更好地理解，欢迎沟通</li></ul><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
      
      
      <categories>
          
          <category> Android Studio实战练习V2 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Android Studio </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>AndroidStudio项目制作倒计时模块</title>
      <link href="/2018/03/10/1/"/>
      <url>/2018/03/10/1/</url>
      
        <content type="html"><![CDATA[<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>大家好，今天给大家带来<code>AndroidStudio项目制作倒计时模块</code>的概述，希望你们喜欢</p><h2 id="项目难度"><a href="#项目难度" class="headerlink" title="项目难度"></a>项目难度</h2><p>AndroidStudio项目制作倒计时模块的难度，不是很大，就是主要用了<code>Timer</code>和<code>TimerTask</code>这两个，接着就是现实界面的一些基础效果。</p><h2 id="设计界面"><a href="#设计界面" class="headerlink" title="设计界面"></a>设计界面</h2><p>做个倒计时的界面就比较好想了，就如下界面控件</p><ul><li>填写倒计时时间</li><li>获取倒计时时间</li><li>显示倒计时</li><li>开始计时</li><li>停止计时<br>就在自动创建的activity_main.xml中写入代码：<pre><code>&lt;?xml version="1.0" encoding="utf-8"?&gt;&lt;LinearLayout  xmlns:android="http://schemas.android.com/apk/res/android"  xmlns:tools="http://schemas.android.com/tools"  android:layout_width="match_parent"  android:layout_height="match_parent"  android:orientation="vertical"  tools:context="cn.edu.gdmec.android.counttime.MainActivity"&gt;  &lt;!--填写倒计时时间--&gt;  &lt;EditText      android:id="@+id/input"      android:layout_width="wrap_content"      android:layout_height="wrap_content"      android:ems="10"/&gt;  &lt;!--获取倒计时时间--&gt;  &lt;Button      android:id="@+id/get"      android:layout_width="wrap_content"      android:layout_height="wrap_content"      android:text="获取倒计时时间"/&gt;  &lt;!--显示倒计时--&gt;  &lt;TextView      android:id="@+id/time"      android:layout_width="wrap_content"      android:layout_height="wrap_content"      /&gt;  &lt;!--开始计时--&gt;  &lt;Button      android:id="@+id/starttime"      android:layout_width="wrap_content"      android:layout_height="wrap_content"      android:text="开始计时"/&gt;  &lt;!--停止计时--&gt;  &lt;Button      android:id="@+id/stoptime"      android:layout_width="wrap_content"      android:layout_height="wrap_content"      android:text="停止计时"/&gt;&lt;/LinearLayout&gt;</code></pre><h2 id="实现功能需求"><a href="#实现功能需求" class="headerlink" title="实现功能需求"></a>实现功能需求</h2>接下来我们需要在MainActivity.java中现实功能模块需求，主要来显示界面和获取按钮功能效果，代码如下：<pre><code>package cn.edu.gdmec.android.counttime;</code></pre></li></ul><p>import android.os.Handler;<br>import android.os.Message;<br>import android.support.v7.app.AppCompatActivity;<br>import android.os.Bundle;<br>import android.view.View;<br>import android.widget.Button;<br>import android.widget.EditText;<br>import android.widget.TextView;<br>import java.util.Timer;<br>import java.util.TimerTask;</p><p>public class MainActivity extends AppCompatActivity implements View.OnClickListener {<br>    private EditText inputet;<br>    private Button get, startTime, stopTime;<br>    private TextView time;<br>    private int i = 0;<br>    private Timer timer = null;<br>    private TimerTask task = null;</p><pre><code>@Overrideprotected void onCreate(Bundle savedInstanceState) {    super.onCreate(savedInstanceState);    setContentView(R.layout.activity_main);    initView();}private void initView() {    inputet = findViewById(R.id.input);    get = findViewById(R.id.get);    startTime = findViewById(R.id.starttime);    stopTime = findViewById(R.id.stoptime);    time = findViewById(R.id.time);    get.setOnClickListener(this);    startTime.setOnClickListener(this);    stopTime.setOnClickListener(this);}@Overridepublic void onClick(View v) {    switch (v.getId()) {        case R.id.get:            time.setText(inputet.getText().toString());            i = Integer.parseInt(inputet.getText().toString());            break;        case R.id.starttime:            startTime();            break;        case R.id.stoptime:            stopTime();            break;        default:            break;    }}private Handler mHandler = new Handler() {    public void handleMessage(Message msg) {        time.setText(msg.arg1 + "");        startTime();    };};public void startTime() {    timer = new Timer();    task = new TimerTask() {        @Override        public void run() {            if (i &gt; 0) {   //加入判断不能小于0                i--;                Message message = mHandler.obtainMessage();                message.arg1 = i;                mHandler.sendMessage(message);            }        }    };    timer.schedule(task, 1000);}public void stopTime(){    timer.cancel();}</code></pre><p>}</p><pre><code>## 心得重点</code></pre><p>//获取的按钮实现：<br>time.setText(inputet.getText().toString());<br>i = Integer.parseInt(inputet.getText().toString());<br>//Handler的加入<br>private Handler mHandler = new Handler() {<br>        public void handleMessage(Message msg) {<br>            time.setText(msg.arg1 + “”);<br>            startTime();<br>        };<br>    };<br>//倒计时主要核心<br>public void startTime() {<br>        timer = new Timer();<br>        task = new TimerTask() {</p><pre><code>        @Override        public void run() {            if (i &gt; 0) {   //加入判断不能小于0                i--;                Message message = mHandler.obtainMessage();                message.arg1 = i;                mHandler.sendMessage(message);            }        }    };    timer.schedule(task, 1000);}</code></pre><pre><code>## 总结- 本文讲了AndroidStudio项目制作倒计时模块，如果您还有更好地理解，欢迎沟通</code></pre><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
      
      
      <categories>
          
          <category> Android项目开发实战 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Android项目开发实战 </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
